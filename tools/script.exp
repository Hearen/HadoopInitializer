#!/usr/bin/expect -f
#
# This Expect script was generated by autoexpect on Fri Dec 30 20:04:04 2016
# Expect and autoexpect were both written by Don Libes, NIST.
#
# Note that autoexpect does not guarantee a working script.  It
# necessarily has to guess about certain things.  Two reasons a script
# might fail are:
#
# 1) timing - A surprising number of programs (rn, ksh, zsh, telnet,
# etc.) and devices discard or ignore keystrokes that arrive "too
# quickly" after prompts.  If you find your new script hanging up at
# one spot, try adding a short sleep just before the previous send.
# Setting "force_conservative" to 1 (see below) makes Expect do this
# automatically - pausing briefly before sending each character.  This
# pacifies every program I know of.  The -c flag makes the script do
# this in the first place.  The -C flag allows you to define a
# character to toggle this mode off and on.

set force_conservative 0  ;# set to 1 to force conservative mode even if
			  ;# script wasn't run conservatively originally
if {$force_conservative} {
	set send_slow {1 .1}
	proc send {ignore arg} {
		sleep .1
		exp_send -s -- $arg
	}
}

#
# 2) differing output - Some programs produce different output each time
# they run.  The "date" command is an obvious example.  Another is
# ftp, if it produces throughput statistics at the end of a file
# transfer.  If this causes a problem, delete these patterns or replace
# them with wildcards.  An alternative is to use the -p flag (for
# "prompt") which makes Expect only look for the last line of output
# (i.e., the prompt).  The -P flag allows you to define a character to
# toggle this mode off and on.
#
# Read the man page for more info.
#
# -Don


set timeout -1
spawn $env(SHELL)
match_max 100000
expect -exact "\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[?1034h\[root@hadoop-slave2 tools\]# "
send -- "ssh hadoop@133.133.131.18 \"ssh-keygen\""
expect -exact "ssh hadoop@133.133.131.18 \"ssh-keygen\""
send -- "\r"
expect -exact "\r
hadoop@133.133.131.18's password: "
send -- "oonceonceas\r"
expect -exact "\r
Permission denied, please try again.\r\r
hadoop@133.133.131.18's password: "
send -- "onceas\r"
expect -exact "\r
Enter file in which to save the key (/home/hadoop/.ssh/id_rsa): "
send -- "\r"
expect -exact "\r
Enter passphrase (empty for no passphrase): "
send -- "\r"
expect -exact "\r
Enter same passphrase again: "
send -- "\r"
expect -exact "\r
Generating public/private rsa key pair.\r
Created directory '/home/hadoop/.ssh'.\r
Your identification has been saved in /home/hadoop/.ssh/id_rsa.\r
Your public key has been saved in /home/hadoop/.ssh/id_rsa.pub.\r
The key fingerprint is:\r
72:e2:be:03:fa:a2:4b:14:a2:ca:ce:a2:e2:ac:98:98 hadoop@hadoop-slave3\r
The key's randomart image is:\r
+--\[ RSA 2048\]----+\r
|                 |\r
|                 |\r
|..               |\r
|o .              |\r
|..    o S        |\r
|+   .. +         |\r
|.o . ..          |\r
|Xoo  ..          |\r
|EB o. oo         |\r
+-----------------+\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\""
expect -exact "ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.p \rub hadoop@133.133.135.34\""
send -- "\r"
expect -exact "\r
hadoop@133.133.131.18's password: "
send -- "onceas\r"
expect -exact "\r
The authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\r
ECDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\r
Are you sure you want to continue connecting (yes/no)? "
send -- "yes\r"
expect -exact "yes\r
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\r
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\r
hadoop@133.133.135.34's password: "
send -- "onceas\r"
expect -exact "\r
\r
Number of key(s) added: 1\r
\r
Now try logging into the machine, with:   \"ssh 'hadoop@133.133.135.34'\"\r
and check to make sure that only the key(s) you wanted were added.\r
\r
Connection to 133.133.131.18 closed.\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "ls\r"
expect -exact "ls\r
\[0m\[01;32madd_user.exp\[0m                      \[01;32mjava_installer.sh\[0m\r
\[01;32madd_user.sh\[0m                       \[01;32mlogin.sh\[0m\r
\[01;32mcenter_displayer.sh\[0m               \[01;32mlogout.sh\[0m\r
\[01;32mcgroup_configurer.sh\[0m              \[01;32mnetwork_checker.sh\[0m\r
\[01;32mclear_walls.sh\[0m                    \[01;32mpackage_installed_checker.sh\[0m\r
\[01;32mcopy_ssh_key.exp\[0m                  \[01;32mpwd_free_ssh_generator.exp\[0m\r
\[01;32mdistance_checker.sh\[0m               \[01;32mremote_directory_checker.sh\[0m\r
\[01;32mgit_initilizer.sh\[0m                 \[01;32mroot_checker.sh\[0m\r
\[01;32mhadoop_installer.sh\[0m               \[01;32mscript.exp\[0m\r
\[01;32mhadoop_remote_configurer.sh\[0m       \[01;32mssh_login_pwd_freer.exp\[0m\r
\[01;32mhighlighter.sh\[0m                    \[01;32mssh_login_pwd_freer.sh\[0m\r
\[01;32mhostname_editor.sh\[0m                \[01;32mtest.exp\[0m\r
\[01;32mip_checker.sh\[0m                     \[01;32mtraffic_controller.sh\[0m\r
\[01;32mjava_checker.sh\[0m                   \[01;32mtransfer.sh\[0m\r
\[01;32mjava_hadoop_cluster_installer.sh\[0m  \[01;32muser_checker.sh\[0m\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "vim sc	"
expect -exact "ript.exp "
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"script.exp\" \[noeol\] 108L, 4096C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect -f\[m\r
\[1m\[33m  2 \[m\[1m\[36m#\[m\r
\[1m\[33m  3 \[m\[1m\[36m# This Expect script was generated by autoexpect on Fri Dec 30 20:04:04 2016\[m\r
\[1m\[33m  4 \[m\[1m\[36m# Expect and autoexpect were both written by Don Libes, NIST.\[m\r
\[1m\[33m  5 \[m\[1m\[36m#\[m\r
\[1m\[33m  6 \[m\[1m\[36m# Note that autoexpect does not guarantee a working script.  It\[m\r
\[1m\[33m  7 \[m\[1m\[36m# necessarily has to guess about certain things.  Two reasons a script\[m\r
\[1m\[33m  8 \[m\[1m\[36m# might fail are:\[m\r
\[1m\[33m  9 \[m\[1m\[36m#\[m\r
\[1m\[33m 10 \[m\[1m\[36m# 1) timing - A surprising number of programs (rn, ksh, zsh, telnet,\[m\r
\[1m\[33m 11 \[m\[1m\[36m# etc.) and devices discard or ignore keystrokes that arrive \"too\[m\r
\[1m\[33m 12 \[m\[1m\[36m# quickly\" after prompts.  If you find your new script hanging up at\[m\r
\[1m\[33m 13 \[m\[1m\[36m# one spot, try adding a short sleep just before the previous send.\[m\r
\[1m\[33m 14 \[m\[1m\[36m# Setting \"force_conservative\" to 1 (see below) makes Expect do this\[m\r
\[1m\[33m 15 \[m\[1m\[36m# automatically - pausing briefly before sending each character.  This\[m\r
\[1m\[33m 16 \[m\[1m\[36m# pacifies every program I know of.  The -c flag makes the script do\[m\r
\[1m\[33m 17 \[m\[1m\[36m# this in the first place.  The -C flag allows you to define a\[m\r
\[1m\[33m 18 \[m\[1m\[36m# character to toggle this mode off and on.\[m\r
\[1m\[33m 19 \r
 20 \[mset force_conservative 0  ;\[1m\[36m# set to 1 to force conservative mode even if\[m\r
\[1m\[33m 21 \[m\[14C;\[1m\[36m# script wasn't run conservatively originally\[m\r
\[1m\[33m 22 \[mif {\[1m\[31m\$force_conservative\[m} {\r
\[1m\[33m 23 \[m    set send_slow {1 .1}\r
\[1m\[33m 24 \[m    proc \[1m\[33msend\[m {ignore arg} {\r
\[1m\[33m 25 \[8Csleep\[m .1\r
\[1m\[33m 26 \[m\[8Cexp_send -s -- \[1m\[31m\$arg\[m\r
\[1m\[33m 27 \[m    }\r
\[1m\[33m 28 \[m}\r
\[1m\[33m 29 \r
 30 \[m\[1m\[36m#\[m\r
\[1m\[33m 31 \[m\[1m\[36m# 2) differing output - Some programs produce different output each time\[m\r
\[1m\[33m 32 \[m\[1m\[36m# they run.  The \"date\" command is an obvious example.  Another is\[m\r
\[1m\[33m 33 \[m\[1m\[36m# ftp, if it produces throughput statistics at the end of a file\[m\r
\[1m\[33m 34 \[m\[1m\[36m# transfer.  If this causes a problem, delete these patterns or replace\[m\r
\[1m\[33m 35 \[m\[1m\[36m# them with wildcards.  An alternative is to use the -p flag (for\[m\r
\[1m\[33m 36 \[m\[1m\[36m# \"prompt\") which makes Expect only look for the last line of output\[m\r
\[1m\[33m 37 \[m\[1m\[36m# (i.e., the prompt).  The -P flag allows you to define a character to\[m\r
\[1m\[33m 38 \[m\[1m\[36m# toggle this mode off and on.\[m\r
\[1m\[33m 39 \[m\[1m\[36m#\[m\r
\[1m\[33m 40 \[m\[1m\[36m# Read the man page for more info.\[m\r
\[1m\[33m 41 \[m\[1m\[36m#\[m\r
\[1m\[33m 42 \[m\[1m\[36m# -Don\[m\r
\[1m\[33m 43 \r
 44 \r
 45 \[mset timeout -1\r
\[1m\[33m 46 spawn\[m \[1m\[31m\$env\[m(SHELL)\r
\[1m\[33m 47 match_max\[m 100000\r
\[1m\[33m 48 expect\[m -exact \"\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G^\[\[m\[1m\[31m\\\[\[m?11\[49;1H\[1m\[33m    \[m034h\[1m\[31m\\\[\[mroot@hadoop-slave2 tools\[1m\[31m\\\]\[m# \"\r
\[1m\[33m 49 send\[m -- \"ssh hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-keygen\[1m\[31m\\\"\[m\"\r
\[1m\[33m 50 expect\[m -exact \"ssh hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-keygen\[1m\[31m\\\"\[m\"\r
\[1m\[7mscript.exp                                                            1,1            Top\[1;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[1;5H\[53;80H\[\[1;5H\[53;81H>\[1;5H\[?12l\[?25h\[?25l\[53;78H    \[1;5H\[53;78H^\[\[1;5H\[53;80H\[\[1;5H\[53;81H>\[1;5H\[53;82H0\[1;5H\[?12l\[?25h\[?25l\[53;78H     \[1;5H\[53;78H^\[\[1;5H\[53;80H\[\[1;5H\[53;81H>\[1;5H\[53;82H0\[1;5H\[53;83H;\[1;5H\[53;84H1\[1;5H\[?12l\[?25h\[?25l\[53;78H       \[1;5H\[53;78H^\[\[1;5H\[53;80H\[\[1;5H\[53;81H>\[1;5H\[53;82H0\[1;5H\[53;83H;\[1;5H\[53;84H1\[1;5H\[53;85H3\[1;5H\[?12l\[?25h\[?25l\[53;78H        \[1;5H\[53;78H^\[\[1;5H\[53;80H\[\[1;5H\[53;81H>\[1;5H\[53;82H0\[1;5H\[53;83H;\[1;5H\[53;84H1\[1;5H\[53;85H3\[1;5H\[53;86H6\[1;5H\[?12l\[?25h\[?25l\[53;78H         \[1;5H\[53;78H^\[\[1;5H\[53;80H\[\[1;5H\[53;81H>\[1;5H\[53;82H0\[1;5H\[53;83H;\[1;5H\[53;84H1\[1;5H\[53;85H3\[1;5H\[53;86H6\[1;5H\[53;87H;\[1;5H\[53;78H\[\[>0;136;0\[1;5H\[?12l\[?25h\[?25l\[53;78H          \[1;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[1;5H\[53;78H \[2;5H\[52;71H\[1m\[7m2,\[2;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[2;5H\[53;78H \[3;5H\[52;71H\[1m\[7m3,\[3;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[3;5H\[53;78H \[4;5H\[52;71H\[1m\[7m4,\[4;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[4;5H\[53;78H \[5;5H\[52;71H\[1m\[7m5,\[5;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[5;5H\[53;78H \[6;5H\[52;71H\[1m\[7m6,\[6;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[6;5H\[53;78H \[7;5H\[52;71H\[1m\[7m7,\[7;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[7;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,\[8;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[8;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,\[9;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[9;5H\[53;78H \[10;5H\[52;71H\[1m\[7m10,1\[10;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[10;5H\[53;78H \[11;5H\[52;72H\[1m\[7m1,\[11;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[11;5H\[53;78H \[12;5H\[52;72H\[1m\[7m2,\[12;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[12;5H\[53;78H \[13;5H\[52;72H\[1m\[7m3,\[13;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[13;5H\[53;78H \[14;5H\[52;72H\[1m\[7m4,\[14;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[14;5H\[53;78H \[15;5H\[52;72H\[1m\[7m5,\[15;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[15;5H\[53;78H \[16;5H\[52;72H\[1m\[7m6,\[16;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[16;5H\[53;78H \[17;5H\[52;72H\[1m\[7m7,\[17;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[17;5H\[53;78H \[18;5H\[52;72H\[1m\[7m8,\[18;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[18;5H\[53;78H \[19;5H\[52;72H\[1m\[7m9,0-1\[19;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[19;5H\[53;78H \[20;5H\[52;71H\[1m\[7m20,1   \[20;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;5H\[53;78H \[21;8H\[52;72H\[1m\[7m1,1-4\[21;8H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;8H\[53;78H \[22;5H\[52;72H\[1m\[7m2,1   \[22;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[22;5H\[53;78H \[23;8H\[52;72H\[1m\[7m3,1-4\[23;8H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;8H\[53;78H \[24;8H\[52;72H\[1m\[7m4,\[24;8H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[24;8H\[53;78H \[25;8H\[52;72H\[1m\[7m5,\[25;8H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;8H\[53;78H \[26;8H\[52;72H\[1m\[7m6,\[26;8H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;8H\[53;78H \[27;8H\[52;72H\[1m\[7m7,\[27;8H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[27;8H\[53;78H \[28;5H\[22;30H\[46m{\[28;5H}\[m\[52;72H\[1m\[7m8,1   \[28;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[28;5H\[53;78H \[29;5H\[22;30H{\[28;5H}\[52;72H\[1m\[7m9,0-1\[29;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[29;5H\[53;78H \[30;5H\[52;71H\[1m\[7m30,1   \[30;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[30;5H\[53;78H \[31;5H\[52;72H\[1m\[7m1,\[31;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[31;5H\[53;78H \[32;5H\[52;72H\[1m\[7m2,\[32;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[32;5H\[53;78H \[33;5H\[52;72H\[1m\[7m3,\[33;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[33;5H\[53;78H \[34;5H\[52;72H\[1m\[7m4,\[34;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[34;5H\[53;78H \[35;5H\[52;72H\[1m\[7m5,\[35;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[35;5H\[53;78H \[36;5H\[52;72H\[1m\[7m6,\[36;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[36;5H\[53;78H \[37;5H\[52;72H\[1m\[7m7,\[37;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[37;5H\[53;78H \[38;5H\[52;72H\[1m\[7m8,\[38;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[38;5H\[53;78H \[39;5H\[52;72H\[1m\[7m9,\[39;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[39;5H\[53;78H \[40;5H\[52;71H\[1m\[7m40,\[40;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[40;5H\[53;78H \[41;5H\[52;72H\[1m\[7m1,\[41;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[41;5H\[53;78H \[42;5H\[52;72H\[1m\[7m2,\[42;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[42;5H\[53;78H \[43;5H\[52;72H\[1m\[7m3,0-1\[43;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[43;5H\[53;78H \[44;5H\[52;72H\[1m\[7m4,\[44;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[44;5H\[53;78H \[45;5H\[52;72H\[1m\[7m5,1   \[45;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[45;5H\[53;78H \[46;5H\[52;72H\[1m\[7m6,\[46;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[46;5H\[53;78H \[47;5H\[52;72H\[1m\[7m7,\[47;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[47;5H\[53;78H \[48;5H\[52;72H\[1m\[7m8,\[48;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[48;5H\[53;78H \[50;5H\[52;72H\[1m\[7m9,\[50;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;5H\[53;78H \[51;5H\[52;71H\[1m\[7m50,\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 51 send\[m -- \"\[1m\[31m\\r\[m\"\[53;1H\[K\[52;72H\[1m\[7m1,\[12C 1%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 52 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m2,\[13C3%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 53 \[mhadoop@133.133.131.18's password: \"\[52;72H\[1m\[7m3,\[13C5%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 54 send\[m -- \"o\[1m\[34m^H\[monceonceas\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m4,\[13C6%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 55 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m5,\[13C8%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 56 \[mPermission denied, please try again.\[1m\[31m\\r\\r\[m\[52;72H\[1m\[7m6,\[12C10%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 57 \[mhadoop@133.133.131.18's password: \"\[52;72H\[1m\[7m7,\[13C2%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 58 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m8,\[13C3%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 59 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m9,\[13C5%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 60 \[mEnter file in which to save the key (/home/hadoop/.ssh/id_rsa): \"\[52;71H\[1m\[7m60,\[13C7%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 61 send\[m -- \"\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m1,\[13C8%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 62 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m2,\[12C20%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 63 \[mEnter passphrase (empty for no passphrase): \"\[52;72H\[1m\[7m3,\[13C2%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 64 send\[m -- \"\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m4,\[13C4%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 65 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m5,\[13C5%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 66 \[mEnter same passphrase again: \"\[52;72H\[1m\[7m6,\[13C7%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 67 send\[m -- \"\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m7,\[13C9%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 68 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m8,\[12C31%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 69 \[mGenerating public/private rsa key pair.\[1m\[31m\\r\[m\[52;72H\[1m\[7m9,\[13C2%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 70 \[mCreated directory '/home/hadoop/.ssh'.\[1m\[31m\\r\[m\[52;71H\[1m\[7m70,\[13C4%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 71 \[mYour identification has been saved in /home/hadoop/.ssh/id_rsa.\[1m\[31m\\r\[m\[52;72H\[1m\[7m1,\[13C6%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 72 \[mYour public key has been saved in /home/hadoop/.ssh/id_rsa.pub.\[1m\[31m\\r\[m\[52;72H\[1m\[7m2,\[13C7%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 73 \[mThe key fingerprint is:\[1m\[31m\\r\[m\[52;72H\[1m\[7m3,\[13C9%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 74 \[m72:e2:be:03:fa:a2:4b:14:a2:ca:ce:a2:e2:ac:98:98 hadoop@hadoop-slave3\[1m\[31m\\r\[m\[52;72H\[1m\[7m4,\[12C41%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 75 \[mThe key's randomart image is:\[1m\[31m\\r\[m\[52;72H\[1m\[7m5,\[13C3%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 76 \[m+--\[1m\[31m\\\[\[m RSA 2048\[1m\[31m\\\]\[m----+\[1m\[31m\\r\[m\[52;72H\[1m\[7m6,\[13C4%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 77 \[m|\[17C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m7,\[13C6%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 78 \[m|\[17C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m8,\[13C8%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 79 \[m|..\[15C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m9,\[12C50%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 80 \[m|o .\[14C|\[1m\[31m\\r\[m\[52;71H\[1m\[7m80,\[13C1%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 81 \[m|..    o S\[8C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m1,\[13C3%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 82 \[m|+   .. +\[9C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m2,\[13C5%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 83 \[m|.o . ..\[10C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m3,\[13C6%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 84 \[m|Xoo  ..\[10C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m4,\[13C8%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 85 \[m|EB o. oo\[9C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m5,\[12C60%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 86 \[m+-----------------+\[1m\[31m\\r\[m\[52;72H\[1m\[7m6,\[13C2%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[50;5H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m 87 \[m\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\[1m\[31m\\\[\[mroot@hadoop-slave2  \[51;1H\[1m\[33m    \[mtools\[1m\[31m\\\]\[m# \"\[52;72H\[1m\[7m7,\[13C4%\[50;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;5H\[53;78H \[50;5H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m 88 send\[m -- \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133..\[51;1H\[1m\[33m    \[m133.135.34\[1m\[31m\\\"\[m\"\[52;72H\[1m\[7m8,\[13C6%\[50;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;5H\[53;78H \[50;5H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m 89 expect\[m -exact \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.p \[1m\[31m\\r\[mub haa\[51;1H\[1m\[33m    \[mdoop@133.133.135.34\[1m\[31m\\\"\[m\"\[52;72H\[1m\[7m9,\[13C8%\[50;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 90 send\[m -- \"\[1m\[31m\\r\[m\"\[52;71H\[1m\[7m90,\[12C70%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 91 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m1,\[13C2%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 92 \[mhadoop@133.133.131.18's password: \"\[52;72H\[1m\[7m2,\[13C3%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 93 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m3,\[13C5%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 94 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m4,\[13C7%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[50;5H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m 95 \[mThe authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\[1m\[31m\\r\[m\r
\[1m\[33m 96 \[mECDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\[1m\[31m\\r\[m\[52;72H\[1m\[7m5,\[12C80%\[50;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;5H\[53;78H \[51;5H\[52;72H\[1m\[7m6,\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 97 \[mAre you sure you want to continue connecting (yes/no)? \"\[52;72H\[1m\[7m7,\[13C1%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 98 send\[m -- \"yes\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m8,\[13C3%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 99 expect\[m -exact \"yes\[1m\[31m\\r\[m\[52;72H\[1m\[7m9,\[13C5%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[50;5H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m100 \[m/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out  \[51;1H\[1m\[33m    \[many that are already installed\[1m\[31m\\r\[m\[52;71H\[1m\[7m100,1\[11C6%\[50;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;5H\[53;78H \[50;5H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m101 \[m/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted nn\[51;1H\[1m\[33m    \[mow it is to install the new keys\[1m\[31m\\r\[m\[52;73H\[1m\[7m1,\[12C8%\[50;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m102 \[mhadoop@133.133.135.34's password: \"\[52;73H\[1m\[7m2,\[11C90%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m103 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[52;73H\[1m\[7m3,\[12C1%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m104 expect\[m -exact \"\[1m\[31m\\r\[m\[52;73H\[1m\[7m4,\[12C3%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m105 \[m\[1m\[31m\\r\[m\[52;73H\[1m\[7m5,\[12C5%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m106 \[mNumber of key(s) added: 1\[1m\[31m\\r\[m\[52;73H\[1m\[7m6,\[12C6%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m107 \[m\[1m\[31m\\r\[m\[52;73H\[1m\[7m7,\[12C8%\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m108 \[mNow try logging into the machine, with:   \[1m\[31m\\\"\[mssh 'hadoop@133.133.\[52;73H\[1m\[7m8,\[11CBot\[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;5H\[53;78H \[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[51;5H\[53;78H \[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[51;5H\[53;78H \[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[51;5H\[53;78H \[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[51;5H\[53;78H \[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[51;5H\[53;78H \[51;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[51;5H\[53;78H \[51;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[51;5H\[53;78H \[50;5H\[52;73H\[1m\[7m7,\[50;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[50;5H\[53;78H \[49;5H\[52;73H\[1m\[7m6,\[49;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[49;5H\[53;78H \[48;5H\[52;73H\[1m\[7m5,\[48;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[48;5H\[53;78H \[47;5H\[52;73H\[1m\[7m4,\[47;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[47;5H\[53;78H \[46;5H\[52;73H\[1m\[7m3,\[46;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[46;5H\[53;78H \[45;5H\[52;73H\[1m\[7m2,\[45;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[45;5H\[53;78H \[43;5H\[52;73H\[1m\[7m1,\[43;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[43;5H\[53;78H \[41;5H\[52;73H\[1m\[7m0,\[41;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[41;5H\[53;78H \[40;5H\[52;71H\[1m\[7m99,1  \[40;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[40;5H\[53;78H \[39;5H\[52;72H\[1m\[7m8,\[39;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[39;5H\[53;78H \[38;5H\[52;72H\[1m\[7m7,\[38;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[38;5H\[53;78H \[37;5H\[52;72H\[1m\[7m6,\[37;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[37;5H\[53;78H \[36;5H\[52;72H\[1m\[7m5,\[36;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[36;5H\[53;78H \[35;5H\[52;72H\[1m\[7m4,\[35;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[35;5H\[53;78H \[34;5H\[52;72H\[1m\[7m3,\[34;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[34;5H\[53;78H \[33;5H\[52;72H\[1m\[7m2,\[33;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[33;5H\[53;78H \[32;5H\[52;72H\[1m\[7m1,\[32;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[32;5H\[53;78H \[31;5H\[52;72H\[1m\[7m0,\[31;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[31;5H\[53;78H \[29;5H\[52;71H\[1m\[7m89,\[29;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[29;5H\[53;78H \[27;5H\[52;72H\[1m\[7m8,\[27;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[27;5H\[53;78H \[25;5H\[52;72H\[1m\[7m7,\[25;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;5H\[53;78H \[27;5H\[52;72H\[1m\[7m8,\[27;5H\[?12l\[?25h"
send -- "V"
expect -exact "\[?25l\[m\[53;78HV\[27;5H\[53;78H1\[27;5H\[1C\[1m\[7m\[33mend\[m\[7m -- \"ssh -t hadoop@133.133.131.18 \[m\[1m\[7m\[31m\\\"\[m\[7mssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133..\[m\[28;1H\[1m\[33m \[m\[3C\[7m133.135.34\[m\[1m\[7m\[31m\\\"\[m\[7m\" \[m\[53;1H\[1m-- VISUAL LINE --\[m\[53;78H\[K\[53;78H1\[27;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[27;5H\[53;78H2\[29;5H\[27;5H\[1m\[7m\[33msend\[m\[7m \[78C..\[m\[28;1H\[1m\[33m \[m\[29;6H\[1m\[7m\[33mxpect\[m\[7m -exact \"ssh -t hadoop@133.133.131.18 \[m\[1m\[7m\[31m\\\"\[m\[7mssh-copy-id -i ~/.ssh/id_rsa.p \[m\[1m\[7m\[31m\\r\[m\[7mub haa\[m\[30;1H\[1m\[33m \[m\[3C\[7mdoop@133.133.135.34\[m\[1m\[7m\[31m\\\"\[m\[7m\" \[m\[52;72H\[1m\[7m9,\[29;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[29;5H\[53;78H3\[31;5H\[29;5H\[1m\[7m\[33mexpect\[m\[7m \[76Caa\[m\[30;1H\[1m\[33m \[m\[31;6H\[1m\[7m\[33mend\[m\[7m -- \"\[m\[1m\[7m\[31m\\r\[m\[7m\" \[m\[52;71H\[1m\[7m90,\[31;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[31;5H\[53;78H4\[32;5H\[31;5H\[1m\[7m\[33msend\[m\[7m \[m\[32;6H\[1m\[7m\[33mxpect\[m\[7m -exact \"\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[52;72H\[1m\[7m1,\[32;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[32;5H\[53;78H5\[33;5H\[32;5H\[1m\[7m\[33mexpect\[m\[7m \[33;6Hadoop@133.133.131.18's password: \" \[m\[52;72H\[1m\[7m2,\[33;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[33;5H\[53;78H6\[34;5H\[33;5H\[7mh\[m\[34;6H\[1m\[7m\[33mend\[m\[7m -- \"onceas\[m\[1m\[7m\[31m\\r\[m\[7m\" \[m\[52;72H\[1m\[7m3,\[34;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[34;5H\[53;78H7\[35;5H\[34;5H\[1m\[7m\[33msend\[m\[7m \[m\[35;6H\[1m\[7m\[33mxpect\[m\[7m -exact \"\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[52;72H\[1m\[7m4,\[35;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[35;5H\[53;78H8\[36;5H\[35;5H\[1m\[7m\[33mexpect\[m\[7m \[36;6Hhe authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[52;72H\[1m\[7m5,\[36;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[36;5H\[53;78H9\[37;5H\[36;5H\[7mT\[37;6HCDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[52;72H\[1m\[7m6,\[37;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[37;5H\[53;78H10\[38;5H\[37;5H\[7mE\[38;6Hre you sure you want to continue connecting (yes/no)? \" \[m\[52;72H\[1m\[7m7,\[38;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj \[38;5H\[53;78H11\[39;5H\[38;5H\[7mA\[m\[39;6H\[1m\[7m\[33mend\[m\[7m -- \"yes\[m\[1m\[7m\[31m\\r\[m\[7m\" \[m\[52;72H\[1m\[7m8,\[39;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj \[39;5H\[53;78H12\[40;5H\[39;5H\[1m\[7m\[33msend\[m\[7m \[m\[40;6H\[1m\[7m\[33mxpect\[m\[7m -exact \"yes\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[52;72H\[1m\[7m9,\[40;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj \[40;5H\[53;78H13\[41;5H\[40;5H\[1m\[7m\[33mexpect\[m\[7m \[41;6Husr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out  \[m\[42;1H\[1m\[33m \[m\[3C\[7many that are already installed\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[52;71H\[1m\[7m100,1\[41;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj \[41;5H\[53;78H14\[43;5H\[41;5H\[7m/\[82C  \[m\[42;1H\[1m\[33m \[m\[43;6H\[7musr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted nn\[m\[44;1H\[1m\[33m \[m\[3C\[7mow it is to install the new keys\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[52;73H\[1m\[7m1,\[43;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj \[43;5H\[53;78H15\[45;5H\[43;5H\[7m/\[82Cnn\[m\[44;1H\[1m\[33m \[m\[45;6H\[7madoop@133.133.135.34's password: \" \[m\[52;73H\[1m\[7m2,\[45;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj \[45;5H\[53;78H16\[46;5H\[45;5H\[7mh\[m\[46;6H\[1m\[7m\[33mend\[m\[7m -- \"onceas\[m\[1m\[7m\[31m\\r\[m\[7m\" \[m\[52;73H\[1m\[7m3,\[46;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj \[46;5H\[53;78H17\[47;5H\[46;5H\[1m\[7m\[33msend\[m\[7m \[m\[47;6H\[1m\[7m\[33mxpect\[m\[7m -exact \"\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[52;73H\[1m\[7m4,\[47;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj \[47;5H\[53;78H18\[48;5H\[47;5H\[1m\[7m\[33mexpect\[m\[7m \[m\[48;6H\[1m\[7m\[31mr\[m\[7m \[m\[52;73H\[1m\[7m5,\[48;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj \[48;5H\[53;78H19\[49;5H\[48;5H\[1m\[7m\[31m\\r\[m\[7m \[49;6Humber of key(s) added: 1\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[52;73H\[1m\[7m6,\[49;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj \[49;5H\[53;78H20\[50;5H\[49;5H\[7mN\[m\[50;6H\[1m\[7m\[31mr\[m\[7m \[m\[52;73H\[1m\[7m7,\[50;5H\[?12l\[?25h"
send -- "y"
expect -exact "\[?25l\[m\[53;78Hy \[50;5H\[27;5H\[1m\[33msend\[m -- \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133..\[28;1H\[1m\[33m \[m\[3C133.135.34\[1m\[31m\\\"\[m\"\[28;18H\[K\[29;5H\[1m\[33mexpect\[m -exact \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.p \[1m\[31m\\r\[mub haa\[30;1H\[1m\[33m \[m\[3Cdoop@133.133.135.34\[1m\[31m\\\"\[m\"\[30;27H\[K\[31;5H\[1m\[33msend\[m -- \"\[1m\[31m\\r\[m\"\[31;17H\[K\[32;5H\[1m\[33mexpect\[m -exact \"\[1m\[31m\\r\[m\[32;22H\[K\[33;5Hhadoop@133.133.131.18's password: \"\[33;40H\[K\[34;5H\[1m\[33msend\[m -- \"onceas\[1m\[31m\\r\[m\"\[34;23H\[K\[35;5H\[1m\[33mexpect\[m -exact \"\[1m\[31m\\r\[m\[35;22H\[K\[36;5HThe authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\[1m\[31m\\r\[m\[36;87H\[K\[37;5HECDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\[1m\[31m\\r\[m\[37;80H\[K\[38;5HAre you sure you want to continue connecting (yes/no)? \"\[38;61H\[K\[39;5H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[39;20H\[K\[40;5H\[1m\[33mexpect\[m -exact \"yes\[1m\[31m\\r\[m\[40;25H\[K\[41;5H/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out  \[42;1H\[1m\[33m \[m\[3Cany that are already installed\[1m\[31m\\r\[m\[42;37H\[K\[43;5H/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted nn\[44;1H\[1m\[33m \[m\[3Cow it is to install the new keys\[1m\[31m\\r\[m\[44;39H\[K\[45;5Hhadoop@133.133.135.34's password: \"\[45;40H\[K\[46;5H\[1m\[33msend\[m -- \"onceas\[1m\[31m\\r\[m\"\[46;23H\[K\[47;5H\[1m\[33mexpect\[m -exact \"\[1m\[31m\\r\[m\[47;22H\[K\[48;5H\[1m\[31m\\r\[m\[48;7H\[K\[49;5HNumber of key(s) added: 1\[1m\[31m\\r\[m\[49;32H\[K\[50;6H\[1m\[31mr\[m\[50;7H\[K\[53;1H\[K\[53;1H20 lines yanked\[27;5H\[52;71H\[1m\[7m88,1  \[27;5H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[27;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "e"
expect -exact "e\[?25l\[?12l\[?25h"
send -- " "
expect -exact "\[?25l \[?12l\[?25h"
send -- "c"
expect -exact "c\[?25l\[?12l\[?25h"
send -- "o"
expect -exact "o\[?25l\[?12l\[?25h"
send -- "p"
expect -exact "p\[?25l\[?12l\[?25h"
send -- "	"
expect -exact "...\[?25ly_ssh_key.exp\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\"copy_ssh_key.exp\" 29L, 643C\[1;2H\[1m\[33m 1 \[m\[1m\[34m#!/usr/bin/expect\[m\[1;22H\[K\[2;2H\[1m\[33m 2 \[m\[2;5H\[K\[3;2H\[1m\[33m 3 exp_internal\[m 1\[3;19H\[K\[4;2H\[1m\[33m 4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\[5;2H\[1m\[33m 5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\[6;2H\[1m\[33m 6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\[7;2H\[1m\[33m 7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\[7;32H\[K\[8;2H\[1m\[33m 8 \[m\[8;5H\[K\[9;2H\[1m\[33m 9 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[10;1H\[1m\[33m    \[m\"\[10;6H\[K\[11;2H\[1m\[33m10 expect\[m {\[11;13H\[K\[12;2H\[1m\[33m11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[12;64H\[K\[13;2H\[1m\[33m12 \[m    \"yes/no\" {\[13;19H\[K\[14;2H\[1m\[33m13 \[m        \[1m\[33msend\[m \"yes\[1m\[31m\\r\[m\"\[14;25H\[K\[15;2H\[1m\[33m14 \[m \[7C\[1m\[33mexpect\[m \"password:\"\[16;2H\[1m\[33m15 \[m \[7C\[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\"\[17;2H\[1m\[33m16 \[m    }\[17;23H\[K\[18;2H\[1m\[33m17 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[19;2H\[1m\[33m18 \[m    \"password:\" \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\"\[20;2H\[1m\[33m19 \[m\[20;5H\[K\[21;2H\[1m\[33m20 \[m}\[21;6H\[K\[22;2H\[1m\[33m21 \[m\[22;5H\[K\[23;2H\[1m\[33m22 expect\[m {\[23;13H\[K\[24;2H\[1m\[33m23 \[m    \"yes/no\" {\[24;19H\[K\[25;2H\[1m\[33m24 \[m        \[1m\[33msend\[m \"yes\[1m\[31m\\r\[m\"\[25;25H\[K\[26;2H\[1m\[33m25 \[m        \[1m\[33mexpect\[m \"password:\"\[27;2H\[1m\[33m26 \[m        \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\"\[27;31H\[K\[28;2H\[1m\[33m27 \[m    }\[28;10H\[K\[29;2H\[1m\[33m28 \[m    \"password:\" { \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\" }\[29;43H\[K\[30;2H\[1m\[33m29 \[m}\[30;6H\[K\[31;1H\[1m\[34m~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp\[54C3,1  \[10CAll\[3;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[3;5H\[53;78H \[4;5H\[52;71H\[1m\[7m4,\[4;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[4;5H\[53;78H \[5;5H\[52;71H\[1m\[7m5,\[5;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[5;5H\[53;78H \[6;5H\[52;71H\[1m\[7m6,\[6;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[6;5H\[53;78H \[7;5H\[52;71H\[1m\[7m7,\[7;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[7;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[8;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,1   \[9;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[9;5H\[53;78H \[11;5H\[52;71H\[1m\[7m10,1\[11;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[11;5H\[53;78H \[12;5H\[52;72H\[1m\[7m1,\[12;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[12;5H\[53;78H \[13;5H\[52;72H\[1m\[7m2,\[13;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[13;5H\[53;78H \[14;5H\[52;72H\[1m\[7m3,\[14;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[14;5H\[53;78H \[15;5H\[52;72H\[1m\[7m4,\[15;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[15;5H\[53;78H \[16;5H\[52;72H\[1m\[7m5,\[16;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[16;5H\[53;78H \[17;5H\[52;72H\[1m\[7m6,\[17;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[17;5H\[53;78H \[18;5H\[52;72H\[1m\[7m7,\[18;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[18;5H\[53;78H \[19;5H\[52;72H\[1m\[7m8,\[19;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[19;5H\[53;78H \[20;5H\[52;72H\[1m\[7m9,0-1\[20;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;5H\[53;78H \[21;5H\[11;12H\[46m{\[21;5H}\[m\[52;71H\[1m\[7m20,1   \[21;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;5H\[53;78H \[22;5H\[11;12H{\[21;5H}\[52;72H\[1m\[7m1,0-1\[22;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[22;5H\[53;78H \[23;5H\[52;72H\[1m\[7m2,1   \[23;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;5H\[53;78H \[24;5H\[52;72H\[1m\[7m3,\[24;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[24;5H\[53;78H \[25;5H\[52;72H\[1m\[7m4,\[25;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;5H\[53;78H \[26;5H\[52;72H\[1m\[7m5,\[26;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;5H\[53;78H \[27;5H\[52;72H\[1m\[7m6,\[27;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[27;5H\[53;78H \[28;5H\[52;72H\[1m\[7m7,\[28;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[28;5H\[53;78H \[29;5H\[52;72H\[1m\[7m8,\[29;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[29;5H\[53;78H \[30;5H\[23;12H\[46m{\[30;5H}\[m\[52;72H\[1m\[7m9,\[30;5H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[m\[53;78Hp\[30;5H\[53;1H20 more lines\[53;14H\[K\[31;5H\[23;12H{\[30;5H}\r
\[1m\[33m 30 send\[m -- \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133..\[32;1H\[1m\[33m    \[m133.135.34\[1m\[31m\\\"\[m\"\[32;18H\[K\[33;1H\[1m\[33m 31 expect\[m -exact \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.p \[1m\[31m\\r\[mub haa\[34;1H\[1m\[33m    \[mdoop@133.133.135.34\[1m\[31m\\\"\[m\"\[34;27H\[K\[35;1H\[1m\[33m 32 send\[m -- \"\[1m\[31m\\r\[m\"\[35;17H\[K\[36;1H\[1m\[33m 33 expect\[m -exact \"\[1m\[31m\\r\[m\[36;22H\[K\[37;1H\[1m\[33m 34 \[mhadoop@133.133.131.18's password: \"\[37;40H\[K\[38;1H\[1m\[33m 35 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[38;23H\[K\[39;1H\[1m\[33m 36 expect\[m -exact \"\[1m\[31m\\r\[m\[39;22H\[K\[40;1H\[1m\[33m 37 \[mThe authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\[1m\[31m\\r\[m\[40;87H\[K\[41;1H\[1m\[33m 38 \[mECDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\[1m\[31m\\r\[m\[41;80H\[K\[42;1H\[1m\[33m 39 \[mAre you sure you want to continue connecting (yes/no)? \"\[42;61H\[K\[43;1H\[1m\[33m 40 send\[m -- \"yes\[1m\[31m\\r\[m\"\[43;20H\[K\[44;1H\[1m\[33m 41 expect\[m -exact \"yes\[1m\[31m\\r\[m\[44;25H\[K\[45;1H\[1m\[33m 42 \[m/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out  \[46;1H\[1m\[33m    \[many that are already installed\[1m\[31m\\r\[m\[46;37H\[K\[47;1H\[1m\[33m 43 \[m/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted nn\[48;1H\[1m\[33m    \[mow it is to install the new keys\[1m\[31m\\r\[m\[48;39H\[K\[49;1H\[1m\[33m 44 \[mhadoop@133.133.135.34's password: \"\[49;40H\[K\[50;1H\[1m\[33m 45 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[50;23H\[K\[51;1H\[1m\[33m 46 expect\[m -exact \"\[1m\[31m\\r\[m\[51;22H\[K\[52;18H\[1m\[7m\[+\]\[50C30,\[12CTop\[31;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[31;5H\[53;78H \[33;5H\[52;72H\[1m\[7m1,\[33;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[33;5H\[53;78H \[35;5H\[52;72H\[1m\[7m2,\[35;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[35;5H\[53;78H \[36;5H\[52;72H\[1m\[7m3,\[36;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[36;5H\[53;78H \[37;5H\[52;72H\[1m\[7m4,\[37;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[37;5H\[53;78H \[36;5H\[52;72H\[1m\[7m3,\[36;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[36;5H\[53;78H \[35;5H\[52;72H\[1m\[7m2,\[35;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[35;5H\[53;78H \[33;5H\[52;72H\[1m\[7m1,\[33;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[33;5H\[53;78H \[31;5H\[52;72H\[1m\[7m0,\[31;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[31;5H\[53;78H \[30;5H\[23;12H\[46m{\[30;5H}\[m\[52;71H\[1m\[7m29,\[30;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[30;5H\[53;78H \[29;5H\[23;12H{\[30;5H}\[52;72H\[1m\[7m8,\[29;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[29;5H\[53;78H \[28;5H\[52;72H\[1m\[7m7,\[28;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[28;5H\[53;78H \[27;5H\[52;72H\[1m\[7m6,\[27;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[27;5H\[53;78H \[26;5H\[52;72H\[1m\[7m5,\[26;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[26;5H\[53;78H \[25;5H\[52;72H\[1m\[7m4,\[25;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[25;5H\[53;78H \[24;5H\[52;72H\[1m\[7m3,\[24;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[24;5H\[53;78H \[23;5H\[52;72H\[1m\[7m2,\[23;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[23;5H\[53;78H \[22;5H\[52;72H\[1m\[7m1,0-1\[22;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[22;5H\[53;78H \[21;5H\[11;12H\[46m{\[21;5H}\[m\[52;72H\[1m\[7m0,1   \[21;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[21;5H\[53;78H \[20;5H\[11;12H{\[21;5H}\[52;71H\[1m\[7m19,0-1\[20;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[20;5H\[53;78H \[19;5H\[52;72H\[1m\[7m8,1   \[19;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[19;5H\[53;78H \[20;5H\[52;72H\[1m\[7m9,0-1\[20;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;5H\[53;78H \[21;5H\[11;12H\[46m{\[21;5H}\[m\[52;71H\[1m\[7m20,1   \[21;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[21;5H\[53;78H \[20;5H\[11;12H{\[21;5H}\[52;71H\[1m\[7m19,0-1\[20;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd\[20;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[53;78H \[20;5H\[?12l\[?25h\[?25l\[53;78Hdd\[20;5H\[53;78H  \[20;5H\[11;12H\[46m{\[20;5H}\[m\[21;5H\[K\[22;5H\[1m\[33mexpect\[m {\[23;5H    \"yes/no\" {\[24;9H    \[1m\[33msend\[m \"yes\[1m\[31m\\r\[m\"\[25;13H\[1m\[33mexpect\[m \"password:\"\[26;13H\[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\[27;9H}\[27;13H\[K\[28;9H\"password:\" { \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\" }\[29;5H}\[29;9H\[K\[30;5H\[1m\[33msend\[m -- \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133..\[31;1H\[1m\[33m    \[m133.135.34\[1m\[31m\\\"\[m\"\[31;18H\[K\[32;2H\[1m\[33m30 expect\[m -exact \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.p \[1m\[31m\\r\[mub haa\[33;1H\[1m\[33m    \[mdoop@133.133.135.34\[1m\[31m\\\"\[m\"\[33;27H\[K\[34;2H\[1m\[33m31 send\[m -- \"\[1m\[31m\\r\[m\"\[34;17H\[K\[35;5H\[1m\[33mexpect\[m -exact \"\[1m\[31m\\r\[m\[36;5Hhadoop@133.133.131.18's password: \"\[37;5H\[1m\[33msend\[m -- \"onceas\[1m\[31m\\r\[m\"\[37;23H\[K\[38;5H\[1m\[33mexpect\[m -exact \"\[38;22H\[K\[39;5HThe authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\[1m\[31m\\r\[m\[40;5HECDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\[1m\[31m\\r\[m\[40;80H\[K\[41;5HAre you sure you want to continue connecting (yes/no)? \"\[41;61H\[K\[42;5H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[42;20H\[K\[43;5H\[1m\[33mexpect\[m -exact \"yes\[1m\[31m\\r\[m\[44;5H/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out  \[45;1H\[1m\[33m    \[many that are already installed\[1m\[31m\\r\[m\[45;37H\[K\[46;2H\[1m\[33m42 \[m/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted nn\[47;1H\[1m\[33m    \[mow it is to install the new keys\[1m\[31m\\r\[m\[47;39H\[K\[48;2H\[1m\[33m43 \[mhadoop@133.133.135.34's password: \"\[49;5H\[1m\[33msend\[m -- \"onceas\[1m\[31m\\r\[m\"\[49;23H\[K\[50;5H\[1m\[33mexpect\[m -exact \"\[50;22H\[K\[51;5H\[1m\[31m\\r\[m\[51;7H\[K\[52;74H\[1m\[7m1   \[20;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[20;5H\[53;78H \[19;5H\[11;12H{\[20;5H}\[52;72H\[1m\[7m8,\[19;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[19;5H\[53;78H \[18;5H\[52;72H\[1m\[7m7,\[18;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[18;5H\[53;78H \[17;5H\[52;72H\[1m\[7m6,\[17;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[17;5H\[53;78H \[16;5H\[52;72H\[1m\[7m5,\[16;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[16;5H\[53;78H \[15;5H\[52;72H\[1m\[7m4,\[15;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[15;5H\[53;78H \[16;5H\[52;72H\[1m\[7m5,\[16;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[16;5H\[53;78H \[17;5H\[52;72H\[1m\[7m6,\[17;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[17;5H\[53;78H \[18;5H\[52;72H\[1m\[7m7,\[18;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[18;5H\[53;78H \[19;5H\[52;72H\[1m\[7m8,\[19;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[19;5H\[53;78H \[20;5H\[11;12H\[46m{\[20;5H}\[m\[52;72H\[1m\[7m9,\[20;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;5H\[53;78H \[21;5H\[11;12H{\[20;5H}\[52;71H\[1m\[7m20,0-1\[21;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;5H\[53;78H \[22;5H\[52;72H\[1m\[7m1,1   \[22;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[22;5H\[53;78H \[23;5H\[52;72H\[1m\[7m2,\[23;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;5H\[53;78H \[24;5H\[52;72H\[1m\[7m3,\[24;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[24;5H\[53;78H \[25;5H\[52;72H\[1m\[7m4,\[25;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;5H\[53;78H \[26;5H\[52;72H\[1m\[7m5,\[26;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;5H\[53;78H \[27;5H\[52;72H\[1m\[7m6,\[27;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[27;5H\[53;78H \[28;5H\[52;72H\[1m\[7m7,\[28;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[28;5H\[53;78H \[29;5H\[22;12H\[46m{\[29;5H}\[m\[52;72H\[1m\[7m8,\[29;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[29;5H\[53;78H \[30;5H\[22;12H{\[29;5H}\[52;72H\[1m\[7m9,\[30;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[30;5H\[53;78H \[32;5H\[52;71H\[1m\[7m30,\[32;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[32;5H\[53;78H \[30;5H\[52;71H\[1m\[7m29,\[30;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[30;5H\[53;78H \[29;5H\[22;12H\[46m{\[29;5H}\[m\[52;72H\[1m\[7m8,\[29;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[29;5H\[53;78H \[30;5H\[22;12H{\[29;5H}\[52;72H\[1m\[7m9,\[30;5H\[?12l\[?25h"
send -- "v"
expect -exact "\[?25l\[m\[53;78Hv\[30;5H\[53;78H1\[30;5H\[83C..\[31;1H\[1m\[33m \[m\[53;1H\[1m-- VISUAL --\[m\[53;13H\[K\[53;78H1\[30;5H\[?12l\[?25h"
send -- "G"
expect -exact "\[?25l\[53;78HG\[30;5H\[53;78H20\[51;5H\[1;51r\[1;1H\[2M\[1;53r\[28;5H\[1m\[7m\[33msend\[m\[7m -- \"ssh -t hadoop@133.133.131.18 \[m\[1m\[7m\[31m\\\"\[m\[7mssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133..\[m\[29;1H\[1m\[33m \[m\[3C\[7m133.135.34\[m\[1m\[7m\[31m\\\"\[m\[7m\" \[m\[30;5H\[1m\[7m\[33mexpect\[m\[7m -exact \"ssh -t hadoop@133.133.131.18 \[m\[1m\[7m\[31m\\\"\[m\[7mssh-copy-id -i ~/.ssh/id_rsa.p \[m\[1m\[7m\[31m\\r\[m\[7mub haa\[m\[31;1H\[1m\[33m \[m\[3C\[7mdoop@133.133.135.34\[m\[1m\[7m\[31m\\\"\[m\[7m\" \[m\[32;5H\[1m\[7m\[33msend\[m\[7m -- \"\[m\[1m\[7m\[31m\\r\[m\[7m\" \[m\[33;5H\[1m\[7m\[33mexpect\[m\[7m -exact \"\[m\[1m\[7m\[31m\\r\[m\[7m \[34;5Hhadoop@133.133.131.18's password: \" \[m\[35;5H\[1m\[7m\[33msend\[m\[7m -- \"onceas\[m\[1m\[7m\[31m\\r\[m\[7m\" \[m\[36;5H\[1m\[7m\[33mexpect\[m\[7m -exact \"\[m\[1m\[7m\[31m\\r\[m\[7m \[37;5HThe authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\[m\[1m\[7m\[31m\\r\[m\[7m \[38;5HECDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\[m\[1m\[7m\[31m\\r\[m\[7m \[39;5HAre you sure you want to continue connecting (yes/no)? \" \[m\[40;5H\[1m\[7m\[33msend\[m\[7m -- \"yes\[m\[1m\[7m\[31m\\r\[m\[7m\" \[m\[41;5H\[1m\[7m\[33mexpect\[m\[7m -exact \"yes\[m\[1m\[7m\[31m\\r\[m\[7m \[42;5H/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out  \[m\[43;1H\[1m\[33m \[m\[3C\[7many that are already installed\[m\[1m\[7m\[31m\\r\[m\[7m \[44;5H/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted nn\[m\[45;1H\[1m\[33m \[m\[3C\[7mow it is to install the new keys\[m\[1m\[7m\[31m\\r\[m\[7m \[46;5Hhadoop@133.133.135.34's password: \" \[m\[47;5H\[1m\[7m\[33msend\[m\[7m -- \"onceas\[m\[1m\[7m\[31m\\r\[m\[7m\" \[m\[48;5H\[1m\[7m\[33mexpect\[m\[7m -exact \"\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[49;5H\[1m\[7m\[31m\\r\[m\[7m \[m\r
\[1m\[33m 47 \[m\[7mNumber of key(s) added: 1\[m\[1m\[7m\[31m\\r\[m\[7m \[m\r
\[1m\[33m 48 \[m\[1m\[31m\\r\[m\[53;78H\[K\[53;78H20\[51;5H\[52;71H\[1m\[7m48,\[12CBot\[51;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd \[51;5H\r
\r
19 fewer lines\[53;78H\[K\[28;5Hr\[28;6H\[K\[29;1H\[1m\[34m~                                                                                       \[30;1H~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;71H\[1m\[7m29,\[28;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd\[28;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[53;78H \[28;5H\[?12l\[?25h\[?25l\[53;78Hdd\[28;5H\[53;78H  \[27;5H\[20;12H\[46m{\[27;5H}\[m\r
\[1m\[34m~                                                                                       \[m\[52;72H\[1m\[7m8,\[27;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[27;5H\[53;78H \[26;5H\[20;12H{\[27;5H}\[52;72H\[1m\[7m7,\[26;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[26;5H\[53;78H \[25;5H\[52;72H\[1m\[7m6,\[25;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[25;5H\[53;78H \[24;5H\[52;72H\[1m\[7m5,\[24;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[24;5H\[53;78H \[23;5H\[52;72H\[1m\[7m4,\[23;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[23;5H\[53;78H \[22;5H\[52;72H\[1m\[7m3,\[22;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[22;5H\[53;78H \[21;5H\[52;72H\[1m\[7m2,\[21;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[21;5H\[53;78H \[20;5H\[52;72H\[1m\[7m1,\[20;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[20;5H\[53;78H \[19;5H\[52;72H\[1m\[7m0,0-1\[19;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[19;5H\[53;78H \[20;5H\[52;72H\[1m\[7m1,1   \[20;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;5H\[53;78H \[21;5H\[52;72H\[1m\[7m2,\[21;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;5H\[53;78H \[22;5H\[52;72H\[1m\[7m3,\[22;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[22;5H\[53;78H \[23;5H\[52;72H\[1m\[7m4,\[23;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[23;5H\[53;78H \[22;5H\[52;72H\[1m\[7m3,\[22;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[22;5H\[53;78H \[21;5H\[52;72H\[1m\[7m2,\[21;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[21;5H\[53;78H \[20;5H\[52;72H\[1m\[7m1,\[20;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[20;5H\[53;78H \[19;5H\[52;72H\[1m\[7m0,0-1\[19;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[19;5H\[53;78H \[18;5H\[9;12H\[46m{\[18;5H}\[m\[52;71H\[1m\[7m19,1   \[18;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[18;5H\[53;78H \[17;5H\[9;12H{\[18;5H}\[52;72H\[1m\[7m8,\[17;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[17;5H\[53;78H \[16;5H\[52;72H\[1m\[7m7,\[16;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[16;5H\[53;78H \[15;5H\[52;72H\[1m\[7m6,\[15;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[15;5H\[53;78H \[14;5H\[52;72H\[1m\[7m5,\[14;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[14;5H\[53;78H \[13;5H\[52;72H\[1m\[7m4,\[13;5H\[?12l\[?25h"
send -- "V"
expect -exact "\[?25l\[m\[53;78HV\[13;5H\[53;78H1\[13;5H \[7m       \[m\[1m\[7m\[33mexpect\[m\[7m \"password:\"   \[m\[53;1H\[1m-- VISUAL LINE --\[m\[53;78H\[K\[53;78H1\[13;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[13;5H\[53;78H2\[14;5H\[13;5H\[7m \[14;6H       \[m\[1m\[7m\[33msend\[m\[7m \"\[m\[1m\[7m\[31m\$password\\r\[m\[7m\"  \[m\[52;72H\[1m\[7m5,\[14;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd\[14;5H\[53;78H \[13;9H\[11;18H\[46m{\[m\[13;5H    \[46m}\[m\[13;10H\[K\[14;6H   \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[15;9H\"password:\" \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\"\[16;5H}\[16;9H\[K\[17;9H\[K\[18;5H\[1m\[33mexpect\[m {\[19;9H\"yes/no\" {\[20;5H        \[1m\[33msend\[m \"yes\[1m\[31m\\r\[m\"\[21;9H    \[1m\[33mexpect\[m \"password:\"\[22;19H\[1m\[31m\$password\\r\[m\"\[23;9H}\[23;13H\[K\[24;9H\"password:\" { \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\" }\[25;5H}\[25;9H\[K\[26;1H\[1m\[34m~                                                                                       \[27;1H~                                                                                       \[m\[53;1H\[K\[52;72H\[1m\[7m4,5 \[13;9H\[?12l\[?25h"
send -- "O"
expect -exact "\[?25l\[m\[53;78HO\[13;9H\[53;78H \[13;5H\[53;1H\[1m-- INSERT --\[m\[13;9H\[K\[14;9H}\[14;10H\[K\[15;9H\[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[16;5H    \"password:\" \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\"\[17;5H}\[18;5H\[K\[19;5H\[1m\[33mexpect\[m {\[19;13H\[K\[20;9H\"yes/no\" {\[20;19H\[K\[21;13H\[1m\[33msend\[m \"yes\[1m\[31m\\r\[m\"\[21;25H\[K\[22;13H\[1m\[33mexpect\[m \"password:\"\[23;9H    \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\"\[24;9H}\[24;10H\[K\[25;5H    \"password:\" { \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 27 \[m}\[26;6H\[K\[11;18H{\[52;74H\[1m\[7m1 \[13;5H\[?12l\[?25h"
send -- "	"
expect -exact "\[?25l\[52;74H5 \[13;9H\[?12l\[?25h"
send -- "	"
expect -exact "\[?25l\[52;74H9 \[13;13H\[?12l\[?25h"
send -- "e"
expect -exact "\[?25l\[me\[52;74H\[1m\[7m10\[13;14H\[?12l\[?25h"
send -- "x"
expect -exact "\[?25l\[mx\[52;75H\[1m\[7m1 \[13;15H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[mp\[52;75H\[1m\[7m2 \[13;16H\[?12l\[?25h"
send -- "_"
expect -exact "\[?25l\[m_\[52;75H\[1m\[7m3 \[13;17H\[?12l\[?25h"
send -- "c"
expect -exact "\[?25l\[mc\[52;75H\[1m\[7m4 \[13;18H\[?12l\[?25h"
send -- "o"
expect -exact "\[?25l\[mo\[52;75H\[1m\[7m5 \[13;19H\[?12l\[?25h"
send -- "n"
expect -exact "\[?25l\[mn\[52;75H\[1m\[7m6 \[13;20H\[?12l\[?25h"
send -- "t"
expect -exact "\[?25l\[mt\[52;75H\[1m\[7m7 \[13;21H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[mi\[52;75H\[1m\[7m8 \[13;22H\[?12l\[?25h"
send -- "n"
expect -exact "\[?25l\[mn\[52;75H\[1m\[7m9 \[13;23H\[?12l\[?25h"
send -- "u"
expect -exact "\[?25l\[mu\[52;74H\[1m\[7m20 \[13;24H\[?12l\[?25h"
send -- "e"
expect -exact "\[?25l\[m\[13;13H\[1m\[33mexp_continue\[m\[52;75H\[1m\[7m1 \[13;25H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[13;25H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[13;25H \[53;1H\[K\[52;75H\[1m\[7m0 \[13;24H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[13;24H\[53;78H \[14;9H\[11;18H\[46m{\[14;9H}\[m\[52;72H\[1m\[7m5,5  \[14;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[14;9H\[53;78H \[13;24H\[11;18H{\[14;9H}\[52;72H\[1m\[7m4,20\[13;24H\[?12l\[?25h"
send -- "y"
expect -exact "\[?25l\[m\[53;78Hy\[13;24H\[?12l\[?25h"
send -- "y"
expect -exact "\[?25l\[53;78H \[13;24H\[?12l\[?25h\[?25l\[53;78Hyy\[13;24H\[53;78H  \[13;24H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[13;24H\[53;78H \[14;9H\[11;18H\[46m{\[14;9H}\[m\[52;72H\[1m\[7m5,5  \[14;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[14;9H\[53;78H \[15;24H\[11;18H{\[14;9H}\[52;72H\[1m\[7m6,20\[15;24H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[15;24H\[53;78H \[16;24H\[52;72H\[1m\[7m7,\[16;24H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[16;24H\[53;78H \[17;5H\[9;12H\[46m{\[17;5H}\[m\[52;72H\[1m\[7m8,1  \[17;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[17;5H\[53;78H \[18;5H\[9;12H{\[17;5H}\[52;72H\[1m\[7m9,0-1\[18;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[18;5H\[53;78H \[19;12H\[46m{\[26;5H}\[m\[52;71H\[1m\[7m20,8   \[19;12H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[19;12H\[53;78H \[20;18H\[19;12H{\[20;18H\[46m{\[24;9H}\[m\[26;5H}\[52;72H\[1m\[7m1,14\[20;18H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;18H\[53;78H \[21;24H\[20;18H{\[24;9H}\[52;72H\[1m\[7m2,20 \[21;24H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[m\[53;78Hp\[21;24H\[53;78H \[22;13H\[3C\[1m\[33m_continue\[m\[22;25H\[K\[23;13H\[1m\[33mexpect\[m \"password:\"\[24;9H    \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\"\[25;9H}\[25;10H\[K\[26;5H    \"password:\" { \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 28 \[m}\[27;6H\[K\[52;72H\[1m\[7m3,9  \[22;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[22;13H\[53;78H \[23;13H\[52;72H\[1m\[7m4,\[23;13H\[?12l\[?25h"
send -- "V"
expect -exact "\[?25l\[m\[53;78HV\[23;13H\[53;78H1\[23;13H\[23;5H\[7m        \[m\[1C\[1m\[7m\[33mxpect\[m\[7m \"password:\"  \[m\[53;1H\[1m-- VISUAL LINE --\[m\[53;78H\[K\[53;78H1\[23;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[23;13H\[53;78H2\[24;13H\[23;13H\[1m\[7m\[33mexpect\[m\[7m \[24;5H        \[m\[1C\[1m\[7m\[33mend\[m\[7m \"\[m\[1m\[7m\[31m\$password\\r\[m\[7m\" \[m\[52;72H\[1m\[7m5,\[24;13H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd\[24;13H\[53;78H \[23;9H\[20;18H\[46m{\[m\[23;5H    \[46m}\[m\[23;10H\[K\[24;5H    \"password:\" { \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\" }\[25;5H}\[25;9H\[K\[26;1H\[1m\[34m~                                                                                       \[27;1H~                                                                                       \[m\[53;1H\[K\[52;72H\[1m\[7m4,5 \[23;9H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[23;9H\[53;78H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 26L, 572C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim script.exp "
send -- "\[A"
expect -exact "ls\[K"
send -- "\[A"
expect -exact "ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pu\rub hadoop@133.133.135.34\""
send -- "\r"
expect -exact "\r
hadoop@133.133.131.18's password: "
send -- ""
expect -exact "\r
\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pu\rub hadoop@133.133.135.34\""
send -- "\[A"
expect -exact "\[A\[C\[C\[Cvim script.exp \[K\r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[A"
expect -exact "ls\[K"
send -- "\[A"
expect -exact "ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pu\rub hadoop@133.133.135.34\""
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[22Phadoop@133.133.131.18 \"ssh-keygen\"\r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[A"
expect -exact "\r\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[Cexit\[K"
send -- "\[A"
expect -exact "whoami"
send -- "\[A"
expect -exact "echo \$USER"
send -- "\[A"
expect -exact "\[4Pwhoami"
send -- "\[A"
expect -exact "\[3Ppwd"
send -- "\[A"
expect -exact "hadoop jar hadoop-0.20.2-examples.jar "
send -- "\[A"
expect -exact "\[4Ptest\[C\[C\[C\[C\[C"
send -- "\[A"
expect -exact "\r\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[Cls\[K"
send -- "\[A"
expect -exact "cd .."
send -- "\[A"
expect -exact "hadoop jar"
send -- "\[A"
expect -exact "ls\[K"
send -- "\[A"
expect -exact "cd bin/"
send -- "\[A"
expect -exact "ls\[K"
send -- ""
expect -exact "\[K"
send -- "ls\r"
expect -exact "ls\r
\[0m\[01;32madd_user.exp\[0m                      \[01;32mjava_installer.sh\[0m\r
\[01;32madd_user.sh\[0m                       \[01;32mlogin.sh\[0m\r
\[01;32mcenter_displayer.sh\[0m               \[01;32mlogout.sh\[0m\r
\[01;32mcgroup_configurer.sh\[0m              \[01;32mnetwork_checker.sh\[0m\r
\[01;32mclear_walls.sh\[0m                    \[01;32mpackage_installed_checker.sh\[0m\r
\[01;32mcopy_ssh_key.exp\[0m                  \[01;32mpwd_free_ssh_generator.exp\[0m\r
\[01;32mdistance_checker.sh\[0m               \[01;32mremote_directory_checker.sh\[0m\r
\[01;32mgit_initilizer.sh\[0m                 \[01;32mroot_checker.sh\[0m\r
\[01;32mhadoop_installer.sh\[0m               \[01;32mscript.exp\[0m\r
\[01;32mhadoop_remote_configurer.sh\[0m       \[01;32mssh_login_pwd_freer.exp\[0m\r
\[01;32mhighlighter.sh\[0m                    \[01;32mssh_login_pwd_freer.sh\[0m\r
\[01;32mhostname_editor.sh\[0m                \[01;32mtest.exp\[0m\r
\[01;32mip_checker.sh\[0m                     \[01;32mtraffic_controller.sh\[0m\r
\[01;32mjava_checker.sh\[0m                   \[01;32mtransfer.sh\[0m\r
\[01;32mjava_hadoop_cluster_installer.sh\[0m  \[01;32muser_checker.sh\[0m\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "./cpo	"
expect -exact ""
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- "op	"
expect -exact "y_ssh_key.exp "
send -- "hadoop onceas 133.133.131"
expect -exact "hadoop onceas 133.133.131\[K"
send -- "1.18 133.133.135."
expect -exact "1.18 133.133.135. \r"
send -- "34\r"
expect -exact "34\r
spawn ssh -t hadoop@133.133.131.18 ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\r\r\r
parent: waiting for sync byte\r\r
parent: telling child to go ahead\r\r
parent: now unsynchronized from child\r\r
spawn: returns {27143}\r\r
\r\r
expect: does \"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
\"onceas\\r\"? no\r\r
hadoop@133.133.131.18's password: \r\r
expect: does \"hadoop@133.133.131.18's password: \" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? yes\r\r
expect: set expect_out(0,string) \"password:\"\r\r
expect: set expect_out(spawn_id) \"exp7\"\r\r
expect: set expect_out(buffer) \"hadoop@133.133.131.18's password:\"\r\r
usage: send \[args\] string\r
    while executing\r
\"send\"\r
    invoked from within\r
\"expect {\r
    # first connection, no public key in ~/.ssh/known_hosts\r
    \"yes/no\" {\r
        send \"yes\\r\"\r
        exp_continue\r
    }\r
    # already has ...\"\r
    (file \"./copy_ssh_key.exp\" line 10)\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[Cls\[K\r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[A"
expect -exact "ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pu\rub hadoop@133.133.135.34\""
send -- "\[A"
expect -exact "\[A\[C\[C\[Cvim script.exp \[K\r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"script.exp\" \[noeol\] 938L, 77824C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m 65 expect\[m -exact \"\[1m\[31m\\r\[m\r
\[1m\[33m 66 \[mEnter same passphrase again: \"\r
\[1m\[33m 67 send\[m -- \"\[1m\[31m\\r\[m\"\r
\[1m\[33m 68 expect\[m -exact \"\[1m\[31m\\r\[m\r
\[1m\[33m 69 \[mGenerating public/private rsa key pair.\[1m\[31m\\r\[m\r
\[1m\[33m 70 \[mCreated directory '/home/hadoop/.ssh'.\[1m\[31m\\r\[m\r
\[1m\[33m 71 \[mYour identification has been saved in /home/hadoop/.ssh/id_rsa.\[1m\[31m\\r\[m\r
\[1m\[33m 72 \[mYour public key has been saved in /home/hadoop/.ssh/id_rsa.pub.\[1m\[31m\\r\[m\r
\[1m\[33m 73 \[mThe key fingerprint is:\[1m\[31m\\r\[m\r
\[1m\[33m 74 \[m72:e2:be:03:fa:a2:4b:14:a2:ca:ce:a2:e2:ac:98:98 hadoop@hadoop-slave3\[1m\[31m\\r\[m\r
\[1m\[33m 75 \[mThe key's randomart image is:\[1m\[31m\\r\[m\r
\[1m\[33m 76 \[m+--\[1m\[31m\\\[\[m RSA 2048\[1m\[31m\\\]\[m----+\[1m\[31m\\r\[m\r
\[1m\[33m 77 \[m|\[17C|\[1m\[31m\\r\[m\r
\[1m\[33m 78 \[m|\[17C|\[1m\[31m\\r\[m\r
\[1m\[33m 79 \[m|..\[15C|\[1m\[31m\\r\[m\r
\[1m\[33m 80 \[m|o .\[14C|\[1m\[31m\\r\[m\r
\[1m\[33m 81 \[m|..    o S\[8C|\[1m\[31m\\r\[m\r
\[1m\[33m 82 \[m|+   .. +\[9C|\[1m\[31m\\r\[m\r
\[1m\[33m 83 \[m|.o . ..\[10C|\[1m\[31m\\r\[m\r
\[1m\[33m 84 \[m|Xoo  ..\[10C|\[1m\[31m\\r\[m\r
\[1m\[33m 85 \[m|EB o. oo\[9C|\[1m\[31m\\r\[m\r
\[1m\[33m 86 \[m+-----------------+\[1m\[31m\\r\[m\r
\[1m\[33m 87 \[m\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\[1m\[31m\\\[\[mroot@hadoop-slave2  \[24;1H\[1m\[33m    \[mtools\[1m\[31m\\\]\[m# \"\r
\[1m\[33m 88 send\[m -- \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133..\[26;1H\[1m\[33m    \[m133.135.34\[1m\[31m\\\"\[m\"\r
\[1m\[33m 89 expect\[m -exact \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.p \[1m\[31m\\r\[mub haa\[28;1H\[1m\[33m    \[mdoop@133.133.135.34\[1m\[31m\\\"\[m\"\r
\[1m\[33m 90 send\[m -- \"\[1m\[31m\\r\[m\"\r
\[1m\[33m 91 expect\[m -exact \"\[1m\[31m\\r\[m\r
\[1m\[33m 92 \[mhadoop@133.133.131.18's password: \"\r
\[1m\[33m 93 send\[m -- \"onceas\[1m\[31m\\r\[m\"\r
\[1m\[33m 94 expect\[m -exact \"\[1m\[31m\\r\[m\r
\[1m\[33m 95 \[mThe authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\[1m\[31m\\r\[m\r
\[1m\[33m 96 \[mECDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\[1m\[31m\\r\[m\r
\[1m\[33m 97 \[mAre you sure you want to continue connecting (yes/no)? \"\r
\[1m\[33m 98 send\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 99 expect\[m -exact \"yes\[1m\[31m\\r\[m\r
\[1m\[33m100 \[m/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out  \[40;1H\[1m\[33m    \[many that are already installed\[1m\[31m\\r\[m\r
\[1m\[33m101 \[m/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted nn\[42;1H\[1m\[33m    \[mow it is to install the new keys\[1m\[31m\\r\[m\r
\[1m\[33m102 \[mhadoop@133.133.135.34's password: \"\r
\[1m\[33m103 send\[m -- \"onceas\[1m\[31m\\r\[m\"\r
\[1m\[33m104 expect\[m -exact \"\[1m\[31m\\r\[m\r
\[1m\[33m105 \[m\[1m\[31m\\r\[m\r
\[1m\[33m106 \[mNumber of key(s) added: 1\[1m\[31m\\r\[m\r
\[1m\[33m107 \[m\[1m\[31m\\r\[m\r
\[1m\[33m108 \[mNow try logging into the machine, with:   \[1m\[31m\\\"\[mssh 'hadoop@133.133.135.34'\[1m\[31m\\\"\\r\[m\r
\[1m\[33m109 \[mand check to make sure that only the key(s) you wanted were added.\[1m\[31m\\r\[m\r
\[1m\[33m110 \[m\[1m\[31m\\r\[m\r
\[1m\[7mscript.exp                                                            88,1            7%\[25;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[25;5H\[53;80H\[\[25;5H\[?12l\[?25h\[?25l\[53;78H   \[25;5H\[53;78H^\[\[25;5H\[53;80H\[\[25;5H\[53;81H>\[25;5H\[53;82H0\[25;5H\[?12l\[?25h\[?25l\[53;78H     \[25;5H\[53;78H^\[\[25;5H\[53;80H\[\[25;5H\[53;81H>\[25;5H\[53;82H0\[25;5H\[53;83H;\[25;5H\[?12l\[?25h\[?25l\[53;78H      \[25;5H\[53;78H^\[\[25;5H\[53;80H\[\[25;5H\[53;81H>\[25;5H\[53;82H0\[25;5H\[53;83H;\[25;5H\[53;84H1\[25;5H\[53;85H3\[25;5H\[?12l\[?25h\[?25l\[53;78H        \[25;5H\[53;78H^\[\[25;5H\[53;80H\[\[25;5H\[53;81H>\[25;5H\[53;82H0\[25;5H\[53;83H;\[25;5H\[53;84H1\[25;5H\[53;85H3\[25;5H\[53;86H6\[25;5H\[?12l\[?25h\[?25l\[53;78H         \[25;5H\[53;78H^\[\[25;5H\[53;80H\[\[25;5H\[53;81H>\[25;5H\[53;82H0\[25;5H\[53;83H;\[25;5H\[53;84H1\[25;5H\[53;85H3\[25;5H\[53;86H6\[25;5H\[53;87H;\[25;5H\[53;78H\[\[>0;136;0\[25;5H\[?12l\[?25h\[?25l\[53;78H          \[25;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[53;78H:\[25;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[?1002l\[53;1H\[K\[53;1H\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "vim cop	"
expect -exact "y_ssh_key.exp "
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 26L, 572C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 exp_internal\[m 1\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[10;1H\[1m\[33m    \[m\"\r
\[1m\[33m 10 expect\[m {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 18 \[m}\r
\[1m\[33m 19 \r
 20 expect\[m {\r
\[1m\[33m 21 \[m    \"yes/no\" \[46m{\[m\r
\[1m\[33m 22 \[8Csend\[m \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 23 \[8Cexp_continue\r
 24 \[m    \[46m}\[m\r
\[1m\[33m 25 \[m    \"password:\" { \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 26 \[m}\r
\[1m\[34m~                                                                                       \[29;1H~                                                                                       \[30;1H~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      24,5           All\[25;9H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[25;9H\[53;80H\[\[25;9H\[?12l\[?25h\[?25l\[53;78H   \[25;9H\[53;78H^\[\[25;9H\[53;80H\[\[25;9H\[53;81H>\[25;9H\[?12l\[?25h\[?25l\[53;78H    \[25;9H\[53;78H^\[\[25;9H\[53;80H\[\[25;9H\[53;81H>\[25;9H\[53;82H0\[25;9H\[53;83H;\[25;9H\[53;84H1\[25;9H\[?12l\[?25h\[?25l\[53;78H       \[25;9H\[53;78H^\[\[25;9H\[53;80H\[\[25;9H\[53;81H>\[25;9H\[53;82H0\[25;9H\[53;83H;\[25;9H\[53;84H1\[25;9H\[53;85H3\[25;9H\[?12l\[?25h\[?25l\[53;78H        \[25;9H\[53;78H^\[\[25;9H\[53;80H\[\[25;9H\[53;81H>\[25;9H\[53;82H0\[25;9H\[53;83H;\[25;9H\[53;84H1\[25;9H\[53;85H3\[25;9H\[53;86H6\[25;9H\[53;87H;\[25;9H\[?12l\[?25h\[?25l\[53;78H          \[25;9H\[?1000l\[?1002h\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[25;9H\[53;78H \[24;9H\[22;18H{\[25;9H}\[52;72H\[1m\[7m3,\[24;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[24;9H\[53;78H \[23;9H\[52;72H\[1m\[7m2,\[23;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[23;9H\[53;78H \[22;9H\[52;72H\[1m\[7m1,\[22;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[22;9H\[53;78H \[21;9H\[52;72H\[1m\[7m0,\[21;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[21;9H\[53;78H \[20;5H\[52;71H\[1m\[7m19,0-1\[20;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[20;5H\[53;78H \[19;5H\[11;12H\[46m{\[19;5H}\[m\[52;72H\[1m\[7m8,1   \[19;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[19;5H\[53;78H \[18;9H\[11;12H{\[19;5H}\[52;72H\[1m\[7m7,5 \[18;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[18;9H\[53;78H \[17;9H\[52;72H\[1m\[7m6,\[17;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[17;9H\[53;78H \[16;9H\[13;18H\[46m{\[16;9H}\[m\[52;72H\[1m\[7m5,\[16;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[16;9H\[53;78H \[15;9H\[13;18H{\[16;9H}\[52;72H\[1m\[7m4,\[15;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[15;9H\[53;78H \[14;9H\[52;72H\[1m\[7m3,\[14;9H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[14;9H\[53;78H \[14;10H\[52;74H\[1m\[7m6 \[14;10H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[14;10H\[53;78H \[14;11H\[52;74H\[1m\[7m7 \[14;11H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[14;11H\[53;78H \[14;12H\[52;74H\[1m\[7m8 \[14;12H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[14;12H\[53;78H \[14;13H\[52;74H\[1m\[7m9 \[14;13H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[14;13H\[53;78H \[14;14H\[52;74H\[1m\[7m10\[14;14H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[14;14H\[53;78H \[14;15H\[52;75H\[1m\[7m1 \[14;15H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[14;15H\[53;78H \[14;16H\[52;75H\[1m\[7m2 \[14;16H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[14;16H\[53;78H \[14;17H\[52;75H\[1m\[7m3 \[14;17H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[m\[53;78Hi\[14;17H\[53;78H \[14;17H\[53;1H\[1m-- INSERT --\[m\[53;13H\[K\[14;17H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l  \"yes\[1m\[31m\\r\[m\"\[52;18H\[1m\[7m\[+\]\[54C4 \[14;18H\[?12l\[?25h"
send -- "-"
expect -exact "\[?25l\[m- \"yes\[1m\[31m\\r\[m\"\[52;75H\[1m\[7m5 \[14;19H\[?12l\[?25h"
send -- "-"
expect -exact "\[?25l\[m- \"yes\[1m\[31m\\r\[m\"\[52;75H\[1m\[7m6 \[14;20H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[14;20H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[14;20H \[53;1H\[K\[52;75H\[1m\[7m5 \[14;19H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[14;19H\[53;78H \[15;19H\[52;72H\[1m\[7m4,\[15;19H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[15;19H\[53;78H \[16;9H\[13;18H\[46m{\[16;9H}\[m\[52;72H\[1m\[7m5,5  \[16;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[16;9H\[53;78H \[17;19H\[13;18H{\[16;9H}\[52;72H\[1m\[7m6,15\[17;19H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[17;19H\[53;78H \[18;19H\[52;72H\[1m\[7m7,\[18;19H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;19H\[53;78H \[18;20H\[52;75H\[1m\[7m6 \[18;20H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;20H\[53;78H \[18;21H\[52;75H\[1m\[7m7 \[18;21H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;21H\[53;78H \[18;22H\[52;75H\[1m\[7m8 \[18;22H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;22H\[53;78H \[18;23H\[52;75H\[1m\[7m9 \[18;23H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;23H\[53;78H \[18;24H\[52;74H\[1m\[7m20 \[18;24H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[18;24H\[53;78H \[18;23H\[52;74H\[1m\[7m19 \[18;23H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[18;23H\[53;78H \[18;22H\[52;75H\[1m\[7m8 \[18;22H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[18;22H\[53;78H \[18;21H\[52;75H\[1m\[7m7 \[18;21H\[?12l\[?25h"
send -- "y"
expect -exact "\[?25l\[m\[53;78Hy\[18;21H\[?12l\[?25h"
send -- "s"
expect -exact "\[?25l\[53;78H \[18;21H\[53;78Hy\[18;21H\[53;79Hs\[18;21H\[?12l\[?25h"
send -- "\$"
expect -exact "\[?25l\[53;78H  \[18;21H\[?12l\[?25h\[?25l\[53;78Hg@\$\[18;21H\[53;1H\[?12l\[?25h"
send -- "}"
expect -exact "\[?25l\[77C   \[18;21H\[46m{\[m\[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\"\[46m}\[18;21H\[?12l\[?25h"
send -- "c"
expect -exact "\[?25l\[m\[53;78Hc\[18;21H\[?12l\[?25h"
send -- "s"
expect -exact "\[?25l\[53;78H \[18;21H\[53;1H\[?12l\[?25h"
send -- "}P"
expect -exact "\[?25l\[18;21H\[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\"\[18;39H\[K\[18;21H\[?12l\[?25h"
send -- "{"
expect -exact "\[?25l\[53;78H{\[18;21H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1 \[8;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[8;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,1   \[9;5H\[?12l\[?25h"
send -- ""
expect -exact "\[?25l\[m\[53;78H^O\[9;5H\[53;78H  \[18;21H\[52;71H\[1m\[7m17,17\[18;21H\[?12l\[?25h"
send -- "y"
expect -exact "\[?25l\[m\[53;78Hy\[18;21H\[?12l\[?25h"
send -- "s"
expect -exact "\[?25l\[53;78H \[18;21H\[53;78Hy\[18;21H\[53;79Hs\[18;21H\[?12l\[?25h"
send -- "\$"
expect -exact "\[?25l\[53;78H  \[18;21H\[?12l\[?25h\[?25l\[53;78Hg@\$\[18;21H\[53;1H\[?12l\[?25h"
send -- "{"
expect -exact "\[?25l\[77C   \[18;21H\[46m{\[m \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\" \[46m}\[18;21H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[18;21H\[53;78H \[19;5H\[11;12H\[46m{\[m\[18;21H{\[20C}\[19;5H\[46m}\[m\[52;72H\[1m\[7m8,1  \[19;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[19;5H\[53;78H \[18;21H\[11;12H{\[18;21H\[46m{\[20C}\[m\[19;5H}\[52;72H\[1m\[7m7,17\[18;21H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[18;21H\[53;78H \[17;21H\[18;21H{\[20C}\[52;72H\[1m\[7m6,\[17;21H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[17;21H\[53;78H \[18;21H\[46m{\[20C}\[m\[52;72H\[1m\[7m7,\[18;21H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;21H\[53;78H \[18;22H{\[20C}\[52;75H\[1m\[7m8 \[18;22H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;22H\[53;78H \[18;23H\[52;75H\[1m\[7m9 \[18;23H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;23H\[53;78H \[18;24H\[52;74H\[1m\[7m20 \[18;24H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;24H\[53;78H \[18;25H\[52;75H\[1m\[7m1 \[18;25H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;25H\[53;78H \[18;26H\[52;75H\[1m\[7m2 \[18;26H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[18;26H\[53;78H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 26L, 579C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "\[6Pscript\[C\[C\[C\[C\[C"
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\r"
expect -exact "\r
spawn ssh -t hadoop@133.133.131.18 ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\r\r\r
parent: waiting for sync byte\r\r
parent: telling child to go ahead\r\r
parent: now unsynchronized from child\r\r
spawn: returns {27152}\r\r
\r\r
expect: does \"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
hadoop@133.133.131.18's password: \r\r
expect: does \"hadoop@133.133.131.18's password: \" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? yes\r\r
expect: set expect_out(0,string) \"password:\"\r\r
expect: set expect_out(spawn_id) \"exp7\"\r\r
expect: set expect_out(buffer) \"hadoop@133.133.131.18's password:\"\r\r
send: sending \"onceas\\r\" to { exp7 }\r\r
\r\r
expect: does \" \" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
\r\r
\r\r
expect: does \" \\r\\n\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\r\r
\r\r
expect: does \" \\r\\n/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\\r\\n\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
\r\r
/usr/bin/ssh-copy-id: WARNING: All keys were skipped because they already exist on the remote system.\r\r
\r\r
\r\r
expect: does \" \\r\\n/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\\r\\n\\r\\n/usr/bin/ssh-copy-id: WARNING: All keys were skipped because they already exist on the remote system.\\r\\n\\r\\n\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
Connection to 133.133.131.18 closed.\r\r\r
\r\r
expect: does \" \\r\\n/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\\r\\n\\r\\n/usr/bin/ssh-copy-id: WARNING: All keys were skipped because they already exist on the remote system.\\r\\n\\r\\nConnection to 133.133.131.18 closed.\\r\\r\\n\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
expect: read eof\r\r
expect: set expect_out(spawn_id) \"exp7\"\r\r
expect: set expect_out(buffer) \" \\r\\n/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\\r\\n\\r\\n/usr/bin/ssh-copy-id: WARNING: All keys were skipped because they already exist on the remote system.\\r\\n\\r\\nConnection to 133.133.131.18 closed.\\r\\r\\n\"\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 26L, 579C\[>c"
send -- "\[2;2R"
expect -exact "\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 exp_internal\[m 1\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[10;1H\[1m\[33m    \[m\"\r
\[1m\[33m 10 expect\[m {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" { \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 18 \[m}\r
\[1m\[33m 19 \r
 20 expect\[m {\r
\[1m\[33m 21 \[m    \"yes/no\" {\r
\[1m\[33m 22 \[8Csend\[m \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 23 \[8Cexp_continue\r
 24 \[m    }\r
\[1m\[33m 25 \[m    \"password:\" { \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 26 \[m}\r
\[1m\[34m~                                                                                       \[29;1H~                                                                                       \[30;1H~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      17,5           All\[18;9H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?1000l\[?1002h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[18;9H\[53;78H \[17;9H\[52;72H\[1m\[7m6,\[17;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[17;9H\[53;78H \[16;9H\[13;18H\[46m{\[16;9H}\[m\[52;72H\[1m\[7m5,\[16;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[16;9H\[53;78H \[15;9H\[13;18H{\[16;9H}\[52;72H\[1m\[7m4,\[15;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[15;9H\[53;78H \[14;9H\[52;72H\[1m\[7m3,\[14;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[14;9H\[53;78H \[13;9H\[52;72H\[1m\[7m2,\[13;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[13;9H\[53;78H \[12;9H\[52;72H\[1m\[7m1,\[12;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[12;9H\[53;78H \[11;9H\[52;72H\[1m\[7m0,\[11;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[11;9H\[53;78H \[9;9H\[52;71H\[1m\[7m9,5  \[9;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[9;9H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[8;5H\[53;78H \[7;9H\[52;71H\[1m\[7m7,5   \[7;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[7;9H\[53;78H \[6;9H\[52;71H\[1m\[7m6,\[6;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[6;9H\[53;78H \[5;9H\[52;71H\[1m\[7m5,\[5;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[5;9H\[53;78H \[4;9H\[52;71H\[1m\[7m4,\[4;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[4;9H\[53;78H \[3;9H\[52;71H\[1m\[7m3,\[3;9H\[?12l\[?25h"
send -- ","
expect -exact "\[?25l\[m\[53;78H,\[3;9H\[?12l\[?25h"
send -- "c"
expect -exact "\[?25l\[53;78H \[3;9H\[53;78H,\[3;9H\[53;79Hc\[3;9H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[53;78H  \[3;9H\[1m\[36m#exp_internal 1\[m\[52;18H\[1m\[7m\[+\]\[3;9H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[3;9H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 26L, 580C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\r"
expect -exact "\r
spawn ssh -t hadoop@133.133.131.18 ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\r\r\r
hadoop@133.133.131.18's password: \r\r
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\r\r
\r\r
/usr/bin/ssh-copy-id: WARNING: All keys were skipped because they already exist on the remote system.\r\r
\r\r
Connection to 133.133.131.18 closed.\r\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[B"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- ""
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[K\r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "./"
expect -exact "./\[K"
send -- "/pw	"
expect -exact "d_free_ssh_generator.exp "
send -- "hadoop onceas 133.133.131.18 133.133.135.34"
expect -exact "hadoop onceas 133.133.131.18 13 \r3.133.135.34"
send -- "\r"
expect -exact "\r
spawn ssh -t hadoop@133.133.131.18 ssh-keygen -t rsa\r\r\r
hadoop@133.133.131.18's password: \r\r
Generating public/private rsa key pair.\r\r
Enter file in which to save the key (/home/hadoop/.ssh/id_rsa): \r\r
Enter passphrase (empty for no passphrase): \r\r
Enter same passphrase again: \r\r
Your identification has been saved in /home/hadoop/.ssh/id_rsa.\r\r
Your public key has been saved in /home/hadoop/.ssh/id_rsa.pub.\r\r
The key fingerprint is:\r\r
71:e2:c2:71:60:a0:f4:f5:40:94:72:60:10:c2:2f:54 hadoop@hadoop-slave3\r\r
The key's randomart image is:\r\r
+--\[ RSA 2048\]----+\r\r
|o =E+=B.         |\r\r
| = +.oo+         |\r\r
|. o .o. = .      |\r\r
| . . . + +       |\r\r
|  .   o S        |\r\r
|       .         |\r\r
|                 |\r\r
|                 |\r\r
|                 |\r\r
+-----------------+\r\r
Connection to 133.133.131.18 closed.\r\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./pwd_free_ssh_generator.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[Ccopy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.34\[K"
send -- "\r"
expect -exact "\r
spawn ssh -t hadoop@133.133.131.18 ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\r\r\r
hadoop@133.133.131.18's password: \r\r
The authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\r\r
ECDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\r\r
Are you sure you want to continue connecting (yes/no)? yes\r\r
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\r\r
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\r\r
hadoop@133.133.135.34's password: \]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[Cpwd_free_ssh_generator.exp hadoop onceas 133.133.131.18 133.133.135.34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[Ccopy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.34\[K"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 26L, 580C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[10;1H\[1m\[33m    \[m\"\r
\[1m\[33m 10 expect\[m {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" { \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 18 \[m}\r
\[1m\[33m 19 \r
 20 expect\[m {\r
\[1m\[33m 21 \[m    \"yes/no\" {\r
\[1m\[33m 22 \[8Csend\[m \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 23 \[8Cexp_continue\r
 24 \[m    }\r
\[1m\[33m 25 \[m    \"password:\" { \[1m\[33msend\[m \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 26 \[m}\r
\[1m\[34m~                                                                                       \[29;1H~                                                                                       \[30;1H~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      3,1            All\[3;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[3;5H\[53;80H\[\[3;5H\[53;81H>\[3;5H\[?12l\[?25h\[?25l\[53;78H    \[3;5H\[53;78H^\[\[3;5H\[53;80H\[\[3;5H\[53;81H>\[3;5H\[53;82H0\[3;5H\[53;83H;\[3;5H\[53;84H1\[3;5H\[?12l\[?25h\[?25l\[53;78H       \[3;5H\[53;78H^\[\[3;5H\[53;80H\[\[3;5H\[53;81H>\[3;5H\[53;82H0\[3;5H\[53;83H;\[3;5H\[53;84H1\[3;5H\[53;85H3\[3;5H\[?12l\[?25h\[?25l\[53;78H        \[3;5H\[53;78H^\[\[3;5H\[53;80H\[\[3;5H\[53;81H>\[3;5H\[53;82H0\[3;5H\[53;83H;\[3;5H\[53;84H1\[3;5H\[53;85H3\[3;5H\[53;86H6\[3;5H\[53;87H;\[3;5H\[?12l\[?25h\[?25l\[53;78H          \[3;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[3;5H\[53;78H \[4;5H\[52;71H\[1m\[7m4,\[4;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[4;5H\[53;78H \[5;5H\[52;71H\[1m\[7m5,\[5;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[5;5H\[53;78H \[6;5H\[52;71H\[1m\[7m6,\[6;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[6;5H\[53;78H \[7;5H\[52;71H\[1m\[7m7,\[7;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[7;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[8;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,1   \[9;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[9;5H\[53;78H \[11;5H\[52;71H\[1m\[7m10,1\[11;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[11;5H\[53;78H \[12;5H\[52;72H\[1m\[7m1,\[12;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[12;5H\[53;78H \[13;5H\[52;72H\[1m\[7m2,\[13;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[13;5H\[53;78H \[14;5H\[52;72H\[1m\[7m3,\[14;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[14;5H\[53;78H \[15;5H\[52;72H\[1m\[7m4,\[15;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[15;5H\[53;78H \[16;5H\[52;72H\[1m\[7m5,\[16;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[16;5H\[53;78H \[17;5H\[52;72H\[1m\[7m6,\[17;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[17;5H\[53;78H \[18;5H\[52;72H\[1m\[7m7,\[18;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[18;5H\[53;78H \[19;5H\[11;12H\[46m{\[19;5H}\[m\[52;72H\[1m\[7m8,\[19;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[19;5H\[53;78H \[20;5H\[11;12H{\[19;5H}\[52;72H\[1m\[7m9,0-1\[20;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;5H\[53;78H \[21;5H\[52;71H\[1m\[7m20,1   \[21;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;5H\[53;78H \[22;5H\[52;72H\[1m\[7m1,\[22;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[22;5H\[53;78H \[23;5H\[52;72H\[1m\[7m2,\[23;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;5H\[53;78H \[24;5H\[52;72H\[1m\[7m3,\[24;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[24;5H\[53;78H \[25;5H\[52;72H\[1m\[7m4,\[25;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;5H\[53;78H \[26;5H\[52;72H\[1m\[7m5,\[26;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;5H\[53;78H \[27;5H\[21;12H\[46m{\[27;5H}\[m\[52;72H\[1m\[7m6,\[27;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[27;5H\[53;78H \[26;5H\[21;12H{\[27;5H}\[52;72H\[1m\[7m5,\[26;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[26;5H\[53;78H \[25;5H\[52;72H\[1m\[7m4,\[25;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[25;5H\[53;78H \[24;5H\[52;72H\[1m\[7m3,\[24;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[24;5H\[53;78H \[23;5H\[52;72H\[1m\[7m2,\[23;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[23;5H\[53;78H \[22;5H\[52;72H\[1m\[7m1,\[22;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[22;5H\[53;78H \[21;5H\[52;72H\[1m\[7m0,\[21;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[21;5H\[53;78H \[20;5H\[52;71H\[1m\[7m19,0-1\[20;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[20;5H\[53;78H \[19;5H\[11;12H\[46m{\[19;5H}\[m\[52;72H\[1m\[7m8,1   \[19;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[19;5H\[53;78H \[18;5H\[11;12H{\[19;5H}\[52;72H\[1m\[7m7,\[18;5H\[?12l\[?25h"
send -- "f"
expect -exact "\[?25l\[m\[53;78Hf\[18;5H\[?12l\[?25h"
send -- "\""
expect -exact "\[?25l\[53;79H\"\[18;5H\[53;78H  \[18;9H\[52;74H\[1m\[7m5 \[18;9H\[?12l\[?25h"
send -- ";"
expect -exact "\[?25l\[m\[53;78H;\[18;9H\[53;78H \[18;19H\[52;74H\[1m\[7m15\[18;19H\[?12l\[?25h"
send -- ";"
expect -exact "\[?25l\[m\[53;78H;\[18;19H\[53;78H \[18;28H\[52;74H\[1m\[7m24 \[18;28H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[m\[53;78Hi\[18;28H\[53;78H \[18;28H\[53;1H\[1m-- INSERT --\[m\[53;13H\[K\[18;28H\[?12l\[?25h"
send -- "-"
expect -exact "\[?25l-\"\[1m\[31m\$password\\r\[m\" }\[52;18H\[1m\[7m\[+\]\[54C5 \[18;29H\[?12l\[?25h"
send -- "-"
expect -exact "\[?25l\[m-\"\[1m\[31m\$password\\r\[m\" }\[52;75H\[1m\[7m6 \[18;30H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[m \"\[1m\[31m\$password\\r\[m\" }\[52;75H\[1m\[7m7 \[18;31H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[18;31H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[18;31H\"\[53;1H\[K\[52;75H\[1m\[7m6 \[18;30H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[18;30H\[53;78H \[19;5H\[11;12H\[46m{\[19;5H}\[m\[52;72H\[1m\[7m8,1  \[19;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[19;5H\[53;78H \[20;5H\[11;12H{\[19;5H}\[52;72H\[1m\[7m9,0-1\[20;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;5H\[53;78H \[21;12H\[46m{\[27;5H}\[m\[52;71H\[1m\[7m20,8   \[21;12H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;12H\[53;78H \[22;18H\[21;12H{\[22;18H\[46m{\[25;9H}\[m\[27;5H}\[52;72H\[1m\[7m1,14\[22;18H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[22;18H\[53;78H \[23;24H\[22;18H{\[25;9H}\[52;72H\[1m\[7m2,20 \[23;24H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[23;24H\[53;78H \[23;23H\[52;74H\[1m\[7m19 \[23;23H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[23;23H\[53;78H \[23;22H\[52;75H\[1m\[7m8 \[23;22H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[23;22H\[53;78H \[23;21H\[52;75H\[1m\[7m7 \[23;21H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[23;21H\[53;78H \[23;20H\[52;75H\[1m\[7m6 \[23;20H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[23;20H\[53;78H \[23;19H\[52;75H\[1m\[7m5 \[23;19H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[23;19H\[53;78H \[23;18H\[52;75H\[1m\[7m4 \[23;18H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[m\[53;78Hi\[23;18H\[53;78H \[23;18H\[53;1H\[1m-- INSERT --\[23;18H\[?12l\[?25h"
send -- "-"
expect -exact "\[?25l\[m-\"yes\[1m\[31m\\r\[m\"\[52;75H\[1m\[7m5 \[23;19H\[?12l\[?25h"
send -- "-"
expect -exact "\[?25l\[m-\"yes\[1m\[31m\\r\[m\"\[52;75H\[1m\[7m6 \[23;20H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[m \"yes\[1m\[31m\\r\[m\"\[52;75H\[1m\[7m7 \[23;21H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[23;21H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[23;21H\"\[53;1H\[K\[52;75H\[1m\[7m6 \[23;20H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;20H\[53;78H \[24;20H\[52;72H\[1m\[7m3,\[24;20H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[24;20H\[53;78H \[25;9H\[22;18H\[46m{\[25;9H}\[m\[52;72H\[1m\[7m4,5  \[25;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;9H\[53;78H \[26;20H\[22;18H{\[25;9H}\[52;72H\[1m\[7m5,16\[26;20H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;20H\[53;78H \[26;21H\[46m{\[20C}\[m\[52;75H\[1m\[7m7 \[26;21H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;21H\[53;78H \[26;22H{\[20C}\[52;75H\[1m\[7m8 \[26;22H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;22H\[53;78H \[26;23H\[52;75H\[1m\[7m9 \[26;23H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;23H\[53;78H \[26;24H\[52;74H\[1m\[7m20 \[26;24H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;24H\[53;78H \[26;25H\[52;75H\[1m\[7m1 \[26;25H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;25H\[53;78H \[26;26H\[52;75H\[1m\[7m2 \[26;26H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;26H\[53;78H \[26;27H\[52;75H\[1m\[7m3 \[26;27H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[m\[53;78Hi\[26;27H\[53;78H \[26;27H\[53;1H\[1m-- INSERT --\[26;27H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[m  \"\[1m\[31m\$password\\r\[m\" }\[52;75H\[1m\[7m4 \[26;28H\[?12l\[?25h"
send -- "-"
expect -exact "\[?25l\[m- \"\[1m\[31m\$password\\r\[m\" }\[52;75H\[1m\[7m5 \[26;29H\[?12l\[?25h"
send -- "-"
expect -exact "\[?25l\[m- \"\[1m\[31m\$password\\r\[m\" }\[52;75H\[1m\[7m6 \[26;30H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[26;30H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[26;30H \[53;1H\[K\[52;75H\[1m\[7m5 \[26;29H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[26;29H\[53;78H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 26L, 589C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\r"
expect -exact "\r
spawn ssh -t hadoop@133.133.131.18 ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\r\r\r
hadoop@133.133.131.18's password: \r\r
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\r\r
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\r\r
hadoop@133.133.135.34's password: \]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\r"
expect -exact "\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\r"
expect -exact "\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\r"
expect -exact "\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 26L, 589C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[10;1H\[1m\[33m    \[m\"\r
\[1m\[33m 10 expect\[m {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 18 \[m}\r
\[1m\[33m 19 \r
 20 expect\[m {\r
\[1m\[33m 21 \[m    \"yes/no\" {\r
\[1m\[33m 22 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 23 \[8Cexp_continue\r
 24 \[m    }\r
\[1m\[33m 25 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 26 \[m}\r
\[1m\[34m~                                                                                       \[29;1H~                                                                                       \[30;1H~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      25,5           All\[26;9H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[26;9H\[?12l\[?25h\[?25l\[53;78H  \[26;9H\[53;78H^\[\[26;9H\[53;80H\[\[26;9H\[53;81H>\[26;9H\[?12l\[?25h\[?25l\[53;78H    \[26;9H\[53;78H^\[\[26;9H\[53;80H\[\[26;9H\[53;81H>\[26;9H\[53;82H0\[26;9H\[?12l\[?25h\[?25l\[53;78H     \[26;9H\[53;78H^\[\[26;9H\[53;80H\[\[26;9H\[53;81H>\[26;9H\[53;82H0\[26;9H\[53;83H;\[26;9H\[?12l\[?25h\[?25l\[53;78H      \[26;9H\[53;78H^\[\[26;9H\[53;80H\[\[26;9H\[53;81H>\[26;9H\[53;82H0\[26;9H\[53;83H;\[26;9H\[53;84H1\[26;9H\[?12l\[?25h\[?25l\[53;78H       \[26;9H\[53;78H^\[\[26;9H\[53;80H\[\[26;9H\[53;81H>\[26;9H\[53;82H0\[26;9H\[53;83H;\[26;9H\[53;84H1\[26;9H\[53;85H3\[26;9H\[53;86H6\[26;9H\[?12l\[?25h\[?25l\[53;78H         \[26;9H\[53;78H^\[\[26;9H\[53;80H\[\[26;9H\[53;81H>\[26;9H\[53;82H0\[26;9H\[53;83H;\[26;9H\[53;84H1\[26;9H\[53;85H3\[26;9H\[53;86H6\[26;9H\[53;87H;\[26;9H\[53;78H\[\[>0;136;0\[26;9H\[?12l\[?25h\[?25l\[53;78H          \[26;9H\[?1000l\[?1002h\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[53;78H:\[26;9H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "e"
expect -exact "e\[?25l\[?12l\[?25h"
send -- " "
expect -exact "\[?25l \[?12l\[?25h"
send -- "e"
expect -exact "e\[?25l\[?12l\[?25h"
send -- "x"
expect -exact "x\[?25l\[?12l\[?25h"
send -- "	"
expect -exact "...\[?25l\[53;6H\[K\[53;6H\[?12l\[?25h"
send -- "x"
expect -exact "x\[?25l\[?12l\[?25h"
send -- ""
expect -exact "\[?25l\[53;6H\[K\[53;6H\[?12l\[?25h"
send -- "p"
expect -exact "p\[?25l\[?12l\[?25h"
send -- "	"
expect -exact "...\[?25l\[53;7H\[K\[53;7H\[?12l\[?25h"
send -- "	"
expect -exact "...\[?25l\[53;7H\[K\[53;7H\[?12l\[?25h"
send -- ""
expect -exact "\[?25l\[53;6H\[K\[53;6H\[?12l\[?25h"
send -- ""
expect -exact "\[?25l\[53;5H\[K\[53;5H\[?12l\[?25h"
send -- "	"
expect -exact "...\[?25l\[53;5H\[K\[53;5H\[?12l\[?25h"
send -- ""
expect -exact "\[?25l\[53;4H\[K\[53;4H\[?12l\[?25h"
send -- "s"
expect -exact "s\[?25l\[?12l\[?25h"
send -- "	"
expect -exact "...\[?25lcript.exp\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\"script.exp\" \[noeol\] 1670L, 131072C\[1;3H\[1m\[33m65 expect\[m -exact \"\[1m\[31m\\r\[m\[2;3H\[1m\[33m66 \[mEnter same passphrase again: \"\[3;3H\[1m\[33m67 send\[m -- \"\[1m\[31m\\r\[m\"\[3;18H\[K\[4;3H\[1m\[33m68 expect\[m -exact \"\[1m\[31m\\r\[m\[4;23H\[K\[5;3H\[1m\[33m69 \[mGenerating public/private rsa key pair.\[1m\[31m\\r\[m\[6;3H\[1m\[33m70 \[mCreated directory '/home/hadoop/.ssh'.\[1m\[31m\\r\[m\[7;4H\[1m\[33m1 \[mYour identification has been saved in /home/hadoop/.ssh/id_rsa.\[1m\[31m\\r\[m\[8;3H\[1m\[33m72 \[mYour public key has been saved in /home/hadoop/.ssh/id_rsa.pub.\[1m\[31m\\r\[m\[9;3H\[1m\[33m73 \[mThe key fingerprint is:\[1m\[31m\\r\[m\[9;31H\[K\[10;3H\[1m\[33m74 \[m72:e2:be:03:fa:a2:4b:14:a2:ca:ce:a2:e2:ac:98:98 hadoop@hadoop-slave3\[1m\[31m\\r\[m\[11;2H\[1m\[33m 75 \[mThe key's randomart image is:\[1m\[31m\\r\[m\[12;2H\[1m\[33m 76 \[m+--\[1m\[31m\\\[\[m RSA 2048\[1m\[31m\\\]\[m----+\[1m\[31m\\r\[m\[12;29H\[K\[13;2H\[1m\[33m 77 \[m|                 |\[1m\[31m\\r\[m\[14;2H\[1m\[33m 78 \[m|                 |\[14;27H\[K\[15;2H\[1m\[33m 79 \[m|..               |\[1m\[31m\\r\[m\[16;2H\[1m\[33m 80 \[m|o .\[14C|\[1m\[31m\\r\[m\[17;2H\[1m\[33m 81 \[m|..    o S        |\[1m\[31m\\r\[m\[17;27H\[K\[18;2H\[1m\[33m 82 \[m|+   .. +         |\[1m\[31m\\r\[m\[18;28H\[K\[19;2H\[1m\[33m 83 \[m|.o . ..\[10C|\[1m\[31m\\r\[m\[20;2H\[1m\[33m 84 \[m|Xoo  ..\[10C|\[1m\[31m\\r\[m\[21;2H\[1m\[33m 85 \[m|EB o. oo\[9C|\[1m\[31m\\r\[m\[22;2H\[1m\[33m 86 \[m+-----------------+\[1m\[31m\\r\[m\[23;2H\[1m\[33m 87 \[m\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\[1m\[31m\\\[\[mroot@hadoop-slave22\[24;1H\[1m\[33m     \[m tools\[1m\[31m\\\]\[m# \"\[24;17H\[K\[25;2H\[1m\[33m 88 send\[m -- \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@1333\[26;1H\[1m\[33m     \[m.133.135.34\[1m\[31m\\\"\[m\[26;21H\[K\[27;2H\[1m\[33m 89 expect\[m -exact \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.p \[1m\[31m\\r\[mub hh\[28;1H\[1m\[33m     \[madoop@133.133.135.34\[1m\[31m\\\"\[m\"\[28;29H\[K\[29;1H\[1m\[33m  90 send\[m -- \"\[1m\[31m\\r\[m\"\[29;18H\[K\[30;1H\[1m\[33m  91 expect\[m -exact \"\[1m\[31m\\r\[m\[30;23H\[K\[31;1H\[1m\[33m  92 \[mhadoop@133.133.131.18's password: \"\[31;41H\[K\[32;1H\[1m\[33m  93 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[32;24H\[K\[33;1H\[1m\[33m  94 expect\[m -exact \"\[1m\[31m\\r\[m\[33;23H\[K\[34;1H\[1m\[33m  95 \[mThe authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\[1m\[31m\\r\[m\[34;88H\[K\[35;1H\[1m\[33m  96 \[mECDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\[1m\[31m\\r\[m\[35;81H\[K\[36;1H\[1m\[33m  97 \[mAre you sure you want to continue connecting (yes/no)? \"\[36;62H\[K\[37;1H\[1m\[33m  98 send\[m -- \"yes\[1m\[31m\\r\[m\"\[37;21H\[K\[38;1H\[1m\[33m  99 expect\[m -exact \"yes\[1m\[31m\\r\[m\[38;26H\[K\[39;1H\[1m\[33m 100 \[m/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter outt\[40;1H\[1m\[33m     \[m any that are already installed\[1m\[31m\\r\[m\[40;39H\[K\[41;1H\[1m\[33m 101 \[m/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted  \[42;1H\[1m\[33m     \[mnow it is to install the new keys\[1m\[31m\\r\[m\[42;41H\[K\[43;1H\[1m\[33m 102 \[mhadoop@133.133.135.34's password: \"\[43;41H\[K\[44;1H\[1m\[33m 103 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[44;24H\[K\[45;1H\[1m\[33m 104 expect\[m -exact \"\[1m\[31m\\r\[m\[45;23H\[K\[46;1H\[1m\[33m 105 \[m\[1m\[31m\\r\[m\[46;8H\[K\[47;1H\[1m\[33m 106 \[mNumber of key(s) added: 1\[1m\[31m\\r\[m\[47;33H\[K\[48;1H\[1m\[33m 107 \[m\[1m\[31m\\r\[m\[48;8H\[K\[49;1H\[1m\[33m 108 \[mNow try logging into the machine, with:   \[1m\[31m\\\"\[mssh 'hadoop@133.133.135.34'\[1m\[31m\\\"\\r\[m\[49;81H\[K\[50;1H\[1m\[33m 109 \[mand check to make sure that only the key(s) you wanted were added.\[1m\[31m\\r\[m\[50;74H\[K\[51;1H\[1m\[33m 110 \[m\[1m\[31m\\r\[m\[51;8H\[K\[52;1H\[1m\[7mscript.expe       \[53C88,1 \[10C 3%\[25;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;6H\[53;78H \[27;6H\[52;72H\[1m\[7m9,\[27;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[27;6H\[53;78H \[29;6H\[52;71H\[1m\[7m90,\[29;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[29;6H\[53;78H \[30;6H\[52;72H\[1m\[7m1,\[30;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[30;6H\[53;78H \[31;6H\[52;72H\[1m\[7m2,\[31;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[31;6H\[53;78H \[32;6H\[52;72H\[1m\[7m3,\[32;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[32;6H\[53;78H \[33;6H\[52;72H\[1m\[7m4,\[33;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[33;6H\[53;78H \[34;6H\[52;72H\[1m\[7m5,\[34;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[34;6H\[53;78H \[35;6H\[52;72H\[1m\[7m6,\[35;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[35;6H\[53;78H \[36;6H\[52;72H\[1m\[7m7,\[36;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[36;6H\[53;78H \[37;6H\[52;72H\[1m\[7m8,\[37;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[37;6H\[53;78H \[38;6H\[52;72H\[1m\[7m9,\[38;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[38;6H\[53;78H \[39;6H\[52;71H\[1m\[7m100,1\[39;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[39;6H\[53;78H \[41;6H\[52;73H\[1m\[7m1,\[41;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[41;6H\[53;78H \[43;6H\[52;73H\[1m\[7m2,\[43;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[43;6H\[53;78H \[44;6H\[52;73H\[1m\[7m3,\[44;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[44;6H\[53;78H \[45;6H\[52;73H\[1m\[7m4,\[45;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[45;6H\[53;78H \[46;6H\[52;73H\[1m\[7m5,\[46;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[46;6H\[53;78H \[47;6H\[52;73H\[1m\[7m6,\[47;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[47;6H\[53;78H \[48;6H\[52;73H\[1m\[7m7,\[48;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[48;6H\[53;78H \[49;6H\[52;73H\[1m\[7m8,\[49;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[49;6H\[53;78H \[50;6H\[52;73H\[1m\[7m9,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[51;6H\[52;72H\[1m\[7m10,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 111 \[mConnection to 133.133.131.18 closed.\[1m\[31m\\r\\r\[m\[53;1H\[K\[52;73H\[1m\[7m1,\[12C4%\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m 112 \[m\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\[1m\[31m\\\[\[mroot@hadoop-slave22\[51;1H\[1m\[33m     \[m tools\[1m\[31m\\\]\[m# \"\[52;73H\[1m\[7m2,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 113 send\[m -- \"ls\[1m\[31m\\r\[m\"\[52;73H\[1m\[7m3,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 114 expect\[m -exact \"ls\[1m\[31m\\r\[m\[52;73H\[1m\[7m4,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m 115 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32madd_user.exp\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[22C\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mjava_installer.shh\[51;1H\[1m\[33m     \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[52;73H\[1m\[7m5,\[50;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[50;6H\[53;78H \[49;6H\[52;73H\[1m\[7m4,\[49;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[49;6H\[53;78H \[48;6H\[52;73H\[1m\[7m3,\[48;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[48;6H\[53;78H \[46;6H\[52;73H\[1m\[7m2,\[46;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[46;6H\[53;78H \[45;6H\[52;73H\[1m\[7m1,\[45;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[45;6H\[53;78H \[44;6H\[52;73H\[1m\[7m0,\[44;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[44;6H\[53;78H \[43;6H\[52;72H\[1m\[7m09,\[43;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[43;6H\[53;78H \[42;6H\[52;73H\[1m\[7m8,\[42;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[42;6H\[53;78H \[41;6H\[52;73H\[1m\[7m7,\[41;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[41;6H\[53;78H \[40;6H\[52;73H\[1m\[7m6,\[40;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[40;6H\[53;78H \[39;6H\[52;73H\[1m\[7m5,\[39;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[39;6H\[53;78H \[38;6H\[52;73H\[1m\[7m4,\[38;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[38;6H\[53;78H \[37;6H\[52;73H\[1m\[7m3,\[37;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[37;6H\[53;78H \[36;6H\[52;73H\[1m\[7m2,\[36;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[36;6H\[53;78H \[34;6H\[52;73H\[1m\[7m1,\[34;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[34;6H\[53;78H \[32;6H\[52;73H\[1m\[7m0,\[32;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[32;6H\[53;78H \[31;6H\[52;71H\[1m\[7m99,1  \[31;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[31;6H\[53;78H \[30;6H\[52;72H\[1m\[7m8,\[30;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[30;6H\[53;78H \[29;6H\[52;72H\[1m\[7m7,\[29;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[29;6H\[53;78H \[28;6H\[52;72H\[1m\[7m6,\[28;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[28;6H\[53;78H \[27;6H\[52;72H\[1m\[7m5,\[27;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[27;6H\[53;78H \[26;6H\[52;72H\[1m\[7m4,\[26;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;6H\[53;78H \[27;6H\[52;72H\[1m\[7m5,\[27;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[27;6H\[53;78H \[28;6H\[52;72H\[1m\[7m6,\[28;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[28;6H\[53;78H \[29;6H\[52;72H\[1m\[7m7,\[29;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[29;6H\[53;78H \[30;6H\[52;72H\[1m\[7m8,\[30;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[30;6H\[53;78H \[31;6H\[52;72H\[1m\[7m9,\[31;6H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[31;6H\[53;78H\[K\[53;1H:\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[?1002l\[53;1H\[K\[53;1H\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- ":"
expect -exact ":\[K"
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 26L, 589C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[10;1H\[1m\[33m    \[m\"\r
\[1m\[33m 10 expect\[m {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 18 \[m}\r
\[1m\[33m 19 \r
 20 expect\[m {\r
\[1m\[33m 21 \[m    \"yes/no\" {\r
\[1m\[33m 22 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 23 \[8Cexp_continue\r
 24 \[m    }\r
\[1m\[33m 25 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 26 \[m}\r
\[1m\[34m~                                                                                       \[29;1H~                                                                                       \[30;1H~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      25,5           All\[26;9H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[26;9H\[?12l\[?25h\[?25l\[53;78H  \[26;9H\[53;78H^\[\[26;9H\[53;80H\[\[26;9H\[53;81H>\[26;9H\[?12l\[?25h\[?25l\[53;78H    \[26;9H\[53;78H^\[\[26;9H\[53;80H\[\[26;9H\[53;81H>\[26;9H\[53;82H0\[26;9H\[?12l\[?25h\[?25l\[53;78H     \[26;9H\[53;78H^\[\[26;9H\[53;80H\[\[26;9H\[53;81H>\[26;9H\[53;82H0\[26;9H\[53;83H;\[26;9H\[?12l\[?25h\[?25l\[53;78H      \[26;9H\[53;78H^\[\[26;9H\[53;80H\[\[26;9H\[53;81H>\[26;9H\[53;82H0\[26;9H\[53;83H;\[26;9H\[53;84H1\[26;9H\[?12l\[?25h\[?25l\[53;78H       \[26;9H\[53;78H^\[\[26;9H\[53;80H\[\[26;9H\[53;81H>\[26;9H\[53;82H0\[26;9H\[53;83H;\[26;9H\[53;84H1\[26;9H\[53;85H3\[26;9H\[53;86H6\[26;9H\[?12l\[?25h\[?25l\[53;78H         \[26;9H\[53;78H^\[\[26;9H\[53;80H\[\[26;9H\[53;81H>\[26;9H\[53;82H0\[26;9H\[53;83H;\[26;9H\[53;84H1\[26;9H\[53;85H3\[26;9H\[53;86H6\[26;9H\[53;87H;\[26;9H\[53;78H\[\[>0;136;0\[26;9H\[?12l\[?25h\[?25l\[53;78H          \[26;9H\[?1000l\[?1002h\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[53;78H:\[26;9H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "e"
expect -exact "e\[?25l\[?12l\[?25h"
send -- " "
expect -exact "\[?25l \[?12l\[?25h"
send -- "s"
expect -exact "s\[?25l\[?12l\[?25h"
send -- "c"
expect -exact "c\[?25l\[?12l\[?25h"
send -- "r"
expect -exact "r\[?25l\[?12l\[?25h"
send -- "	"
expect -exact "...\[?25lipt.exp\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\"script.exp\" \[noeol\] 1860L, 151552C\[1;3H\[1m\[33m78 \[m|                 |\\r\[2;3H\[1m\[33m79 \[m|..\[15C|\\r\[3;3H\[1m\[33m80 \[m|o .              |\\r\[4;3H\[1m\[33m81 \[m|..    o S        |\\r\[4;27H\[K\[5;3H\[1m\[33m82 \[m|+   .. +         |\\r\[5;27H\[K\[6;3H\[1m\[33m83 \[m|.o . ..          |\\r\[6;27H\[K\[7;3H\[1m\[33m84 \[m|Xoo  ..          |\\r\[7;27H\[K\[8;4H\[1m\[33m5 \[m|EB o. oo\[9C|\\r\[9;3H\[1m\[33m86 \[m+-----------------+\\r\[9;27H\[K\[10;3H\[1m\[33m87 \[m\[1m\[34m^\[\[m\\\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\\\[root@hadoop-slave22\[11;1H\[1m\[33m     \[m tools\\\]\[1m\[36m# \"\[m\[12;2H\[1m\[33m 88 send\[m -- \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@1333\[13;1H\[1m\[33m     \[m.133.135.34\[1m\[31m\\\"\[m\"\[14;2H\[1m\[33m 89 expect\[m -exact \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.p \[1m\[31m\\r\[mub hh\[15;1H\[1m\[33m     \[madoop@133.133.135.34\[1m\[31m\\\"\[m\"\[16;2H\[1m\[33m 90 send\[m -- \"\[1m\[31m\\r\[m\"\[17;2H\[1m\[33m 91 expect\[m -exact \"\[1m\[31m\\r\[m\[17;23H\[K\[18;2H\[1m\[33m 92 \[mhadoop@133.133.131.18's password: \"\[18;41H\[K\[19;2H\[1m\[33m 93 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[20;2H\[1m\[33m 94 expect\[m -exact \"\[1m\[31m\\r\[m\[21;2H\[1m\[33m 95 \[mThe authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\[1m\[31m\\r\[m\[22;2H\[1m\[33m 96 \[mECDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\[1m\[31m\\r\[m\[23;2H\[1m\[33m 97 \[mAre you sure you want to continue connecting (yes/no)? \"\[24;2H\[1m\[33m 98 send\[m -- \"yes\[1m\[31m\\r\[m\"\[24;21H\[K\[25;2H\[1m\[33m 99 expect\[m -exact \"yes\[1m\[31m\\r\[m\[26;2H\[1m\[33m100 \[m/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter outt\[27;1H\[1m\[33m     \[m any that are already installed\[1m\[31m\\r\[m\r
\[1m\[33m 101 \[m/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted  \[29;1H\[1m\[33m     \[mnow it is to install the new keys\[1m\[31m\\r\[m\[29;41H\[K\[30;1H\[1m\[33m 102 \[mhadoop@133.133.135.34's password: \"\[30;41H\[K\[31;1H\[1m\[33m 103 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[31;24H\[K\[32;1H\[1m\[33m 104 expect\[m -exact \"\[1m\[31m\\r\[m\[32;23H\[K\[33;1H\[1m\[33m 105 \[m\[1m\[31m\\r\[m\[33;8H\[K\[34;1H\[1m\[33m 106 \[mNumber of key(s) added: 1\[1m\[31m\\r\[m\[34;33H\[K\[35;1H\[1m\[33m 107 \[m\[1m\[31m\\r\[m\[35;8H\[K\[36;1H\[1m\[33m 108 \[mNow try logging into the machine, with:   \[1m\[31m\\\"\[mssh 'hadoop@133.133.135.34'\[1m\[31m\\\"\\r\[m\[36;81H\[K\[37;1H\[1m\[33m 109 \[mand check to make sure that only the key(s) you wanted were added.\[1m\[31m\\r\[m\[37;74H\[K\[38;1H\[1m\[33m 110 \[m\[1m\[31m\\r\[m\[38;8H\[K\[39;1H\[1m\[33m 111 \[mConnection to 133.133.131.18 closed.\[1m\[31m\\r\\r\[m\[39;46H\[K\[40;1H\[1m\[33m 112 \[m\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\[1m\[31m\\\[\[mroot@hadoop-slave22\[41;1H\[1m\[33m     \[m tools\[1m\[31m\\\]\[m# \"\[41;17H\[K\[42;1H\[1m\[33m 113 send\[m -- \"ls\[1m\[31m\\r\[m\"\[42;20H\[K\[43;1H\[1m\[33m 114 expect\[m -exact \"ls\[1m\[31m\\r\[m\[43;25H\[K\[44;1H\[1m\[33m 115 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32madd_user.exp\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                      \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mjava_installer.shh\[45;1H\[1m\[33m     \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[45;14H\[K\[46;1H\[1m\[33m 116 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32madd_user.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                       \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mlogin.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[46;82H\[K\[47;1H\[1m\[33m 117 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mcenter_displayer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m               \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mlogout.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[47;83H\[K\[48;1H\[1m\[33m 118 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mcgroup_configurer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m              \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mnetwork_checker.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m00\[49;1H\[1m\[33m     \[mm\[1m\[31m\\r\[m\[49;9H\[K\[50;1H\[1m\[33m 119 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mclear_walls.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                    \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mpackage_installed_checkk\[51;1H\[1m\[33m     \[mer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[51;19H\[K\[52;1H\[1m\[7mscript.expe       \[53C99,1 \[10C 4%\[25;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;6H\[53;78H \[26;6H\[52;71H\[1m\[7m100,1\[26;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;6H\[53;78H \[28;6H\[52;73H\[1m\[7m1,\[28;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[28;6H\[53;78H \[26;6H\[52;73H\[1m\[7m0,\[26;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[26;6H\[53;78H \[25;6H\[52;71H\[1m\[7m99,1  \[25;6H\[?12l\[?25h"
send -- "V"
expect -exact "\[?25l\[m\[53;78HV\[25;6H\[53;78H1\[25;6H\[1C\[1m\[7m\[33mxpect\[m\[7m -exact \"yes\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[53;1H\[1m-- VISUAL LINE --\[m\[53;18H\[K\[53;78H1\[25;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[25;6H\[53;78H2\[26;6H\[25;6H\[1m\[7m\[33mexpect\[m\[7m \[26;7Husr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter outt\[m\[27;1H\[1m\[33m \[m\[4C\[7m any that are already installed\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[52;71H\[1m\[7m100,1\[26;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;6H\[53;78H3\[28;6H\[26;6H\[7m/\[81Ctt\[m\[27;1H\[1m\[33m \[m\[28;7H\[7musr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted  \[m\[29;1H\[1m\[33m \[m\[4C\[7mnow it is to install the new keys\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[52;73H\[1m\[7m1,\[28;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[28;6H\[53;78H4\[30;6H\[28;6H\[7m/\[81C  \[m\[29;1H\[1m\[33m \[m\[30;7H\[7madoop@133.133.135.34's password: \" \[m\[52;73H\[1m\[7m2,\[30;6H\[?12l\[?25h"
send -- "y"
expect -exact "\[?25l\[m\[53;78Hy\[30;6H\[25;6H\[1m\[33mexpect\[m -exact \"yes\[1m\[31m\\r\[m\[25;26H\[K\[26;6H/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter outt\[27;1H\[1m\[33m \[m\[4C any that are already installed\[1m\[31m\\r\[m\[27;39H\[K\[28;6H/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted  \[29;1H\[1m\[33m \[m\[4Cnow it is to install the new keys\[1m\[31m\\r\[m\[29;41H\[K\[30;7Hadoop@133.133.135.34's password: \"\[30;41H\[K\[53;1H\[K\[53;1H4 lines yanked\[25;6H\[52;71H\[1m\[7m99,1  \[25;6H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[25;6H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "b"
expect -exact "b\[?25l\[?12l\[?25h"
send -- "p"
expect -exact "p\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[26;5H\[1;3H\[1m\[33m1 \[m\[1m\[34m#!/usr/bin/expect\[m\[1;24H\[K\[2;3H\[1m\[33m2 \[m\[2;5H\[K\[3;3H\[1m\[33m3 \[m\[1m\[36m#exp_internal 1\[m\[3;24H\[K\[4;3H\[1m\[33m4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\[5;3H\[1m\[33m5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\[6;3H\[1m\[33m6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\[7;3H\[1m\[33m7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\[8;4H\[1m\[33m \[m\[8;5H\[K\[9;3H\[1m\[33m9 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[10;1H\[1m\[33m    \[m\"\[10;6H\[K\[11;2H\[1m\[33m10 expect\[m {\[11;13H\[K\[12;2H\[1m\[33m11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[12;64H\[K\[13;2H\[1m\[33m12 \[m    \"yes/no\" {\[13;19H\[K\[14;2H\[1m\[33m13 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[14;28H\[K\[15;2H\[1m\[33m14 \[m        \[1m\[33mexp_continue\[m\[15;25H\[K\[16;2H\[1m\[33m15 \[m    }\[16;11H\[K\[17;2H\[1m\[33m16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[18;2H\[1m\[33m17 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[19;2H\[1m\[33m18 \[m}\[19;6H\[K\[20;2H\[1m\[33m19 \[m\[20;5H\[K\[21;2H\[1m\[33m20 expect\[m {\[21;13H\[K\[22;2H\[1m\[33m21 \[m    \"yes/no\" {\[22;19H\[K\[23;2H\[1m\[33m22 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[23;28H\[K\[24;2H\[1m\[33m23 \[m        \[1m\[33mexp_continue\r
 24 \[m    }\[25;10H\[K\[26;2H\[1m\[33m25 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[26;46H\[K\[27;2H\[1m\[33m26 \[m}\[27;7H\[K\[28;1H\[1m\[34m~                                                                                       \[29;1H~                                                                                       \[30;1H~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp\[54C25,\[12CAll\[m\[53;1H\"copy_ssh_key.exp\" 26 lines --96%--\[26;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[26;5H\[53;78H \[25;5H\[52;72H\[1m\[7m4,\[25;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[25;5H\[53;78H \[24;5H\[52;72H\[1m\[7m3,\[24;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[24;5H\[53;78H \[23;5H\[52;72H\[1m\[7m2,\[23;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[23;5H\[53;78H \[22;5H\[52;72H\[1m\[7m1,\[22;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[22;5H\[53;78H \[21;5H\[52;72H\[1m\[7m0,\[21;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[21;5H\[53;78H \[20;5H\[52;71H\[1m\[7m19,0-1\[20;5H\[?12l\[?25h"
send -- "P"
expect -exact "\[?25l\[m\[53;78HP\[20;5H\[53;1H4 more lines\[53;13H\[K\[20;5H\[1m\[33mexpect\[m -exact \"yes\[1m\[31m\\r\[m\[21;5H/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out  \[22;1H\[1m\[33m    \[many that are already installed\[1m\[31m\\r\[m\[23;3H\[1m\[33m1 \[m/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted nn\[24;1H\[1m\[33m    \[mow it is to install the new keys\[1m\[31m\\r\[m\[25;3H\[1m\[33m2 \[mhadoop@133.133.135.34's password: \"\[26;3H\[1m\[33m3 \[m\[26;9H\[K\[27;3H\[1m\[33m4 expect\[m {\r
\[1m\[33m 25 \[m    \"yes/no\" {\[28;19H\[K\[29;1H\[1m\[33m 26 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[29;28H\[K\[30;1H\[1m\[33m 27 \[m        \[1m\[33mexp_continue\[m\[30;25H\[K\[31;1H\[1m\[33m 28 \[m    }\[31;10H\[K\[32;1H\[1m\[33m 29 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[32;46H\[K\[33;1H\[1m\[33m 30 \[m}\[33;6H\[K\[52;18H\[1m\[7m\[+\]\[53C1   \[20;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd\[20;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[53;78H \[20;5H\[?12l\[?25h\[?25l\[53;78Hdd\[20;5H\[53;78H  \[20;5H/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out  \[21;1H\[1m\[33m    \[many that are already installed\\r\[21;37H\[K\[22;2H\[1m\[33m20 \[m/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted nn\[23;1H\[1m\[33m    \[mow it is to install the new keys\\r\[23;39H\[K\[24;2H\[1m\[33m21 \[mhadoop@133.133.135.34's password: \"\[25;5H\[K\[26;5Hexpect {\[27;5H    \"yes/no\" {\[28;9H    send -- \"yes\\r\"\[29;13Hexp_continue\[29;25H\[K\[30;9H}\[30;13H\[K\[31;9H\"password:\" { send -- \"\[1m\[31m\$password\[m\\r\" }\[32;5H}\[32;9H\[K\[33;1H\[1m\[34m~                                                                                       \[20;5H\[?12l\[?25h"
send -- "u"
expect -exact "\[?25l\[m\[53;78Hu\[20;5H\[53;1H1\[10C; before #2  2 seconds ago\[53;78H\[K\[20;5H\[1m\[33mexpect\[m -exact \"yes\[1m\[31m\\r\[m\[20;25H\[K\[21;2H\[1m\[33m20 \[m/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out  \[22;1H\[1m\[33m    \[many that are already installed\[1m\[31m\\r\[m\[22;37H\[K\[23;2H\[1m\[33m21 \[m/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted nn\[24;1H\[1m\[33m    \[mow it is to install the new keys\[1m\[31m\\r\[m\[24;39H\[K\[25;5Hhadoop@133.133.135.34's password: \"\[26;5H\[K\[27;5H\[1m\[33mexpect\[m {\[27;13H\[K\[28;9H\"yes/no\" {\[28;19H\[K\[29;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[30;9H    \[1m\[33mexp_continue\[m\[31;9H}\[31;10H\[K\[32;5H    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 30 \[m}\[33;6H\[K\[20;5H\[?12l\[?25h"
send -- "u"
expect -exact "\[?25l\[53;78Hu\[20;5H\[53;1H4 fewer lines; before #1  16 seconds ago\[53;78H\[K\[20;5H\[20;5H\[K\[21;5H\[1m\[33mexpect\[m {\[21;13H\[K\[22;2H\[1m\[33m21 \[m    \"yes/no\" {\[22;19H\[K\[23;3H\[1m\[33m2 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[23;28H\[K\[24;2H\[1m\[33m23 \[m        \[1m\[33mexp_continue\[m\[24;25H\[K\[25;3H\[1m\[33m4 \[m    }\[25;10H\[K\[26;3H\[1m\[33m5 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[27;3H\[1m\[33m6 \[m}\[27;6H\[K\[28;1H\[1m\[34m~                                                                                       \[29;1H~                                                                                       \[30;1H~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[m\[52;18H\[1m\[7m    \[52C0-1\[20;5H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[20;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\"copy_ssh_key.exp\" 26L, 589C written\[20;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[20;5H\[53;78H \[19;5H\[11;12H\[46m{\[19;5H}\[m\[52;72H\[1m\[7m8,1   \[19;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[19;5H\[53;78H \[18;5H\[11;12H{\[19;5H}\[52;72H\[1m\[7m7,\[18;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[18;5H\[53;78H \[17;5H\[52;72H\[1m\[7m6,\[17;5H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[17;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 26L, 589C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "vim \[A"
expect -exact "copy_ssh_key.exp "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[D"
expect -exact ""
send -- "\[B"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 26L, 589C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[10;1H\[1m\[33m    \[m\"\r
\[1m\[33m 10 expect\[m {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 18 \[m}\r
\[1m\[33m 19 \r
 20 expect\[m {\r
\[1m\[33m 21 \[m    \"yes/no\" {\r
\[1m\[33m 22 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 23 \[8Cexp_continue\r
 24 \[m    }\r
\[1m\[33m 25 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 26 \[m}\r
\[1m\[34m~                                                                                       \[29;1H~                                                                                       \[30;1H~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      16,5           All\[17;9H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[17;9H\[53;80H\[\[17;9H\[?12l\[?25h\[?25l\[53;78H   \[17;9H\[53;78H^\[\[17;9H\[53;80H\[\[17;9H\[53;81H>\[17;9H\[?12l\[?25h\[?25l\[53;78H    \[17;9H\[53;78H^\[\[17;9H\[53;80H\[\[17;9H\[53;81H>\[17;9H\[53;82H0\[17;9H\[53;83H;\[17;9H\[53;84H1\[17;9H\[?12l\[?25h\[?25l\[53;78H       \[17;9H\[53;78H^\[\[17;9H\[53;80H\[\[17;9H\[53;81H>\[17;9H\[53;82H0\[17;9H\[53;83H;\[17;9H\[53;84H1\[17;9H\[53;85H3\[17;9H\[53;86H6\[17;9H\[?12l\[?25h\[?25l\[53;78H         \[17;9H\[53;78H^\[\[17;9H\[53;80H\[\[17;9H\[53;81H>\[17;9H\[53;82H0\[17;9H\[53;83H;\[17;9H\[53;84H1\[17;9H\[53;85H3\[17;9H\[53;86H6\[17;9H\[53;87H;\[17;9H\[53;78H\[\[>0;136;0\[17;9H\[?12l\[?25h\[?25l\[53;78H          \[17;9H\[?1000l\[?1002h\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[17;9H\[53;78H \[16;9H\[13;18H\[46m{\[16;9H}\[m\[52;72H\[1m\[7m5,\[16;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[16;9H\[53;78H \[15;9H\[13;18H{\[16;9H}\[52;72H\[1m\[7m4,\[15;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[15;9H\[53;78H \[14;9H\[52;72H\[1m\[7m3,\[14;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[14;9H\[53;78H \[13;9H\[52;72H\[1m\[7m2,\[13;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[13;9H\[53;78H \[12;9H\[52;72H\[1m\[7m1,\[12;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[12;9H\[53;78H \[11;9H\[52;72H\[1m\[7m0,\[11;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[11;9H\[53;78H \[9;9H\[52;71H\[1m\[7m9,5  \[9;9H\[?12l\[?25h"
send -- ","
expect -exact "\[?25l\[m\[53;78H,\[9;9H\[?12l\[?25h"
send -- "c"
expect -exact "\[?25l\[53;78H \[9;9H\[53;78H,\[9;9H\[53;79Hc\[9;9H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[53;78H  \[9;9H\[1m\[36m#spawn ssh -t \$user_name@\$client \"ssh-copy-id -i ~/.ssh/id_rsa.pub \$user_name@\$servee\[m\[10;1H\[1m\[33m \[m\[3C\[1m\[36mr\"\[m\[52;18H\[1m\[7m\[+\]\[9;9H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[9;9H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 26L, 590C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\r"
expect -exact "\r
"
send -- "yes/no\r"
expect -exact "yes/no\r
yes\r"
send -- "password:\r"
expect -exact "password:\r
onceas\r"
send -- "password:\r"
expect -exact "password:\r
onceas\r\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 26L, 590C\[>c"
send -- "\[2;2R"
expect -exact "\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[m\[1m\[36m#spawn ssh -t \$user_name@\$client \"ssh-copy-id -i ~/.ssh/id_rsa.pub \$user_name@\$servee\[m\[10;1H\[1m\[33m    \[m\[1m\[36mr\"\[m\r
\[1m\[33m 10 expect\[m {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 18 \[m}\r
\[1m\[33m 19 \r
 20 expect\[m {\r
\[1m\[33m 21 \[m    \"yes/no\" {\r
\[1m\[33m 22 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 23 \[8Cexp_continue\r
 24 \[m    }\r
\[1m\[33m 25 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 26 \[m}\r
\[1m\[34m~                                                                                       \[29;1H~                                                                                       \[30;1H~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      9,1            All\[9;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[9;5H\[53;80H\[\[9;5H\[?12l\[?25h\[?25l\[53;78H   \[9;5H\[53;78H^\[\[9;5H\[53;80H\[\[9;5H\[53;81H>\[9;5H\[?12l\[?25h\[?25l\[53;78H    \[9;5H\[53;78H^\[\[9;5H\[53;80H\[\[9;5H\[53;81H>\[9;5H\[53;82H0\[9;5H\[53;83H;\[9;5H\[53;84H1\[9;5H\[?12l\[?25h\[?25l\[53;78H       \[9;5H\[53;78H^\[\[9;5H\[53;80H\[\[9;5H\[53;81H>\[9;5H\[53;82H0\[9;5H\[53;83H;\[9;5H\[53;84H1\[9;5H\[53;85H3\[9;5H\[53;86H6\[9;5H\[?12l\[?25h\[?25l\[53;78H         \[9;5H\[53;78H^\[\[9;5H\[53;80H\[\[9;5H\[53;81H>\[9;5H\[53;82H0\[9;5H\[53;83H;\[9;5H\[53;84H1\[9;5H\[53;85H3\[9;5H\[53;86H6\[9;5H\[53;87H;\[9;5H\[53;78H\[\[>0;136;0\[9;5H\[?12l\[?25h\[?25l\[53;78H          \[9;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[9;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[8;5H\[53;78H \[7;5H\[52;71H\[1m\[7m7,1   \[7;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[7;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[8;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,1   \[9;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[9;5H\[53;78H \[11;5H\[52;71H\[1m\[7m10,1\[11;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[11;5H\[53;78H \[12;5H\[52;72H\[1m\[7m1,\[12;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[12;5H\[53;78H \[13;5H\[52;72H\[1m\[7m2,\[13;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[13;5H\[53;78H \[14;5H\[52;72H\[1m\[7m3,\[14;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[14;5H\[53;78H \[15;5H\[52;72H\[1m\[7m4,\[15;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[15;5H\[53;78H \[16;5H\[52;72H\[1m\[7m5,\[16;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[16;5H\[53;78H \[17;5H\[52;72H\[1m\[7m6,\[17;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[17;5H\[53;78H \[18;5H\[52;72H\[1m\[7m7,\[18;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[18;5H\[53;78H \[19;5H\[11;12H\[46m{\[19;5H}\[m\[52;72H\[1m\[7m8,\[19;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[19;5H\[53;78H \[20;5H\[11;12H{\[19;5H}\[52;72H\[1m\[7m9,0-1\[20;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;5H\[53;78H \[21;5H\[52;71H\[1m\[7m20,1   \[21;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[21;5H\[53;78H \[20;5H\[52;71H\[1m\[7m19,0-1\[20;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[20;5H\[53;78H \[19;5H\[11;12H\[46m{\[19;5H}\[m\[52;72H\[1m\[7m8,1   \[19;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[19;5H\[53;78H \[18;5H\[11;12H{\[19;5H}\[52;72H\[1m\[7m7,\[18;5H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;5H\[53;78H \[18;6H\[52;74H\[1m\[7m2 \[18;6H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;6H\[53;78H \[18;7H\[52;74H\[1m\[7m3 \[18;7H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;7H\[53;78H \[18;8H\[52;74H\[1m\[7m4 \[18;8H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;8H\[53;78H \[18;9H\[52;74H\[1m\[7m5 \[18;9H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;9H\[53;78H \[18;10H\[52;74H\[1m\[7m6 \[18;10H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;10H\[53;78H \[18;11H\[52;74H\[1m\[7m7 \[18;11H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;11H\[53;78H \[18;12H\[52;74H\[1m\[7m8 \[18;12H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;12H\[53;78H \[18;13H\[52;74H\[1m\[7m9 \[18;13H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;13H\[53;78H \[18;14H\[52;74H\[1m\[7m10\[18;14H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;14H\[53;78H \[18;15H\[52;75H\[1m\[7m1 \[18;15H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;15H\[53;78H \[18;16H\[52;75H\[1m\[7m2 \[18;16H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;16H\[53;78H \[18;17H\[52;75H\[1m\[7m3 \[18;17H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;17H\[53;78H \[18;18H\[52;75H\[1m\[7m4 \[18;18H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;18H\[53;78H \[18;19H\[52;75H\[1m\[7m5 \[18;19H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;19H\[53;78H \[18;20H\[52;75H\[1m\[7m6 \[18;20H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;20H\[53;78H \[18;21H\[46m{\[23C}\[m\[52;75H\[1m\[7m7 \[18;21H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;21H\[53;78H \[18;22H{\[23C}\[52;75H\[1m\[7m8 \[18;22H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[18;22H\[53;78H \[18;23H\[52;75H\[1m\[7m9 \[18;23H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[m\[53;78Hi\[18;23H\[53;78H \[18;23H\[53;1H\[1m-- INSERT --\[m\[53;13H\[K\[18;23H\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[18;23H\[K\[19;5H\[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[20;5H}\[21;5H\[K\[22;5H\[1m\[33mexpect\[m {\[22;13H\[K\[23;9H\"yes/no\" {\[23;19H\[K\[24;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[25;9H    \[1m\[33mexp_continue\[m\[26;9H}\[26;10H\[K\[27;5H    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 27 \[m}\[28;6H\[K\[52;18H\[1m\[7m\[+\]\[51C8,1  \[19;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[1m\[33me\[?25l\[m\[53;78Hj\[19;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[19;5H\[1m\[33ms\[m\[53;1H\[K\[19;5H\[?12l\[?25h"
send -- ">"
expect -exact "\[?25l\[53;78H>\[19;5H\[?12l\[?25h"
send -- ">"
expect -exact "\[?25l\[53;79H>\[19;5H\[53;78H  \[19;9H    \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[52;74H\[1m\[7m5 \[19;9H\[?12l\[?25h"
send -- "u"
expect -exact "\[?25l\[m\[53;78Hu\[19;9H\[53;1H1 change; before #2  1 seconds ago\[53;78H\[K\[19;5H\[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[19;28H\[K\[52;74H\[1m\[7m1 \[19;5H\[?12l\[?25h"
send -- ">"
expect -exact "\[?25l\[m\[53;78H>\[19;5H\[?12l\[?25h"
send -- ">"
expect -exact "\[?25l\[53;79H>\[19;5H\[53;78H  \[19;9H    \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[52;74H\[1m\[7m5 \[19;9H\[?12l\[?25h"
send -- "."
expect -exact "\[?25l\[m\[53;78H.\[19;9H\[53;78H \[19;9H\[53;78H>>\[19;9H\[53;78H  \[19;13H    \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[52;74H\[1m\[7m9 \[19;13H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;13H\[53;78H \[19;14H\[52;74H\[1m\[7m10\[19;14H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;14H\[53;78H \[19;15H\[52;75H\[1m\[7m1 \[19;15H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;15H\[53;78H \[19;16H\[52;75H\[1m\[7m2 \[19;16H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;16H\[53;78H \[19;17H\[52;75H\[1m\[7m3 \[19;17H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;17H\[53;78H \[19;18H\[52;75H\[1m\[7m4 \[19;18H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;18H\[53;78H \[19;19H\[52;75H\[1m\[7m5 \[19;19H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;19H\[53;78H \[19;20H\[52;75H\[1m\[7m6 \[19;20H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;20H\[53;78H \[19;21H\[52;75H\[1m\[7m7 \[19;21H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;21H\[53;78H \[19;22H\[52;75H\[1m\[7m8 \[19;22H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;22H\[53;78H \[19;23H\[52;75H\[1m\[7m9 \[19;23H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;23H\[53;78H \[19;24H\[52;74H\[1m\[7m20 \[19;24H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;24H\[53;78H \[19;25H\[52;75H\[1m\[7m1 \[19;25H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;25H\[53;78H \[19;26H\[52;75H\[1m\[7m2 \[19;26H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;26H\[53;78H \[19;27H\[52;75H\[1m\[7m3 \[19;27H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;27H\[53;78H \[19;28H\[52;75H\[1m\[7m4 \[19;28H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;28H\[53;78H \[19;29H\[52;75H\[1m\[7m5 \[19;29H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;29H\[53;78H \[19;30H\[52;75H\[1m\[7m6 \[19;30H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;30H\[53;78H \[19;31H\[52;75H\[1m\[7m7 \[19;31H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;31H\[53;78H \[19;32H\[52;75H\[1m\[7m8 \[19;32H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;32H\[53;78H \[19;33H\[52;75H\[1m\[7m9 \[19;33H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;33H\[53;78H \[19;34H\[52;74H\[1m\[7m30 \[19;34H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[19;34H\[53;78H \[19;35H\[18;21H\[46m{\[19;35H}\[m\[52;75H\[1m\[7m1 \[19;35H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[m\[53;78Hi\[19;35H\[53;78H \[19;35H\[53;1H\[1m-- INSERT --\[m\[53;13H\[K\[19;35H\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[46m \[m\[21;5H}\[22;5H\[K\[23;5H\[1m\[33mexpect\[m {\[23;13H\[K\[24;9H\"yes/no\" {\[24;19H\[K\[25;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[26;9H    \[1m\[33mexp_continue\[m\[27;9H}\[27;10H\[K\[28;5H    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 28 \[m}\[29;6H\[K\[52;72H\[1m\[7m9,1  \[m\[19;35H\[K\[20;5H\[46m}\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[20;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[20;5H\[46m}\[m\[53;1H\[K\[20;5H\[?12l\[?25h"
send -- ">"
expect -exact "\[?25l\[53;78H>\[20;5H\[?12l\[?25h"
send -- ">"
expect -exact "\[?25l\[53;79H>\[20;5H\[53;78H  \[20;9H    \[46m}\[m\[52;74H\[1m\[7m5 \[20;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;9H\[53;78H \[21;5H\[11;12H\[46m{\[m\[18;21H{\[20;9H}\[21;5H\[46m}\[m\[52;71H\[1m\[7m20,1 \[21;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;5H\[53;78H \[22;5H\[11;12H{\[21;5H}\[52;72H\[1m\[7m1,0-1\[22;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[22;5H\[53;78H \[23;9H\[52;72H\[1m\[7m2,5   \[23;9H\[?12l\[?25h"
send -- "V"
expect -exact "\[?25l\[m\[53;78HV\[23;9H\[53;78H1\[23;9H\[1m\[7m\[33mexpe\[m\[1m\[33mc\[m\[1m\[7m\[33mt\[m\[7m { \[m\[53;1H\[1m-- VISUAL LINE --\[m\[53;78H\[K\[53;78H1\[23;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[23;9H\[53;78H2\[24;9H\[23;9H\[1m\[7m\[33mct\[m\[7m \[24;5H    \[m\"\[7myes/no\" { \[m\[52;72H\[1m\[7m3,\[24;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[24;9H\[53;78H3\[25;9H\[24;9H\[7m\"\[25;5H    \[m \[7m   \[m\[1m\[7m\[33msend\[m\[7m -- \"yes\[m\[1m\[7m\[31m\\r\[m\[7m\" \[m\[52;72H\[1m\[7m4,\[25;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;9H\[53;78H4\[26;9H\[25;9H\[7m \[26;5H    \[m \[7m   \[m\[1m\[7m\[33mexp_continue\[m\[7m \[m\[52;72H\[1m\[7m5,\[26;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;9H\[53;78H5\[27;9H\[26;9H\[7m \[27;5H    \[m\[46m}\[m\[7m \[m\[52;72H\[1m\[7m6,\[27;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[27;9H\[53;78H6\[28;9H\[27;9H\[7m}\[28;5H    \[m\"\[7mpassword:\" { \[m\[1m\[7m\[33msend\[m\[7m -- \"\[m\[1m\[7m\[31m\$password\\r\[m\[7m\" } \[m\[52;72H\[1m\[7m7,\[28;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[28;9H\[53;78H7\[29;6H\[28;9H\[7m\"\[29;5H}\[m\[52;72H\[1m\[7m8,2 \[29;6H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd\[29;6H\[53;1H7 fewer lines\[1mE\[m\[53;14H\[K\[22;5H\r
\[1m\[34m~                                                                                       \[24;1H~                                                                                       \[25;1H~                                                                                       \[26;1H~                                                                                       \[27;1H~                                                                                       \[28;1H~                                                                                       \[29;1H~                                                                                       \[m\[52;72H\[1m\[7m1,0-1\[22;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[22;5H\[53;78H \[21;5H\[11;12H\[46m{\[21;5H}\[m\[52;72H\[1m\[7m0,1   \[21;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[21;5H\[53;78H \[20;5H\[11;12H{\[21;5H}\[52;71H\[1m\[7m19,\[20;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[20;5H\[53;78H \[19;5H\[52;72H\[1m\[7m8,\[19;5H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[m\[53;78Hp\[19;5H\[53;3Hmore lines\[53;13H\[K\[20;5H\[1m\[33mexpect\[m {\[21;5H    \"yes/no\" {\[22;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 22 \[m        \[1m\[33mexp_continue\[m\[23;25H\[K\[24;1H\[1m\[33m 23 \[m    }\[24;10H\[K\[25;1H\[1m\[33m 24 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[25;46H\[K\[26;1H\[1m\[33m 25 \[m}\[26;6H\[K\[27;1H\[1m\[33m 26 \[m    }\[27;10H\[K\[28;1H\[1m\[33m 27 \[m}\[28;6H\[K\[29;1H\[1m\[33m 28 \[m\[29;5H\[K\[52;72H\[1m\[7m9,\[20;5H\[?12l\[?25h"
send -- "V"
expect -exact "\[?25l\[m\[53;78HV\[20;5H\[53;78H1\[20;5H\[1C\[1m\[7m\[33mxpect\[m\[7m { \[m\[53;1H\[1m-- VISUAL LINE --\[m\[53;78H\[K\[53;78H1\[20;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[20;5H\[53;78H2\[21;5H\[20;5H\[1m\[7m\[33mexpect\[m\[7m \[21;6H   \"yes/no\" { \[m\[52;71H\[1m\[7m20,\[21;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;5H\[53;78H3\[22;5H\[21;5H\[7m \[22;6H       \[m\[1m\[7m\[33msend\[m\[7m -- \"yes\[m\[1m\[7m\[31m\\r\[m\[7m\" \[m\[52;72H\[1m\[7m1,\[22;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[22;5H\[53;78H4\[23;5H\[22;5H\[7m \[23;6H       \[m\[1m\[7m\[33mexp_continue\[m\[7m \[m\[52;72H\[1m\[7m2,\[23;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;5H\[53;78H5\[24;5H\[23;5H\[7m \[24;6H   } \[m\[52;72H\[1m\[7m3,\[24;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[24;5H\[53;78H6\[25;5H\[24;5H\[7m \[25;6H   \"password:\" { \[m\[1m\[7m\[33msend\[m\[7m -- \"\[m\[1m\[7m\[31m\$password\\r\[m\[7m\" } \[m\[52;72H\[1m\[7m4,\[25;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;5H\[53;78H7\[26;5H\[25;5H\[7m \[m\[26;5H\[46m}\[m\[7m \[m\[52;72H\[1m\[7m5,\[26;5H\[?12l\[?25h"
send -- ">"
expect -exact "\[?25l\[m\[53;78H>\[26;5H\[53;1H7 lines >ed 1 time\[53;78H\[K\[20;9H    \[1m\[33mexpect\[m {\[21;5H        \"yes/no\" {\[22;5H            \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[23;5H            \[1m\[33mexp_continue\[m\[24;5H        }\[25;5H        \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[26;5H    }\[52;71H\[1m\[7m19,5 \[20;9H\[?12l\[?25h"
send -- "."
expect -exact "\[?25l\[m\[53;78H.\[20;9H\[53;78H \[20;9H\[53;78H>\[20;9H\[53;78H\[K\[20;13H    \[1m\[33mexpect\[m {\[21;13H    \"yes/no\" {\[22;17H    \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[23;17H    \[1m\[33mexp_continue\[m\[24;13H    }\[25;13H    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[26;9H    }\[52;74H\[1m\[7m9 \[20;13H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[20;13H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\"copy_ssh_key.exp\" 28L, 660C written\[20;13H\[52;18H\[1m\[7m    \[20;13H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[20;13H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 28L, 660C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\r"
expect -exact "\r
"
send -- "yes/no\r"
expect -exact "yes/no\r
yes\r"
send -- "password:\r"
expect -exact "password:\r
onceas\r"
send -- "password:\r"
expect -exact "password:\r
onceas\r\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 28L, 660C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[m\[1m\[36m#spawn ssh -t \$user_name@\$client \"ssh-copy-id -i ~/.ssh/id_rsa.pub \$user_name@\$servee\[m\[10;1H\[1m\[33m    \[m\[1m\[36mr\"\[m\r
\[1m\[33m 10 expect\[m {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" {\r
\[1m\[33m 18 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 19 \[8Cexpect\[m {\r
\[1m\[33m 20 \[m\[12C\"yes/no\" {\r
\[1m\[33m 21 \[16Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 22 \[16Cexp_continue\r
 23 \[m\[12C}\r
\[1m\[33m 24 \[m\[12C\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 25 \[m\[8C}\r
\[1m\[33m 26 \[m    }\r
\[1m\[33m 27 \[m}\r
\[1m\[33m 28 \[m\r
\[1m\[34m~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      19,9           All\[20;13H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[20;13H\[53;80H\[\[20;13H\[?12l\[?25h\[?25l\[53;78H   \[20;13H\[53;78H^\[\[20;13H\[53;80H\[\[20;13H\[53;81H>\[20;13H\[?12l\[?25h\[?25l\[53;78H    \[20;13H\[53;78H^\[\[20;13H\[53;80H\[\[20;13H\[53;81H>\[20;13H\[53;82H0\[20;13H\[53;83H;\[20;13H\[53;84H1\[20;13H\[?12l\[?25h\[?25l\[53;78H       \[20;13H\[53;78H^\[\[20;13H\[53;80H\[\[20;13H\[53;81H>\[20;13H\[53;82H0\[20;13H\[53;83H;\[20;13H\[53;84H1\[20;13H\[53;85H3\[20;13H\[53;86H6\[20;13H\[?12l\[?25h\[?25l\[53;78H         \[20;13H\[53;78H^\[\[20;13H\[53;80H\[\[20;13H\[53;81H>\[20;13H\[53;82H0\[20;13H\[53;83H;\[20;13H\[53;84H1\[20;13H\[53;85H3\[20;13H\[53;86H6\[20;13H\[53;87H;\[20;13H\[53;78H\[\[>0;136;0\[20;13H\[?12l\[?25h\[?25l\[53;78H          \[20;13H\[?1000l\[?1002h\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[53;78Hl\[20;13H\[53;78H \[20;14H\[52;74H\[1m\[7m10\[20;14H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[20;14H\[53;78H \[20;15H\[52;75H\[1m\[7m1 \[20;15H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[20;15H\[53;78H \[20;16H\[52;75H\[1m\[7m2 \[20;16H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[20;16H\[53;78H \[20;17H\[52;75H\[1m\[7m3 \[20;17H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[20;17H\[53;78H \[20;18H\[52;75H\[1m\[7m4 \[20;18H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[20;18H\[53;78H \[20;19H\[52;75H\[1m\[7m5 \[20;19H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[20;19H\[53;78H \[20;20H\[46m{\[26;13H}\[m\[52;75H\[1m\[7m6 \[20;20H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;20H\[53;78H \[21;20H\[20;20H{\[26;13H}\[52;71H\[1m\[7m20,\[21;20H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;20H\[53;78H \[22;20H\[52;72H\[1m\[7m1,\[22;20H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[22;20H\[53;78H \[23;20H\[52;72H\[1m\[7m2,\[23;20H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;20H\[53;78H \[24;17H\[21;26H\[46m{\[24;17H}\[m\[52;72H\[1m\[7m3,13 \[24;17H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[24;17H\[53;78H \[25;20H\[21;26H{\[24;17H}\[52;72H\[1m\[7m4,16 \[25;20H\[?12l\[?25h"
send -- "y"
expect -exact "\[?25l\[m\[53;78Hy\[25;20H\[?12l\[?25h"
send -- "y"
expect -exact "\[?25l\[53;78H \[25;20H\[?12l\[?25h\[?25l\[53;78Hyy\[25;20H\[53;78H  \[25;20H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[53;78Hp\[25;20H\[53;78H \[26;17H    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[27;9H    }\[28;5H    }\[29;5H}\r
\[1m\[33m 29 \[m\[30;5H\[K\[52;18H\[1m\[7m\[+\]\[51C5,13 \[26;17H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;17H\[53;78H \[26;18H\[52;75H\[1m\[7m4 \[26;18H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;18H\[53;78H \[26;19H\[52;75H\[1m\[7m5 \[26;19H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;19H\[53;78H \[26;20H\[52;75H\[1m\[7m6 \[26;20H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;20H\[53;78H \[26;21H\[52;75H\[1m\[7m7 \[26;21H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;21H\[53;78H \[26;22H\[52;75H\[1m\[7m8 \[26;22H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;22H\[53;78H \[26;23H\[52;75H\[1m\[7m9 \[26;23H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;23H\[53;78H \[26;24H\[52;74H\[1m\[7m20 \[26;24H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;24H\[53;78H \[26;25H\[52;75H\[1m\[7m1 \[26;25H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;25H\[53;78H \[26;26H\[52;75H\[1m\[7m2 \[26;26H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;26H\[53;78H \[26;27H\[52;75H\[1m\[7m3 \[26;27H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;27H\[53;78H \[26;28H\[52;75H\[1m\[7m4 \[26;28H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;28H\[53;78H \[26;29H\[46m{\[23C}\[m\[52;75H\[1m\[7m5 \[26;29H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;29H\[53;78H \[26;30H{\[23C}\[52;75H\[1m\[7m6 \[26;30H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;30H\[53;78H \[26;31H\[52;75H\[1m\[7m7 \[26;31H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;31H\[53;78H \[26;32H\[52;75H\[1m\[7m8 \[26;32H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;32H\[53;78H \[26;33H\[52;75H\[1m\[7m9 \[26;33H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;33H\[53;78H \[26;34H\[52;74H\[1m\[7m30 \[26;34H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;34H\[53;78H \[26;35H\[52;75H\[1m\[7m1 \[26;35H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;35H\[53;78H \[26;36H\[52;75H\[1m\[7m2 \[26;36H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;36H\[53;78H \[26;37H\[52;75H\[1m\[7m3 \[26;37H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;37H\[53;78H \[26;38H\[52;75H\[1m\[7m4 \[26;38H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;38H\[53;78H \[26;39H\[52;75H\[1m\[7m5 \[26;39H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[26;39H\[53;78H \[26;40H\[52;75H\[1m\[7m6 \[26;40H\[?12l\[?25h"
send -- "c"
expect -exact "\[?25l\[m\[53;78Hc\[26;40H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[53;78H \[26;40H\[?12l\[?25h\[?25l\[53;78Hci\[26;40H\[?12l\[?25h"
send -- "\""
expect -exact "\[?25l\[53;80H\"\[26;40H\[53;78H   \[26;40H\[53;1H\[1m-- INSERT --\[m\[53;13H\[K\[26;40H\" }\[26;43H\[K\[26;40H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25lh\" }\[52;75H\[1m\[7m7 \[26;41H\[?12l\[?25h"
send -- "e"
expect -exact "\[?25l\[me\" }\[52;75H\[1m\[7m8 \[26;42H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[ml\" }\[52;75H\[1m\[7m9 \[26;43H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[ml\" }\[52;74H\[1m\[7m40 \[26;44H\[?12l\[?25h"
send -- "o"
expect -exact "\[?25l\[mo\" }\[52;75H\[1m\[7m1 \[26;45H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[m \" }\[52;75H\[1m\[7m2 \[26;46H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[mi\" }\[52;75H\[1m\[7m3 \[26;47H\[?12l\[?25h"
send -- "n"
expect -exact "\[?25l\[mn\" }\[52;75H\[1m\[7m4 \[26;48H\[?12l\[?25h"
send -- "n"
expect -exact "\[?25l\[mn\" }\[52;75H\[1m\[7m5 \[26;49H\[?12l\[?25h"
send -- ""
expect -exact "\[?25l\[m\" }\[26;51H\[K\[52;75H\[1m\[7m4 \[26;48H\[?12l\[?25h"
send -- "m"
expect -exact "\[?25l\[mm\" }\[52;75H\[1m\[7m5 \[26;49H\[?12l\[?25h"
send -- "o"
expect -exact "\[?25l\[mo\" }\[52;75H\[1m\[7m6 \[26;50H\[?12l\[?25h"
send -- "t"
expect -exact "\[?25l\[mt\" }\[52;75H\[1m\[7m7 \[26;51H\[?12l\[?25h"
send -- ""
expect -exact "\[?25l\[m\" }\[26;53H\[K\[52;75H\[1m\[7m6 \[26;50H\[?12l\[?25h"
send -- "s"
expect -exact "\[?25l\[ms\" }\[52;75H\[1m\[7m7 \[26;51H\[?12l\[?25h"
send -- "t"
expect -exact "\[?25l\[mt\" }\[52;75H\[1m\[7m8 \[26;52H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[26;52H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[26;52H\"\[53;1H\[K\[52;75H\[1m\[7m7 \[26;51H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[26;51H\[53;78H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 29L, 711C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 29L, 711C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[m\[1m\[36m#spawn ssh -t \$user_name@\$client \"ssh-copy-id -i ~/.ssh/id_rsa.pub \$user_name@\$servee\[m\[10;1H\[1m\[33m    \[m\[1m\[36mr\"\[m\r
\[1m\[33m 10 expect\[m {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" {\r
\[1m\[33m 18 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 19 \[8Cexpect\[m {\r
\[1m\[33m 20 \[m\[12C\"yes/no\" {\r
\[1m\[33m 21 \[16Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 22 \[16Cexp_continue\r
 23 \[m\[12C}\r
\[1m\[33m 24 \[m\[12C\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 25 \[m\[12C\"password:\" { \[1m\[33msend\[m -- \"hello inmost\" }\r
\[1m\[33m 26 \[m\[8C}\r
\[1m\[33m 27 \[m    }\r
\[1m\[33m 28 \[m}\r
\[1m\[33m 29 \[m\r
\[1m\[34m~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      25,13          All\[26;17H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[26;17H\[53;80H\[\[26;17H\[53;81H>\[26;17H\[?12l\[?25h\[?25l\[53;78H    \[26;17H\[53;78H^\[\[26;17H\[53;80H\[\[26;17H\[53;81H>\[26;17H\[53;82H0\[26;17H\[53;83H;\[26;17H\[?12l\[?25h\[?25l\[53;78H      \[26;17H\[53;78H^\[\[26;17H\[53;80H\[\[26;17H\[53;81H>\[26;17H\[53;82H0\[26;17H\[53;83H;\[26;17H\[53;84H1\[26;17H\[?12l\[?25h\[?25l\[53;78H       \[26;17H\[53;78H^\[\[26;17H\[53;80H\[\[26;17H\[53;81H>\[26;17H\[53;82H0\[26;17H\[53;83H;\[26;17H\[53;84H1\[26;17H\[53;85H3\[26;17H\[?12l\[?25h\[?25l\[53;78H        \[26;17H\[53;78H^\[\[26;17H\[53;80H\[\[26;17H\[53;81H>\[26;17H\[53;82H0\[26;17H\[53;83H;\[26;17H\[53;84H1\[26;17H\[53;85H3\[26;17H\[53;86H6\[26;17H\[?12l\[?25h\[?25l\[53;78H         \[26;17H\[53;78H^\[\[26;17H\[53;80H\[\[26;17H\[53;81H>\[26;17H\[53;82H0\[26;17H\[53;83H;\[26;17H\[53;84H1\[26;17H\[53;85H3\[26;17H\[53;86H6\[26;17H\[53;87H;\[26;17H\[?12l\[?25h\[?25l\[53;78H          \[26;17H\[?1000l\[?1002h\[?12l\[?25h"
send -- "f"
expect -exact "\[?25l\[53;78Hf\[26;17H\[?12l\[?25h"
send -- "\""
expect -exact "\[?25l\[53;79H\"\[26;17H\[53;78H  \[26;27H\[52;74H\[1m\[7m23\[26;27H\[?12l\[?25h"
send -- ";"
expect -exact "\[?25l\[m\[53;78H;\[26;27H\[53;78H \[26;39H\[52;74H\[1m\[7m35 \[26;39H\[?12l\[?25h"
send -- ";"
expect -exact "\[?25l\[m\[53;78H;\[26;39H\[53;78H \[26;52H\[52;74H\[1m\[7m48 \[26;52H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[m\[53;78Hi\[26;52H\[53;78H \[26;52H\[53;1H\[1m-- INSERT --\[m\[53;13H\[K\[26;52H\[?12l\[?25h"
send -- "\\"
expect -exact "\[?25l\[1m\[31m\\\"\[m }\[52;18H\[1m\[7m\[+\]\[54C9 \[26;53H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[1m\[31mr\[m\" }\[52;74H\[1m\[7m50 \[26;54H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[26;54H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[26;54H\"\[53;1H\[K\[52;74H\[1m\[7m49 \[26;53H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[26;53H\[53;78H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 29L, 713C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "./\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\r"
expect -exact "\r
"
send -- "password:\r"
expect -exact "password:\r
onceas\r"
send -- "password:\r"
expect -exact "password:\r
onceas\r\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 29L, 713C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[m\[1m\[36m#spawn ssh -t \$user_name@\$client \"ssh-copy-id -i ~/.ssh/id_rsa.pub \$user_name@\$servee\[m\[10;1H\[1m\[33m    \[m\[1m\[36mr\"\[m\r
\[1m\[33m 10 expect\[m {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" {\r
\[1m\[33m 18 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 19 \[8Cexpect\[m {\r
\[1m\[33m 20 \[m\[12C\"yes/no\" {\r
\[1m\[33m 21 \[16Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 22 \[16Cexp_continue\r
 23 \[m\[12C}\r
\[1m\[33m 24 \[m\[12C\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 25 \[m\[12C\"password:\" { \[1m\[33msend\[m -- \"hello inmost\[1m\[31m\\r\[m\" }\r
\[1m\[33m 26 \[m\[8C}\r
\[1m\[33m 27 \[m    }\r
\[1m\[33m 28 \[m}\r
\[1m\[33m 29 \[m\r
\[1m\[34m~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      25,13          All\[26;17H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[26;17H\[53;80H\[\[26;17H\[53;81H>\[26;17H\[?12l\[?25h\[?25l\[53;78H    \[26;17H\[53;78H^\[\[26;17H\[53;80H\[\[26;17H\[53;81H>\[26;17H\[53;82H0\[26;17H\[?12l\[?25h\[?25l\[53;78H     \[26;17H\[53;78H^\[\[26;17H\[53;80H\[\[26;17H\[53;81H>\[26;17H\[53;82H0\[26;17H\[53;83H;\[26;17H\[53;84H1\[26;17H\[?12l\[?25h\[?25l\[53;78H       \[26;17H\[53;78H^\[\[26;17H\[53;80H\[\[26;17H\[53;81H>\[26;17H\[53;82H0\[26;17H\[53;83H;\[26;17H\[53;84H1\[26;17H\[53;85H3\[26;17H\[?12l\[?25h\[?25l\[53;78H        \[26;17H\[53;78H^\[\[26;17H\[53;80H\[\[26;17H\[53;81H>\[26;17H\[53;82H0\[26;17H\[53;83H;\[26;17H\[53;84H1\[26;17H\[53;85H3\[26;17H\[53;86H6\[26;17H\[?12l\[?25h\[?25l\[53;78H         \[26;17H\[53;78H^\[\[26;17H\[53;80H\[\[26;17H\[53;81H>\[26;17H\[53;82H0\[26;17H\[53;83H;\[26;17H\[53;84H1\[26;17H\[53;85H3\[26;17H\[53;86H6\[26;17H\[53;87H;\[26;17H\[53;78H\[\[>0;136;0\[26;17H\[?12l\[?25h\[?25l\[53;78H          \[26;17H\[?1000l\[?1002h\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[53;78H:\[26;17H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "e"
expect -exact "e\[?25l\[?12l\[?25h"
send -- " "
expect -exact "\[?25l \[?12l\[?25h"
send -- "s"
expect -exact "s\[?25l\[?12l\[?25h"
send -- "c"
expect -exact "c\[?25l\[?12l\[?25h"
send -- "r"
expect -exact "r\[?25l\[?12l\[?25h"
send -- "	"
expect -exact "...\[?25lipt.exp\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\"script.exp\" \[noeol\] 2592L, 225280C\[1;3H\[1m\[33m78 \[m|                 |\\r\[2;3H\[1m\[33m79 \[m|..\[15C|\\r\[3;3H\[1m\[33m80 \[m|o .              |\\r\[4;3H\[1m\[33m81 \[m|..    o S        |\\r\[4;27H\[K\[5;3H\[1m\[33m82 \[m|+   .. +         |\\r\[5;27H\[K\[6;3H\[1m\[33m83 \[m|.o . ..          |\\r\[6;27H\[K\[7;3H\[1m\[33m84 \[m|Xoo  ..          |\\r\[7;27H\[K\[8;4H\[1m\[33m5 \[m|EB o. oo\[9C|\\r\[9;3H\[1m\[33m86 \[m+-----------------+\\r\[9;27H\[K\[10;3H\[1m\[33m87 \[m\[1m\[34m^\[\[m\\\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\\\[root@hadoop-slave22\[11;1H\[1m\[33m     \[m tools\\\]\[1m\[36m# \"\[m\[12;2H\[1m\[33m 88 send\[m -- \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@1333\[13;1H\[1m\[33m     \[m.133.135.34\[1m\[31m\\\"\[m\"\[14;2H\[1m\[33m 89 expect\[m -exact \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.p \[1m\[31m\\r\[mub hh\[15;1H\[1m\[33m     \[madoop@133.133.135.34\[1m\[31m\\\"\[m\"\[16;2H\[1m\[33m 90 send\[m -- \"\[1m\[31m\\r\[m\"\[17;2H\[1m\[33m 91 expect\[m -exact \"\[1m\[31m\\r\[m\[17;23H\[K\[18;2H\[1m\[33m 92 \[mhadoop@133.133.131.18's password: \"\[19;2H\[1m\[33m 93 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[19;24H\[K\[20;2H\[1m\[33m 94 expect\[m -exact \"\[1m\[31m\\r\[m\[21;2H\[1m\[33m 95 \[mThe authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\[1m\[31m\\r\[m\[22;2H\[1m\[33m 96 \[mECDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\[1m\[31m\\r\[m\[23;2H\[1m\[33m 97 \[mAre you sure you want to continue connecting (yes/no)? \"\[24;2H\[1m\[33m 98 send\[m -- \"yes\[1m\[31m\\r\[m\"\[25;2H\[1m\[33m 99 expect\[m -exact \"yes\[1m\[31m\\r\[m\[25;26H\[K\[26;2H\[1m\[33m100 \[m/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter outt\[27;1H\[1m\[33m     \[m any that are already installed\[1m\[31m\\r\[m\[28;2H\[1m\[33m101 \[m/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted  \[29;1H\[1m\[33m     \[mnow it is to install the new keys\[1m\[31m\\r\[m\[30;2H\[1m\[33m102 \[mhadoop@133.133.135.34's password: \"\r
\[1m\[33m 103 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[31;24H\[K\[32;1H\[1m\[33m 104 expect\[m -exact \"\[1m\[31m\\r\[m\[32;23H\[K\[33;1H\[1m\[33m 105 \[m\[1m\[31m\\r\[m\[33;8H\[K\[34;1H\[1m\[33m 106 \[mNumber of key(s) added: 1\[1m\[31m\\r\[m\[34;33H\[K\[35;1H\[1m\[33m 107 \[m\[1m\[31m\\r\[m\[35;8H\[K\[36;1H\[1m\[33m 108 \[mNow try logging into the machine, with:   \[1m\[31m\\\"\[mssh 'hadoop@133.133.135.34'\[1m\[31m\\\"\\r\[m\[36;81H\[K\[37;1H\[1m\[33m 109 \[mand check to make sure that only the key(s) you wanted were added.\[1m\[31m\\r\[m\[37;74H\[K\[38;1H\[1m\[33m 110 \[m\[1m\[31m\\r\[m\[38;8H\[K\[39;1H\[1m\[33m 111 \[mConnection to 133.133.131.18 closed.\[1m\[31m\\r\\r\[m\[39;46H\[K\[40;1H\[1m\[33m 112 \[m\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\[1m\[31m\\\[\[mroot@hadoop-slave22\[41;1H\[1m\[33m     \[m tools\[1m\[31m\\\]\[m# \"\[41;17H\[K\[42;1H\[1m\[33m 113 send\[m -- \"ls\[1m\[31m\\r\[m\"\[42;20H\[K\[43;1H\[1m\[33m 114 expect\[m -exact \"ls\[1m\[31m\\r\[m\[43;25H\[K\[44;1H\[1m\[33m 115 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32madd_user.exp\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                      \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mjava_installer.shh\[45;1H\[1m\[33m     \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[45;14H\[K\[46;1H\[1m\[33m 116 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32madd_user.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                       \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mlogin.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[46;82H\[K\[47;1H\[1m\[33m 117 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mcenter_displayer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m               \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mlogout.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[47;83H\[K\[48;1H\[1m\[33m 118 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mcgroup_configurer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m              \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mnetwork_checker.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m00\[49;1H\[1m\[33m     \[mm\[1m\[31m\\r\[m\[49;9H\[K\[50;1H\[1m\[33m 119 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mclear_walls.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                    \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mpackage_installed_checkk\[51;1H\[1m\[33m     \[mer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[51;19H\[K\[52;1H\[1m\[7mscript.expe       \[53C99,1  \[9C 3%\[25;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;6H\[53;78H \[26;6H\[52;71H\[1m\[7m100,1\[26;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;6H\[53;78H \[28;6H\[52;73H\[1m\[7m1,\[28;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[28;6H\[53;78H \[30;6H\[52;73H\[1m\[7m2,\[30;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[30;6H\[53;78H \[31;6H\[52;73H\[1m\[7m3,\[31;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[31;6H\[53;78H \[32;6H\[52;73H\[1m\[7m4,\[32;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[32;6H\[53;78H \[33;6H\[52;73H\[1m\[7m5,\[33;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[33;6H\[53;78H \[34;6H\[52;73H\[1m\[7m6,\[34;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[34;6H\[53;78H \[35;6H\[52;73H\[1m\[7m7,\[35;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[35;6H\[53;78H \[36;6H\[52;73H\[1m\[7m8,\[36;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[36;6H\[53;78H \[37;6H\[52;73H\[1m\[7m9,\[37;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[37;6H\[53;78H \[38;6H\[52;72H\[1m\[7m10,\[38;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[38;6H\[53;78H \[39;6H\[52;73H\[1m\[7m1,\[39;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[39;6H\[53;78H \[40;6H\[52;73H\[1m\[7m2,\[40;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[40;6H\[53;78H \[42;6H\[52;73H\[1m\[7m3,\[42;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[42;6H\[53;78H \[43;6H\[52;73H\[1m\[7m4,\[43;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[43;6H\[53;78H \[42;6H\[52;73H\[1m\[7m3,\[42;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[42;6H\[53;78H \[40;6H\[52;73H\[1m\[7m2,\[40;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[40;6H\[53;78H \[39;6H\[52;73H\[1m\[7m1,\[39;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[39;6H\[53;78H \[38;6H\[52;73H\[1m\[7m0,\[38;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[38;6H\[53;78H \[37;6H\[52;72H\[1m\[7m09,\[37;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[37;6H\[53;78H \[36;6H\[52;73H\[1m\[7m8,\[36;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[36;6H\[53;78H \[35;6H\[52;73H\[1m\[7m7,\[35;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[35;6H\[53;78H \[34;6H\[52;73H\[1m\[7m6,\[34;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[34;6H\[53;78H \[33;6H\[52;73H\[1m\[7m5,\[33;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[33;6H\[53;78H \[32;6H\[52;73H\[1m\[7m4,\[32;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[32;6H\[53;78H \[31;6H\[52;73H\[1m\[7m3,\[31;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[31;6H\[53;78H \[30;6H\[52;73H\[1m\[7m2,\[30;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[30;6H\[53;78H \[31;6H\[52;73H\[1m\[7m3,\[31;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[31;6H\[53;78H \[32;6H\[52;73H\[1m\[7m4,\[32;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[32;6H\[53;78H \[31;6H\[52;73H\[1m\[7m3,\[31;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[31;6H\[53;78H \[30;6H\[52;73H\[1m\[7m2,\[30;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[30;6H\[53;78H \[28;6H\[52;73H\[1m\[7m1,\[28;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[28;6H\[53;78H \[26;6H\[52;73H\[1m\[7m0,\[26;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[26;6H\[53;78H \[25;6H\[52;71H\[1m\[7m99,1  \[25;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;6H\[53;78H \[26;6H\[52;71H\[1m\[7m100,1\[26;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;6H\[53;78H \[28;6H\[52;73H\[1m\[7m1,\[28;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[28;6H\[53;78H \[30;6H\[52;73H\[1m\[7m2,\[30;6H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[30;6H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "b"
expect -exact "b\[?25l\[?12l\[?25h"
send -- "p"
expect -exact "p\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[26;5H\[1;3H\[1m\[33m1 \[m\[1m\[34m#!/usr/bin/expect\[m\[1;24H\[K\[2;3H\[1m\[33m2 \[m\[2;5H\[K\[3;3H\[1m\[33m3 \[m\[1m\[36m#exp_internal 1\[m\[3;24H\[K\[4;3H\[1m\[33m4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\[5;3H\[1m\[33m5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\[6;3H\[1m\[33m6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\[7;3H\[1m\[33m7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\[8;4H\[1m\[33m \[m\[8;5H\[K\[9;3H\[1m\[33m9 \[m\[1m\[36m#spawn ssh -t \$user_name@\$client \"ssh-copy-id -i ~/.ssh/id_rsa.pub \$user_name@\$servee\[m\[10;1H\[1m\[33m    \[m\[1m\[36mr\"\[m\[10;7H\[K\[11;2H\[1m\[33m10 expect\[m {\[11;13H\[K\[12;2H\[1m\[33m11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[12;64H\[K\[13;2H\[1m\[33m12 \[m    \"yes/no\" {\[13;19H\[K\[14;2H\[1m\[33m13 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[14;28H\[K\[15;2H\[1m\[33m14 \[m        \[1m\[33mexp_continue\[m\[15;25H\[K\[16;2H\[1m\[33m15 \[m    }\[16;11H\[K\[17;2H\[1m\[33m16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[18;2H\[1m\[33m17 \[m    \"password:\" { \[18;23H\[K\[19;2H\[1m\[33m18 \[m        \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\"\[20;2H\[1m\[33m19 \[m        \[1m\[33mexpect\[m {\[20;21H\[K\[21;2H\[1m\[33m20 \[m            \"yes/no\" {\[21;27H\[K\[22;2H\[1m\[33m21 \[m                \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[22;36H\[K\[23;2H\[1m\[33m22 \[m                \[1m\[33mexp_continue\[m\[23;33H\[K\[24;2H\[1m\[33m23 \[m            }\[24;18H\[K\[25;2H\[1m\[33m24 \[m            \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[26;2H\[1m\[33m25 \[m            \"password:\" { \[1m\[33msend\[m -- \"hello inmost\[1m\[31m\\r\[m\" }\[26;57H\[K\[27;2H\[1m\[33m26 \[m        }\[27;14H\[K\[28;2H\[1m\[33m27 \[m    }\[28;10H\[K\[29;2H\[1m\[33m28 \[m}\[29;6H\[K\[30;2H\[1m\[33m29 \[m\[30;5H\[K\[31;1H\[1m\[34m~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp\[54C25,1  \[9CAll\[m\[53;1H\"copy_ssh_key.exp\" 29 lines --86%--\[26;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[26;5H\[53;78H \[25;5H\[52;72H\[1m\[7m4,\[25;5H\[?12l\[?25h"
send -- "u"
expect -exact "\[?25l\[m\[53;78Hu\[25;5H\[53;1HAlready at oldest change\[53;25H\[K\[25;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[25;5H\[53;78H \[24;5H\[52;72H\[1m\[7m3,\[24;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[24;5H\[53;78H \[23;5H\[52;72H\[1m\[7m2,\[23;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[23;5H\[53;78H \[22;5H\[52;72H\[1m\[7m1,\[22;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[22;5H\[53;78H \[21;5H\[52;72H\[1m\[7m0,\[21;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[21;5H\[53;78H \[20;5H\[52;71H\[1m\[7m19,\[20;5H\[?12l\[?25h"
send -- "V"
expect -exact "\[?25l\[m\[53;78HV\[20;5H\[53;78H1\[20;5H \[7m       \[m\[1m\[7m\[33mexpect\[m\[7m { \[m\[53;1H\[1m-- VISUAL LINE --\[m\[53;19H\[K\[53;78H1\[20;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[20;5H\[53;78H2\[21;5H\[20;5H\[7m \[21;6H           \"yes/no\" { \[m\[52;71H\[1m\[7m20,\[21;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;5H\[53;78H3\[22;5H\[21;5H\[7m \[22;6H               \[m\[1m\[7m\[33msend\[m\[7m -- \"yes\[m\[1m\[7m\[31m\\r\[m\[7m\" \[m\[52;72H\[1m\[7m1,\[22;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[22;5H\[53;78H4\[23;5H\[22;5H\[7m \[23;6H               \[m\[1m\[7m\[33mexp_continue\[m\[7m \[m\[52;72H\[1m\[7m2,\[23;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;5H\[53;78H5\[24;5H\[23;5H\[7m \[24;6H           } \[m\[52;72H\[1m\[7m3,\[24;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[24;5H\[53;78H6\[25;5H\[24;5H\[7m \[25;6H           \"password:\" { \[m\[1m\[7m\[33msend\[m\[7m -- \"\[m\[1m\[7m\[31m\$password\\r\[m\[7m\" } \[m\[52;72H\[1m\[7m4,\[25;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;5H\[53;78H7\[26;5H\[25;5H\[7m \[26;6H           \"password:\" { \[m\[1m\[7m\[33msend\[m\[7m -- \"hello inmost\[m\[1m\[7m\[31m\\r\[m\[7m\" } \[m\[52;72H\[1m\[7m5,\[26;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;5H\[53;78H8\[27;5H\[26;5H\[7m \[27;6H       } \[m\[52;72H\[1m\[7m6,\[27;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd\[27;5H\[53;1H8 fewer lines\[1mE\[m\[53;14H\[K\[20;9H\[18;21H\[46m{\[m\[20;5H    \[46m}\[m\[20;10H\[K\[21;5H}\[21;6H\[K\[22;5H\[K\[23;1H\[1m\[34m~                                                                                       \[24;1H~                                                                                       \[25;1H~                                                                                       \[26;1H~                                                                                       \[27;1H~                                                                                       \[28;1H~                                                                                       \[29;1H~                                                                                       \[30;1H~                                                                                       \[m\[52;18H\[1m\[7m\[+\]\[50C19,5 \[20;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;9H\[53;78H \[21;5H\[11;12H\[46m{\[m\[18;21H{\[20;9H}\[21;5H\[46m}\[m\[52;71H\[1m\[7m20,1 \[21;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;5H\[53;78H \[22;5H\[11;12H{\[21;5H}\[52;72H\[1m\[7m1,0-1\[22;5H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[m\[53;78Hp\[22;5H\[53;3Hmore lines\[53;13H\[K\[23;13H\r\[1m\[33m 22 \[m        \[1m\[33mexpect\[m {\[23;21H\[K\[24;1H\[1m\[33m 23 \[m            \"yes/no\" {\[24;27H\[K\[25;1H\[1m\[33m 24 \[m                \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[25;36H\[K\[26;1H\[1m\[33m 25 \[m                \[1m\[33mexp_continue\[m\[26;33H\[K\[27;1H\[1m\[33m 26 \[m            }\[27;18H\[K\[28;1H\[1m\[33m 27 \[m            \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[28;54H\[K\[29;1H\[1m\[33m 28 \[m            \"password:\" { \[1m\[33msend\[m -- \"hello inmost\[1m\[31m\\r\[m\" }\[29;57H\[K\[30;1H\[1m\[33m 29 \[m        }\[30;14H\[K\[52;72H\[1m\[7m2,9   \[23;13H\[?12l\[?25h"
send -- "V"
expect -exact "\[?25l\[m\[53;78HV\[23;13H\[53;78H1\[23;13H\[23;5H\[7m        \[m\[1C\[1m\[7m\[33mxpect\[m\[7m { \[m\[53;1H\[1m-- VISUAL LINE --\[m\[53;78H\[K\[53;78H1\[23;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[23;13H\[53;78H2\[24;13H\[23;13H\[1m\[7m\[33mexpect\[m\[7m \[24;5H        \[m \[7m   \"yes/no\" { \[m\[52;72H\[1m\[7m3,\[24;13H\[?12l\[?25h"
send -- "G"
expect -exact "\[?25l\[m\[53;78HG\[24;13H\[53;78H8\[30;13H\[24;13H\[7m \[25;5H                \[m\[1m\[7m\[33msend\[m\[7m -- \"yes\[m\[1m\[7m\[31m\\r\[m\[7m\" \[26;5H                \[m\[1m\[7m\[33mexp_continue\[m\[7m \[27;5H            } \[28;5H            \"password:\" { \[m\[1m\[7m\[33msend\[m\[7m -- \"\[m\[1m\[7m\[31m\$password\\r\[m\[7m\" } \[29;5H            \"password:\" { \[m\[1m\[7m\[33msend\[m\[7m -- \"hello inmost\[m\[1m\[7m\[31m\\r\[m\[7m\" } \[30;5H        \[m\[46m}\[m\[7m \[m\[52;72H\[1m\[7m9,\[30;13H\[?12l\[?25h"
send -- "V"
expect -exact "\[?25l\[m\[53;78HV\[30;13H\[53;78H \[30;13H\[23;5H        \[1m\[33mexpect\[m \[46m{\[m\[23;21H\[K\[24;5H            \"yes/no\" {\[24;27H\[K\[25;5H                \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[25;36H\[K\[26;5H                \[1m\[33mexp_continue\[m\[26;33H\[K\[27;5H            }\[27;18H\[K\[28;5H            \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[28;54H\[K\[29;5H            \"password:\" { \[1m\[33msend\[m -- \"hello inmost\[1m\[31m\\r\[m\" }\[29;57H\[K\[30;5H        \[30;14H\[K\[53;1H\[K\[30;13H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[30;13H\[53;78H \[29;13H\[23;20H{\[30;13H}\[52;72H\[1m\[7m8,\[29;13H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[29;13H\[53;78H \[28;13H\[52;72H\[1m\[7m7,\[28;13H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[28;13H\[53;78H \[27;13H\[52;72H\[1m\[7m6,\[27;13H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[27;13H\[53;78H \[26;13H\[52;72H\[1m\[7m5,\[26;13H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[26;13H\[53;78H \[25;13H\[52;72H\[1m\[7m4,\[25;13H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[25;13H\[53;78H \[24;13H\[52;72H\[1m\[7m3,\[24;13H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[24;13H\[53;78H \[23;13H\[52;72H\[1m\[7m2,\[23;13H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[23;13H\[53;78H \[22;5H\[52;72H\[1m\[7m1,0-1\[22;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[22;5H\[53;78H \[21;5H\[11;12H\[46m{\[21;5H}\[m\[52;72H\[1m\[7m0,1   \[21;5H\[?12l\[?25h"
send -- "o"
expect -exact "\[?25l\[m\[53;78Ho\[21;5H\[53;78H \[22;5H\[53;1H\[1m-- INSERT --\[m\[23;13H\[K\[24;13H\[1m\[33mexpect\[m {\[24;21H\[K\[25;17H\"yes/no\" {\[25;27H\[K\[26;21H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[27;17H    \[1m\[33mexp_continue\[m\[28;17H}\[28;18H\[K\[29;40H\[1m\[31m\$password\\r\[m\" }\[29;54H\[K\[30;13H    \"password:\" { \[1m\[33msend\[m -- \"hello inmost\[1m\[31m\\r\[m\" }\r
\[1m\[33m 30 \[m        }\[31;14H\[K\[11;12H{\[21;5H}\[52;72H\[1m\[7m1,\[22;5H\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[m\[24;13H\[K\[25;13H\[1m\[33mexpect\[m {\[25;21H\[K\[26;17H\"yes/no\" {\[26;27H\[K\[27;21H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[28;17H    \[1m\[33mexp_continue\[m\[29;17H}\[29;18H\[K\[30;40H\[1m\[31m\$password\\r\[m\" }\[30;54H\[K\[31;13H    \"password:\" { \[1m\[33msend\[m -- \"hello inmost\[1m\[31m\\r\[m\" }\r
\[1m\[33m 31 \[m        }\[32;14H\[K\[52;72H\[1m\[7m2,\[23;5H\[?12l\[?25h"
send -- "e"
expect -exact "\[?25l\[me\[52;74H\[1m\[7m2 \[23;6H\[?12l\[?25h"
send -- "x"
expect -exact "\[?25l\[mx\[52;74H\[1m\[7m3 \[23;7H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[mp\[52;74H\[1m\[7m4 \[23;8H\[?12l\[?25h"
send -- "e"
expect -exact "\[?25l\[me\[52;74H\[1m\[7m5 \[23;9H\[?12l\[?25h"
send -- "c"
expect -exact "\[?25l\[mc\[52;74H\[1m\[7m6 \[23;10H\[?12l\[?25h"
send -- "t"
expect -exact "\[?25l\[m\[1m\[33mexpect\[m\[52;74H\[1m\[7m7 \[23;11H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[52;74H8 \[23;12H\[?12l\[?25h"
send -- "\""
expect -exact "\[?25l\[m\"\"\[52;74H\[1m\[7m9 \[23;13H\[?12l\[?25h"
send -- "\\"
expect -exact "\[?25l\[m\[1m\[31m\\\"\[m\[25;13Hexpect \[27;21Hsend \[7C\\r\"\[28;21Hexp_continue\[30;31Hsend \[13C\\r\"\[31;31Hsend \[16C\\r\"\[52;74H\[1m\[7m10\[23;14H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[1m\[31mr\[m\"\[25;13H\[1m\[33mexpect\[27;21Hsend\[m\[8C\[1m\[31m\\r\[m\[28;21H\[1m\[33mexp_continue\[30;31Hsend\[m\[14C\[1m\[31m\\r\[m\[31;31H\[1m\[33msend\[m\[17C\[1m\[31m\\r\[m\[52;75H\[1m\[7m1 \[23;15H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[23;15H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[23;15H\"\[53;1H\[K\[52;75H\[1m\[7m0 \[23;14H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;14H\[53;78H \[24;5H\[52;72H\[1m\[7m3,0-1\[24;5H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[m\[53;78Hi\[24;5H\[53;78H \[24;5H\[53;1H\[1m-- INSERT --\[m\[52;74H\[1m\[7m1   \[24;5H\[?12l\[?25h"
send -- "s"
expect -exact "\[?25l\[ms\[52;74H\[1m\[7m2 \[24;6H\[?12l\[?25h"
send -- "e"
expect -exact "\[?25l\[me\[52;74H\[1m\[7m3 \[24;7H\[?12l\[?25h"
send -- "n"
expect -exact "\[?25l\[mn\[52;74H\[1m\[7m4 \[24;8H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[1m\[33msend\[m\[52;74H\[1m\[7m5 \[24;9H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[52;74H6 \[24;10H\[?12l\[?25h"
send -- "\""
expect -exact "\[?25l\[m\"\"\[52;74H\[1m\[7m7 \[24;11H\[?12l\[?25h"
send -- "\\"
expect -exact "\[?25l\[m\[1m\[31m\\\"\[m\[25;13Hexpect \[27;21Hsend \[7C\\r\"\[28;21Hexp_continue\[30;31Hsend \[13C\\r\"\[31;31Hsend \[16C\\r\"\[52;74H\[1m\[7m8 \[24;12H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[1m\[31mr\[m\"\[25;13H\[1m\[33mexpect\[27;21Hsend\[m\[8C\[1m\[31m\\r\[m\[28;21H\[1m\[33mexp_continue\[30;31Hsend\[m\[14C\[1m\[31m\\r\[m\[31;31H\[1m\[33msend\[m\[17C\[1m\[31m\\r\[m\[52;74H\[1m\[7m9 \[24;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[24;13H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[24;13H\"\[53;1H\[K\[52;74H\[1m\[7m8 \[24;12H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[24;12H\[53;78H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 31L, 735C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\r"
expect -exact "\r
"
send -- "password:\r"
expect -exact "password:\r
onceas\r"
send -- "pw"
expect -exact "^H"
send -- "\r"
expect -exact "\r
"
send -- "\r"
expect -exact "\r
"
send -- "paw"
expect -exact "^H"
send -- "\r"
expect -exact "\r
"
send -- "password:\r"
expect -exact "password:\r
"
send -- "pas"
expect -exact "pas"
expect -exact "\ronceas\r\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# pas"
send -- "sw"
expect -exact "sw\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact "\[K"
send -- ""
expect -exact ""
send -- ""
expect -exact ""
send -- ""
expect -exact ""
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 31L, 735C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[m\[1m\[36m#spawn ssh -t \$user_name@\$client \"ssh-copy-id -i ~/.ssh/id_rsa.pub \$user_name@\$servee\[m\[10;1H\[1m\[33m    \[m\[1m\[36mr\"\[m\r
\[1m\[33m 10 expect\[m {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" {\r
\[1m\[33m 18 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 19 \[m    }\r
\[1m\[33m 20 \[m}\r
\[1m\[33m 21 \r
 22 expect\[m \"\[1m\[31m\\r\[m\"\r
\[1m\[33m 23 send\[m \"\[1m\[31m\\r\[m\"\r
\[1m\[33m 24 \[8Cexpect\[m {\r
\[1m\[33m 25 \[m\[12C\"yes/no\" {\r
\[1m\[33m 26 \[16Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 27 \[16Cexp_continue\r
 28 \[m\[12C}\r
\[1m\[33m 29 \[m\[12C\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 30 \[m\[12C\"password:\" { \[1m\[33msend\[m -- \"hello inmost\[1m\[31m\\r\[m\" }\r
\[1m\[33m 31 \[m\[8C}\r
\[1m\[34m~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      23,1           All\[24;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[24;5H\[53;80H\[\[24;5H\[53;81H>\[24;5H\[?12l\[?25h\[?25l\[53;78H    \[24;5H\[53;78H^\[\[24;5H\[53;80H\[\[24;5H\[53;81H>\[24;5H\[53;82H0\[24;5H\[53;83H;\[24;5H\[?12l\[?25h\[?25l\[53;78H      \[24;5H\[53;78H^\[\[24;5H\[53;80H\[\[24;5H\[53;81H>\[24;5H\[53;82H0\[24;5H\[53;83H;\[24;5H\[53;84H1\[24;5H\[?12l\[?25h\[?25l\[53;78H       \[24;5H\[53;78H^\[\[24;5H\[53;80H\[\[24;5H\[53;81H>\[24;5H\[53;82H0\[24;5H\[53;83H;\[24;5H\[53;84H1\[24;5H\[53;85H3\[24;5H\[?12l\[?25h\[?25l\[53;78H        \[24;5H\[53;78H^\[\[24;5H\[53;80H\[\[24;5H\[53;81H>\[24;5H\[53;82H0\[24;5H\[53;83H;\[24;5H\[53;84H1\[24;5H\[53;85H3\[24;5H\[53;86H6\[24;5H\[?12l\[?25h\[?25l\[53;78H         \[24;5H\[53;78H^\[\[24;5H\[53;80H\[\[24;5H\[53;81H>\[24;5H\[53;82H0\[24;5H\[53;83H;\[24;5H\[53;84H1\[24;5H\[53;85H3\[24;5H\[53;86H6\[24;5H\[53;87H;\[24;5H\[?12l\[?25h\[?25l\[53;78H          \[24;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[53;78Hd\[24;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[53;78H \[24;5H\[?12l\[?25h\[?25l\[53;78Hdd\[24;5H\[53;78H  \[24;13H\[24;5H        \[1m\[33mexpect\[m {\[25;13H    \"yes/no\" {\[26;17H    \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[27;21H\[1m\[33mexp_continue\[m\[27;33H\[K\[28;17H}\[28;21H\[K\[29;17H\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[30;40Hhello inmost\[1m\[31m\\r\[m\" }\[31;13H}\[31;17H\[K\[32;1H\[1m\[34m~                                                                                       \[m\[52;18H\[1m\[7m\[+\]\[53C9 \[24;13H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[24;13H\[53;78H \[23;13H\[52;72H\[1m\[7m2,\[23;13H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[23;13H\[53;78H \[22;5H\[52;72H\[1m\[7m1,0-1\[22;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[22;5H\[53;78H \[21;5H\[11;12H\[46m{\[21;5H}\[m\[52;72H\[1m\[7m0,1   \[21;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;5H\[53;78H \[22;5H\[11;12H{\[21;5H}\[52;72H\[1m\[7m1,0-1\[22;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd\[22;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[53;78H \[22;5H\[?12l\[?25h\[?25l\[53;78Hdd\[22;5H\[53;78H  \[22;5H\[1m\[33mexpect\[m \"\[1m\[31m\\r\[m\"\[23;5H        \[1m\[33mexpect\[m {\[24;13H    \"yes/no\" {\[25;17H    \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[26;21H\[1m\[33mexp_continue\[m\[26;33H\[K\[27;17H}\[27;21H\[K\[28;17H\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[29;40Hhello inmost\[1m\[31m\\r\[m\" }\[30;13H}\[30;17H\[K\[31;1H\[1m\[34m~                                                                                       \[m\[52;74H\[1m\[7m1   \[22;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[22;5H\[53;78H \[23;5H\[52;72H\[1m\[7m2,\[23;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;5H\[53;78H \[24;5H\[52;72H\[1m\[7m3,\[24;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[24;5H\[53;78H \[25;5H\[52;72H\[1m\[7m4,\[25;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;5H\[53;78H \[26;5H\[52;72H\[1m\[7m5,\[26;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;5H\[53;78H \[27;5H\[52;72H\[1m\[7m6,\[27;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[27;5H\[53;78H \[28;5H\[52;72H\[1m\[7m7,\[28;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[28;5H\[53;78H \[29;5H\[52;72H\[1m\[7m8,\[29;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[29;5H\[53;78H \[30;5H\[52;72H\[1m\[7m9,\[30;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[30;5H\[53;78H \[30;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[30;5H\[53;78H \[29;5H\[52;72H\[1m\[7m8,\[29;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[29;5H\[53;78H \[28;5H\[52;72H\[1m\[7m7,\[28;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[28;5H\[53;78H \[27;5H\[52;72H\[1m\[7m6,\[27;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[27;5H\[53;78H \[26;5H\[52;72H\[1m\[7m5,\[26;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd\[26;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[53;78H \[26;5H\[?12l\[?25h\[?25l\[53;78Hdd\[26;5H\[53;78H  \[26;17H\[24;26H\[46m{\[26;17H}\[m\[26;21H\[K\[27;17H\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[28;40Hhello inmost\[1m\[31m\\r\[m\" }\[29;13H}\[29;17H\[K\[30;1H\[1m\[34m~                                                                                       \[m\[52;75H\[1m\[7m3\[26;17H\[?12l\[?25h"
send -- "u"
expect -exact "\[?25l\[m\[53;78Hu\[26;17H\[53;1H1 more line; before #3  0 seconds ago\[53;78H\[K\[26;5H\[24;26H{\[26;17H    \[1m\[33mexp_continue\[m\[27;17H}\[27;18H\[K\[28;40H\[1m\[31m\$password\\r\[m\" }\[28;54H\[K\[29;13H    \"password:\" { \[1m\[33msend\[m -- \"hello inmost\[1m\[31m\\r\[m\" }\r
\[1m\[33m 29 \[m        }\[30;14H\[K\[52;75H\[1m\[7m  \[26;5H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[26;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 29L, 724C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 29L, 724C\[>c"
send -- "\[2;2R"
expect -exact "\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[m\[1m\[36m#spawn ssh -t \$user_name@\$client \"ssh-copy-id -i ~/.ssh/id_rsa.pub \$user_name@\$servee\[m\[10;1H\[1m\[33m    \[m\[1m\[36mr\"\[m\r
\[1m\[33m 10 expect\[m {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" {\r
\[1m\[33m 18 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 19 \[m    }\r
\[1m\[33m 20 \[m}\r
\[1m\[33m 21 expect\[m \"\[1m\[31m\\r\[m\"\r
\[1m\[33m 22 \[8Cexpect\[m {\r
\[1m\[33m 23 \[m\[12C\"yes/no\" {\r
\[1m\[33m 24 \[16Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 25 \[16Cexp_continue\r
 26 \[m\[12C}\r
\[1m\[33m 27 \[m\[12C\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 28 \[m\[12C\"password:\" { \[1m\[33msend\[m -- \"hello inmost\[1m\[31m\\r\[m\" }\r
\[1m\[33m 29 \[m\[8C}\r
\[1m\[34m~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      25,17          All\[26;21H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[26;21H\[53;80H\[\[26;21H\[53;81H>\[26;21H\[?12l\[?25h\[?25l\[53;78H    \[26;21H\[53;78H^\[\[26;21H\[53;80H\[\[26;21H\[53;81H>\[26;21H\[53;82H0\[26;21H\[53;83H;\[26;21H\[?12l\[?25h\[?25l\[53;78H      \[26;21H\[53;78H^\[\[26;21H\[53;80H\[\[26;21H\[53;81H>\[26;21H\[53;82H0\[26;21H\[53;83H;\[26;21H\[53;84H1\[26;21H\[?12l\[?25h\[?25l\[53;78H       \[26;21H\[53;78H^\[\[26;21H\[53;80H\[\[26;21H\[53;81H>\[26;21H\[53;82H0\[26;21H\[53;83H;\[26;21H\[53;84H1\[26;21H\[53;85H3\[26;21H\[?12l\[?25h\[?25l\[53;78H        \[26;21H\[53;78H^\[\[26;21H\[53;80H\[\[26;21H\[53;81H>\[26;21H\[53;82H0\[26;21H\[53;83H;\[26;21H\[53;84H1\[26;21H\[53;85H3\[26;21H\[53;86H6\[26;21H\[?12l\[?25h\[?25l\[53;78H         \[26;21H\[53;78H^\[\[26;21H\[53;80H\[\[26;21H\[53;81H>\[26;21H\[53;82H0\[26;21H\[53;83H;\[26;21H\[53;84H1\[26;21H\[53;85H3\[26;21H\[53;86H6\[26;21H\[53;87H;\[26;21H\[53;78H\[\[>0;136;0\[26;21H\[?12l\[?25h\[?25l\[53;78H          \[26;21H\[?1000l\[?1002h\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[53;78H^M\[26;21H\[53;78H  \[27;17H\[24;26H\[46m{\[27;17H}\[m\[52;72H\[1m\[7m6,13 \[27;17H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[27;17H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[?1002l\[53;1H\[K\[53;1H\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\r"
expect -exact "\r
"
send -- "password:\r"
expect -exact "password:\r
onceas\r"
send -- "password:\r"
expect -exact "password:\r
"
send -- "password:\r"
expect -exact "password:\r
"
send -- "\r"
expect -exact "\r
"
send -- "\r"
expect -exact "\r
"
send -- "\r"
expect -exact "\r
"
send -- "\r"
expect -exact "\r
"
send -- "\r"
expect -exact "\r
"
send -- "\r"
expect -exact "\r
"
send -- "\r"
expect -exact "\r
"
send -- "\r"
expect -exact "\r
"
send -- "\r"
expect -exact "\r
"
send -- "\r"
expect -exact "\r
"
send -- "\r"
expect -exact "\r
"
send -- "\r"
expect -exact "\r
onceas\r\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- ""
expect -exact "^C\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 29L, 724C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[m\[1m\[36m#spawn ssh -t \$user_name@\$client \"ssh-copy-id -i ~/.ssh/id_rsa.pub \$user_name@\$servee\[m\[10;1H\[1m\[33m    \[m\[1m\[36mr\"\[m\r
\[1m\[33m 10 expect\[m {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" {\r
\[1m\[33m 18 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 19 \[m    }\r
\[1m\[33m 20 \[m}\r
\[1m\[33m 21 expect\[m \"\[1m\[31m\\r\[m\"\r
\[1m\[33m 22 \[8Cexpect\[m {\r
\[1m\[33m 23 \[m\[12C\"yes/no\" \[46m{\[m\r
\[1m\[33m 24 \[16Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 25 \[16Cexp_continue\r
 26 \[m\[12C\[46m}\[m\r
\[1m\[33m 27 \[m\[12C\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 28 \[m\[12C\"password:\" { \[1m\[33msend\[m -- \"hello inmost\[1m\[31m\\r\[m\" }\r
\[1m\[33m 29 \[m\[8C}\r
\[1m\[34m~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      26,13          All\[27;17H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[27;17H\[53;80H\[\[27;17H\[53;81H>\[27;17H\[?12l\[?25h\[?25l\[53;78H    \[27;17H\[53;78H^\[\[27;17H\[53;80H\[\[27;17H\[53;81H>\[27;17H\[53;82H0\[27;17H\[53;83H;\[27;17H\[?12l\[?25h\[?25l\[53;78H      \[27;17H\[53;78H^\[\[27;17H\[53;80H\[\[27;17H\[53;81H>\[27;17H\[53;82H0\[27;17H\[53;83H;\[27;17H\[53;84H1\[27;17H\[?12l\[?25h\[?25l\[53;78H       \[27;17H\[53;78H^\[\[27;17H\[53;80H\[\[27;17H\[53;81H>\[27;17H\[53;82H0\[27;17H\[53;83H;\[27;17H\[53;84H1\[27;17H\[53;85H3\[27;17H\[?12l\[?25h\[?25l\[53;78H        \[27;17H\[53;78H^\[\[27;17H\[53;80H\[\[27;17H\[53;81H>\[27;17H\[53;82H0\[27;17H\[53;83H;\[27;17H\[53;84H1\[27;17H\[53;85H3\[27;17H\[53;86H6\[27;17H\[?12l\[?25h\[?25l\[53;78H         \[27;17H\[53;78H^\[\[27;17H\[53;80H\[\[27;17H\[53;81H>\[27;17H\[53;82H0\[27;17H\[53;83H;\[27;17H\[53;84H1\[27;17H\[53;85H3\[27;17H\[53;86H6\[27;17H\[53;87H;\[27;17H\[?12l\[?25h\[?25l\[53;78H          \[27;17H\[53;78H^\[\[27;17H\[53;80H\[\[27;17H\[53;81H>\[27;17H\[53;82H0\[27;17H\[53;83H;\[27;17H\[53;84H1\[27;17H\[53;85H3\[27;17H\[53;86H6\[27;17H\[53;87H;\[27;17H\[53;78H\[\[>0;136;0\[27;17H\[?12l\[?25h\[?25l\[53;78H          \[27;17H\[?1000l\[?1002h\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[27;17H\[53;78H \[26;17H\[24;26H{\[27;17H}\[52;72H\[1m\[7m5,\[26;17H\[?12l\[?25h"
send -- "3"
expect -exact "\[?25l\[m\[53;78H3\[26;17H\[?12l\[?25h"
send -- "G"
expect -exact "\[?25l\[53;79HG\[26;17H\[53;78H  \[3;5H\[52;71H\[1m\[7m3,1   \[3;5H\[?12l\[?25h"
send -- ","
expect -exact "\[?25l\[m\[53;78H,\[3;5H\[?12l\[?25h"
send -- "c"
expect -exact "\[?25l\[53;78H \[3;5H\[53;78H,\[3;5H\[53;79Hc\[3;5H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[53;78H  \[3;5H\[1m\[33mexp_internal\[m 1\[3;19H\[K\[52;18H\[1m\[7m\[+\]\[3;5H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[3;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 29L, 723C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\r"
expect -exact "\r
\r\r
expect: does \"\" (spawn_id exp0) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
"
send -- ";"
expect -exact "^Hexpect: timed out\r\r
\r\r
expect: does \"\" (spawn_id exp0) match glob pattern \"\\r\"? no\r\r
"
send -- "\r"
expect -exact "\r
\r\r
expect: does \";\\u0008\\n\" (spawn_id exp0) match glob pattern \"\\r\"? no\r\r
"
send -- "password:\r"
expect -exact "password:\r
\r\r
expect: does \";\\u0008\\npassword:\\n\" (spawn_id exp0) match glob pattern \"\\r\"? no\r\r
expect: timed out\r\r
\r\r
expect: does \";\\u0008\\npassword:\\n\" (spawn_id exp0) match glob pattern \"yes/no\"? no\r\r
\"password:\"? yes\r\r
expect: set expect_out(0,string) \"password:\"\r\r
expect: set expect_out(spawn_id) \"exp0\"\r\r
expect: set expect_out(buffer) \";\\u0008\\npassword:\"\r\r
send: sending \"onceas\\r\" to { exp0 onceas\r}\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\r"
expect -exact "\r
\r\r
expect: does \"\" (spawn_id exp0) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
"
send -- "password:\r"
expect -exact "password:\r
\r\r
expect: does \"password:\\n\" (spawn_id exp0) match glob pattern \"yes/no\"? no\r\r
\"password:\"? yes\r\r
expect: set expect_out(0,string) \"password:\"\r\r
expect: set expect_out(spawn_id) \"exp0\"\r\r
expect: set expect_out(buffer) \"password:\"\r\r
send: sending \"onceas\\r\" to { exp0 onceas\r}\r\r
\r\r
expect: does \"\\n\" (spawn_id exp0) match glob pattern \"\\r\"? no\r\r
"
send -- "password:\r"
expect -exact "password:\r
\r\r
expect: does \"\\npassword:\\n\" (spawn_id exp0) match glob pattern \"\\r\"? no\r\r
expect: timed out\r\r
\r\r
expect: does \"\\npassword:\\n\" (spawn_id exp0) match glob pattern \"yes/no\"? no\r\r
\"password:\"? yes\r\r
expect: set expect_out(0,string) \"password:\"\r\r
expect: set expect_out(spawn_id) \"exp0\"\r\r
expect: set expect_out(buffer) \"\\npassword:\"\r\r
send: sending \"onceas\\r\" to { exp0 onceas\r}\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 29L, 723C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 exp_internal\[m 1\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[m\[1m\[36m#spawn ssh -t \$user_name@\$client \"ssh-copy-id -i ~/.ssh/id_rsa.pub \$user_name@\$servee\[m\[10;1H\[1m\[33m    \[m\[1m\[36mr\"\[m\r
\[1m\[33m 10 expect\[m {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" {\r
\[1m\[33m 18 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 19 \[m    }\r
\[1m\[33m 20 \[m}\r
\[1m\[33m 21 expect\[m \"\[1m\[31m\\r\[m\"\r
\[1m\[33m 22 \[8Cexpect\[m {\r
\[1m\[33m 23 \[m\[12C\"yes/no\" {\r
\[1m\[33m 24 \[16Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 25 \[16Cexp_continue\r
 26 \[m\[12C}\r
\[1m\[33m 27 \[m\[12C\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 28 \[m\[12C\"password:\" { \[1m\[33msend\[m -- \"hello inmost\[1m\[31m\\r\[m\" }\r
\[1m\[33m 29 \[m\[8C}\r
\[1m\[34m~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      3,1            All\[3;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[3;5H\[53;80H\[\[3;5H\[53;81H>\[3;5H\[?12l\[?25h\[?25l\[53;78H    \[3;5H\[53;78H^\[\[3;5H\[53;80H\[\[3;5H\[53;81H>\[3;5H\[53;82H0\[3;5H\[?12l\[?25h\[?25l\[53;78H     \[3;5H\[53;78H^\[\[3;5H\[53;80H\[\[3;5H\[53;81H>\[3;5H\[53;82H0\[3;5H\[53;83H;\[3;5H\[?12l\[?25h\[?25l\[53;78H      \[3;5H\[53;78H^\[\[3;5H\[53;80H\[\[3;5H\[53;81H>\[3;5H\[53;82H0\[3;5H\[53;83H;\[3;5H\[53;84H1\[3;5H\[?12l\[?25h\[?25l\[53;78H       \[3;5H\[53;78H^\[\[3;5H\[53;80H\[\[3;5H\[53;81H>\[3;5H\[53;82H0\[3;5H\[53;83H;\[3;5H\[53;84H1\[3;5H\[53;85H3\[3;5H\[53;86H6\[3;5H\[?12l\[?25h\[?25l\[53;78H         \[3;5H\[53;78H^\[\[3;5H\[53;80H\[\[3;5H\[53;81H>\[3;5H\[53;82H0\[3;5H\[53;83H;\[3;5H\[53;84H1\[3;5H\[53;85H3\[3;5H\[53;86H6\[3;5H\[53;87H;\[3;5H\[?12l\[?25h\[?25l\[53;78H          \[3;5H\[53;78H^\[\[3;5H\[53;80H\[\[3;5H\[53;81H>\[3;5H\[53;82H0\[3;5H\[53;83H;\[3;5H\[53;84H1\[3;5H\[53;85H3\[3;5H\[53;86H6\[3;5H\[53;87H;\[3;5H\[53;78H\[\[>0;136;0\[3;5H\[?12l\[?25h\[?25l\[53;78H          \[3;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[3;5H\[53;78H \[2;5H\[52;71H\[1m\[7m2,0-1\[2;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[2;5H\[53;78H \[3;5H\[52;71H\[1m\[7m3,1   \[3;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[3;5H\[53;78H \[4;5H\[52;71H\[1m\[7m4,\[4;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[4;5H\[53;78H \[5;5H\[52;71H\[1m\[7m5,\[5;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[5;5H\[53;78H \[6;5H\[52;71H\[1m\[7m6,\[6;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[6;5H\[53;78H \[7;5H\[52;71H\[1m\[7m7,\[7;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[7;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[8;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,1   \[9;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[9;5H\[53;78H \[11;5H\[52;71H\[1m\[7m10,1\[11;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[11;5H\[53;78H \[12;5H\[52;72H\[1m\[7m1,\[12;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[12;5H\[53;78H \[13;5H\[52;72H\[1m\[7m2,\[13;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[13;5H\[53;78H \[14;5H\[52;72H\[1m\[7m3,\[14;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[14;5H\[53;78H \[15;5H\[52;72H\[1m\[7m4,\[15;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[15;5H\[53;78H \[16;5H\[52;72H\[1m\[7m5,\[16;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[16;5H\[53;78H \[17;5H\[52;72H\[1m\[7m6,\[17;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[17;5H\[53;78H \[18;5H\[52;72H\[1m\[7m7,\[18;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[18;5H\[53;78H \[19;5H\[52;72H\[1m\[7m8,\[19;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[19;5H\[53;78H \[20;5H\[52;72H\[1m\[7m9,\[20;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;5H\[53;78H \[21;5H\[11;12H\[46m{\[21;5H}\[m\[52;71H\[1m\[7m20,\[21;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;5H\[53;78H \[22;5H\[11;12H{\[21;5H}\[52;72H\[1m\[7m1,\[22;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[22;5H\[53;78H \[23;5H\[52;72H\[1m\[7m2,\[23;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;5H\[53;78H \[24;5H\[52;72H\[1m\[7m3,\[24;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[24;5H\[53;78H \[25;5H\[52;72H\[1m\[7m4,\[25;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[25;5H\[53;78H \[24;5H\[52;72H\[1m\[7m3,\[24;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[24;5H\[53;78H \[23;5H\[52;72H\[1m\[7m2,\[23;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[23;5H\[53;78H \[22;5H\[52;72H\[1m\[7m1,\[22;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd\[22;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[53;78H \[22;5H\[?12l\[?25h\[?25l\[53;78Hdd\[22;5H\[53;78H  \[22;13H\[22;5H        \[1m\[33mexpect\[m {\[23;13H    \"yes/no\" {\[24;17H    \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[25;21H\[1m\[33mexp_continue\[m\[25;33H\[K\[26;17H}\[26;21H\[K\[27;17H\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[28;40Hhello inmost\[1m\[31m\\r\[m\" }\[29;13H}\[29;17H\[K\[30;1H\[1m\[34m~                                                                                       \[m\[52;18H\[1m\[7m\[+\]\[53C9 \[22;13H\[?12l\[?25h"
send -- "V"
expect -exact "\[?25l\[m\[53;78HV\[22;13H\[53;78H1\[22;13H\[22;5H\[7m        \[m\[1C\[1m\[7m\[33mxpect\[m\[7m { \[m\[53;1H\[1m-- VISUAL LINE --\[m\[53;18H\[K\[53;78H1\[22;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[22;13H\[53;78H2\[23;13H\[22;13H\[1m\[7m\[33mexpect\[m\[7m \[23;5H        \[m \[7m   \"yes/no\" { \[m\[52;72H\[1m\[7m2,\[23;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;13H\[53;78H3\[24;13H\[23;13H\[7m \[24;5H        \[m \[7m       \[m\[1m\[7m\[33msend\[m\[7m -- \"yes\[m\[1m\[7m\[31m\\r\[m\[7m\" \[m\[52;72H\[1m\[7m3,\[24;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[24;13H\[53;78H4\[25;13H\[24;13H\[7m \[25;5H        \[m \[7m       \[m\[1m\[7m\[33mexp_continue\[m\[7m \[m\[52;72H\[1m\[7m4,\[25;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;13H\[53;78H5\[26;13H\[25;13H\[7m \[26;5H        \[m \[7m   } \[m\[52;72H\[1m\[7m5,\[26;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;13H\[53;78H6\[27;13H\[26;13H\[7m \[27;5H        \[m \[7m   \"password:\" { \[m\[1m\[7m\[33msend\[m\[7m -- \"\[m\[1m\[7m\[31m\$password\\r\[m\[7m\" } \[m\[52;72H\[1m\[7m6,\[27;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[27;13H\[53;78H7\[28;13H\[27;13H\[7m \[28;5H        \[m \[7m   \"password:\" { \[m\[1m\[7m\[33msend\[m\[7m -- \"hello inmost\[m\[1m\[7m\[31m\\r\[m\[7m\" } \[m\[52;72H\[1m\[7m7,\[28;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[28;13H\[53;78H8\[29;13H\[28;13H\[7m \[29;5H        \[m\[46m}\[m\[7m \[m\[52;72H\[1m\[7m8,\[29;13H\[?12l\[?25h"
send -- "<"
expect -exact "\[?25l\[m\[53;78H<\[29;13H\[53;1H8 lines <ed 1 time\[53;78H\[K\[22;9H    \[1m\[33mexpect\[m {\[22;17H\[K\[23;5H        \"yes/no\" {\[23;23H\[K\[24;5H            \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[24;32H\[K\[25;5H            \[1m\[33mexp_continue\[m\[25;29H\[K\[26;5H        }\[26;14H\[K\[27;5H        \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[27;50H\[K\[28;5H        \"password:\" { \[1m\[33msend\[m -- \"hello inmost\[1m\[31m\\r\[m\" }\[28;53H\[K\[29;5H    }\[29;10H\[K\[52;72H\[1m\[7m1,5 \[22;9H\[?12l\[?25h"
send -- "."
expect -exact "\[?25l\[m\[53;78H.\[22;9H\[53;78H \[22;9H\[53;78H<\[22;9H\[53;78H\[K\[22;5H\[1m\[33mexpect\[m {\[22;13H\[K\[23;9H\"yes/no\" {\[23;19H\[K\[24;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[24;28H\[K\[25;13H\[1m\[33mexp_continue\[m\[25;25H\[K\[26;9H}\[26;13H\[K\[27;9H\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[27;46H\[K\[28;9H\"password:\" { \[1m\[33msend\[m -- \"hello inmost\[1m\[31m\\r\[m\" }\[28;49H\[K\[29;5H}\[29;9H\[K\[52;74H\[1m\[7m1 \[22;5H\[?12l\[?25h"
send -- "."
expect -exact "\[?25l\[m\[53;78H.\[22;5H\[53;78H \[22;5H\[53;78H<\[22;5H\[53;78H\[K\[22;5H\[23;5H\"yes/no\" {\[23;15H\[K\[24;9H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[24;24H\[K\[25;9H\[1m\[33mexp_continue\[m\[25;21H\[K\[26;5H}\[26;9H\[K\[27;5H\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[27;42H\[K\[28;5H\"password:\" { \[1m\[33msend\[m -- \"hello inmost\[1m\[31m\\r\[m\" }\[28;45H\[K\[22;5H\[?12l\[?25h"
send -- "u"
expect -exact "\[?25l\[53;78Hu\[22;5H\[53;3Hchanges; before #4  1 seconds ago\[53;78H\[K\[22;5H\[23;5H    \"yes/no\" {\[24;9H    \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[25;9H    \[1m\[33mexp_continue\[m\[26;5H    }\[27;5H    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[28;5H    \"password:\" { \[1m\[33msend\[m -- \"hello inmost\[1m\[31m\\r\[m\" }\[22;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[22;5H\[53;78H \[23;5H\[52;72H\[1m\[7m2,\[23;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;5H\[53;78H \[24;5H\[52;72H\[1m\[7m3,\[24;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[24;5H\[53;78H \[25;5H\[52;72H\[1m\[7m4,\[25;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;5H\[53;78H \[26;5H\[52;72H\[1m\[7m5,\[26;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;5H\[53;78H \[27;5H\[52;72H\[1m\[7m6,\[27;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[27;5H\[53;78H \[28;5H\[52;72H\[1m\[7m7,\[28;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd\[28;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[53;78H \[28;5H\[?12l\[?25h\[?25l\[53;78Hdd\[28;5H\[53;78H  \[28;5H\[22;12H\[46m{\[28;5H}\[m\[28;9H\[K\[29;1H\[1m\[34m~                                                                                       \[28;5H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[28;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- ""
expect -exact "\[?25l\[53;3H\[K\[53;3H\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\"copy_ssh_key.exp\" 27L, 602C written\[28;5H\[52;18H\[1m\[7m    \[28;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[28;5H\[53;78H \[27;5H\[22;12H{\[28;5H}\[52;72H\[1m\[7m6,\[27;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[27;5H\[53;78H \[26;5H\[52;72H\[1m\[7m5,\[26;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[26;5H\[53;78H \[25;5H\[52;72H\[1m\[7m4,\[25;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[25;5H\[53;78H \[24;5H\[52;72H\[1m\[7m3,\[24;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[24;5H\[53;78H \[23;5H\[52;72H\[1m\[7m2,\[23;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[23;5H\[53;78H \[22;5H\[52;72H\[1m\[7m1,\[22;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[22;5H\[53;78H \[21;5H\[11;12H\[46m{\[21;5H}\[m\[52;72H\[1m\[7m0,\[21;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[21;5H\[53;78H \[20;5H\[11;12H{\[21;5H}\[52;71H\[1m\[7m19,\[20;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[20;5H\[53;78H \[19;5H\[52;72H\[1m\[7m8,\[19;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[19;5H\[53;78H \[18;5H\[52;72H\[1m\[7m7,\[18;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[18;5H\[53;78H \[17;5H\[52;72H\[1m\[7m6,\[17;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[17;5H\[53;78H \[16;5H\[52;72H\[1m\[7m5,\[16;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[16;5H\[53;78H \[15;5H\[52;72H\[1m\[7m4,\[15;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[15;5H\[53;78H \[14;5H\[52;72H\[1m\[7m3,\[14;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[14;5H\[53;78H \[13;5H\[52;72H\[1m\[7m2,\[13;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[13;5H\[53;78H \[12;5H\[52;72H\[1m\[7m1,\[12;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[12;5H\[53;78H \[11;5H\[52;72H\[1m\[7m0,\[11;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[11;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,1  \[9;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[9;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[8;5H\[53;78H \[7;5H\[52;71H\[1m\[7m7,1   \[7;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[7;5H\[53;78H \[6;5H\[52;71H\[1m\[7m6,\[6;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[6;5H\[53;78H \[5;5H\[52;71H\[1m\[7m5,\[5;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[5;5H\[53;78H \[4;5H\[52;71H\[1m\[7m4,\[4;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[4;5H\[53;78H \[3;5H\[52;71H\[1m\[7m3,\[3;5H\[?12l\[?25h"
send -- ","
expect -exact "\[?25l\[m\[53;78H,\[3;5H\[?12l\[?25h"
send -- "c"
expect -exact "\[?25l\[53;78H \[3;5H\[53;78H,\[3;5H\[53;79Hc\[3;5H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[53;78H  \[3;5H\[1m\[36m#exp_internal 1\[m\[52;18H\[1m\[7m\[+\]\[3;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[3;5H\[53;78H \[2;5H\[52;71H\[1m\[7m2,0-1\[2;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[2;5H\[53;78H \[3;5H\[52;71H\[1m\[7m3,1   \[3;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[3;5H\[53;78H \[4;5H\[52;71H\[1m\[7m4,\[4;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[4;5H\[53;78H \[5;5H\[52;71H\[1m\[7m5,\[5;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[5;5H\[53;78H \[6;5H\[52;71H\[1m\[7m6,\[6;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[6;5H\[53;78H \[7;5H\[52;71H\[1m\[7m7,\[7;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[7;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[8;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,1   \[9;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[9;5H\[53;78H \[11;5H\[52;71H\[1m\[7m10,1\[11;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[11;5H\[53;78H \[12;5H\[52;72H\[1m\[7m1,\[12;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[12;5H\[53;78H \[13;5H\[52;72H\[1m\[7m2,\[13;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[13;5H\[53;78H \[14;5H\[52;72H\[1m\[7m3,\[14;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[14;5H\[53;78H \[15;5H\[52;72H\[1m\[7m4,\[15;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[15;5H\[53;78H \[16;5H\[52;72H\[1m\[7m5,\[16;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[16;5H\[53;78H \[17;5H\[52;72H\[1m\[7m6,\[17;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[17;5H\[53;78H \[18;5H\[52;72H\[1m\[7m7,\[18;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[18;5H\[53;78H \[19;5H\[52;72H\[1m\[7m8,\[19;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[19;5H\[53;78H \[20;5H\[52;72H\[1m\[7m9,\[20;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;5H\[53;78H \[21;5H\[11;12H\[46m{\[21;5H}\[m\[52;71H\[1m\[7m20,\[21;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;5H\[53;78H \[22;5H\[11;12H{\[21;5H}\[52;72H\[1m\[7m1,\[22;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[22;5H\[53;78H \[21;5H\[11;12H\[46m{\[21;5H}\[m\[52;72H\[1m\[7m0,\[21;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[21;5H\[53;78H \[20;5H\[11;12H{\[21;5H}\[52;71H\[1m\[7m19,\[20;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;5H\[53;78H \[21;5H\[11;12H\[46m{\[21;5H}\[m\[52;71H\[1m\[7m20,\[21;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;5H\[53;78H \[22;5H\[11;12H{\[21;5H}\[52;72H\[1m\[7m1,\[22;5H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[22;5H\[53;78H \[22;6H\[52;74H\[1m\[7m2 \[22;6H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[22;6H\[53;78H \[22;7H\[52;74H\[1m\[7m3 \[22;7H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[22;7H\[53;78H \[22;8H\[52;74H\[1m\[7m4 \[22;8H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[22;8H\[53;78H \[22;9H\[52;74H\[1m\[7m5 \[22;9H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[22;9H\[53;78H \[22;10H\[52;74H\[1m\[7m6 \[22;10H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[22;10H\[53;78H \[22;11H\[52;74H\[1m\[7m7 \[22;11H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[m\[53;78Hi\[22;11H\[53;78H \[22;11H\[53;1H\[1m-- INSERT --\[m\[53;13H\[K\[22;11H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l  {\[52;74H\[1m\[7m8 \[22;12H\[?12l\[?25h"
send -- "-"
expect -exact "\[?25l\[m- {\[52;74H\[1m\[7m9 \[22;13H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[md {\[52;74H\[1m\[7m10\[22;14H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[22;14H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[22;14H \[53;1H\[K\[52;74H\[1m\[7m9  \[22;13H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[22;13H\[53;78H \[21;5H\[11;12H\[46m{\[21;5H}\[m\[52;72H\[1m\[7m0,1 \[21;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[21;5H\[53;78H \[20;9H\[11;12H{\[18;21H\[46m{\[20;9H}\[m\[21;5H}\[52;71H\[1m\[7m19,5 \[20;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[20;9H\[53;78H \[19;13H\[18;21H{\[20;9H}\[52;72H\[1m\[7m8,9 \[19;13H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[19;13H\[53;78H \[18;13H\[52;72H\[1m\[7m7,\[18;13H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[18;13H\[53;78H \[17;13H\[52;72H\[1m\[7m6,\[17;13H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[17;13H\[53;78H \[16;9H\[13;18H\[46m{\[16;9H}\[m\[52;72H\[1m\[7m5,5 \[16;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[16;9H\[53;78H \[15;13H\[13;18H{\[16;9H}\[52;72H\[1m\[7m4,9 \[15;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[15;13H\[53;78H \[16;9H\[13;18H\[46m{\[16;9H}\[m\[52;72H\[1m\[7m5,5 \[16;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[16;9H\[53;78H \[17;13H\[13;18H{\[16;9H}\[52;72H\[1m\[7m6,9 \[17;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[17;13H\[53;78H \[18;13H\[52;72H\[1m\[7m7,\[18;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[18;13H\[53;78H \[19;13H\[52;72H\[1m\[7m8,\[19;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[19;13H\[53;78H \[20;9H\[18;21H\[46m{\[20;9H}\[m\[52;72H\[1m\[7m9,5 \[20;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;9H\[53;78H \[21;5H\[11;12H\[46m{\[m\[18;21H{\[20;9H}\[21;5H\[46m}\[m\[52;71H\[1m\[7m20,1 \[21;5H\[?12l\[?25h"
send -- "%"
expect -exact "\[?25l\[m\[53;78H%\[21;5H\[53;78H \[11;12H\[52;71H\[1m\[7m10,8 \[11;12H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[m\[53;78Hi\[11;12H\[53;78H \[11;12H\[53;1H\[1m-- INSERT --\[11;12H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[m\[46m \[m{ \[46m{\[m\[52;74H\[1m\[7m9 \[11;13H\[?12l\[?25h"
send -- ""
expect -exact "\[?25l\[m{\[11;13H\[K\[11;11H\[46m{\[m\[52;74H\[1m\[7m7 \[11;11H\[?12l\[?25h"
send -- "-"
expect -exact "\[?25l\[m\[46m-\[m{-\[46m{\[m\[52;74H\[1m\[7m8 \[11;12H\[?12l\[?25h"
send -- ""
expect -exact "\[?25l\[m{\[46m {\[m\[11;12H\[K\[52;74H\[1m\[7m7 \[11;11H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[m\[46m \[m{ \[46m{\[m\[52;74H\[1m\[7m8 \[11;12H\[?12l\[?25h"
send -- "-"
expect -exact "\[?25l\[m\[46m-\[m{-\[46m{\[m\[52;74H\[1m\[7m9 \[11;13H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[46md\[m{d\[46m{\[m\[52;74H\[1m\[7m10\[11;14H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[m\[46m \[m{ \[46m{\[m\[52;75H\[1m\[7m1 \[11;15H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[11;15H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[11;15H\[46m{\[m\[53;1H\[K\[11;15H{\[21;5H}\[52;75H\[1m\[7m0 \[11;14H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[11;14H\[53;78H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 27L, 609C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\r"
expect -exact "\r
bad flag \"-d\": must be -glob, -regexp, -exact, -notransfer, -nocase, -i, -indices, -iread, -timestamp, -timeout, -nobrace, or --\r
    while executing\r
\"expect -d {\r
    # first connection, no public key in ~/.ssh/known_hosts\r
    \"yes/no\" {\r
        send -- \"yes\\r\"\r
        exp_continue\r
    }\r
    # alread...\"\r
    (file \"./copy_ssh_key.exp\" line 10)\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 27L, 609C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[m\[1m\[36m#spawn ssh -t \$user_name@\$client \"ssh-copy-id -i ~/.ssh/id_rsa.pub \$user_name@\$servee\[m\[10;1H\[1m\[33m    \[m\[1m\[36mr\"\[m\r
\[1m\[33m 10 expect\[m -d {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" {\r
\[1m\[33m 18 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 19 \[m    }\r
\[1m\[33m 20 \[m}\r
\[1m\[33m 21 expect\[m -d {\r
\[1m\[33m 22 \[m    \"yes/no\" {\r
\[1m\[33m 23 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 24 \[8Cexp_continue\r
 25 \[m    }\r
\[1m\[33m 26 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 27 \[m}\r
\[1m\[34m~                                                                                       \[30;1H~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      10,1           All\[11;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[?12l\[?25h\[?25l\[53;78H    \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[53;82H0\[11;5H\[53;83H;\[11;5H\[?12l\[?25h\[?25l\[53;78H      \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[53;82H0\[11;5H\[53;83H;\[11;5H\[53;84H1\[11;5H\[?12l\[?25h\[?25l\[53;78H       \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[53;82H0\[11;5H\[53;83H;\[11;5H\[53;84H1\[11;5H\[53;85H3\[11;5H\[?12l\[?25h\[?25l\[53;78H        \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[53;82H0\[11;5H\[53;83H;\[11;5H\[53;84H1\[11;5H\[53;85H3\[11;5H\[53;86H6\[11;5H\[?12l\[?25h\[?25l\[53;78H         \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[53;82H0\[11;5H\[53;83H;\[11;5H\[53;84H1\[11;5H\[53;85H3\[11;5H\[53;86H6\[11;5H\[53;87H;\[11;5H\[?12l\[?25h\[?25l\[53;78H          \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[53;82H0\[11;5H\[53;83H;\[11;5H\[53;84H1\[11;5H\[53;85H3\[11;5H\[53;86H6\[11;5H\[53;87H;\[11;5H\[53;78H\[\[>0;136;0\[11;5H\[?12l\[?25h\[?25l\[53;78H          \[11;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- "u"
expect -exact "\[?25l\[53;78Hu\[11;5H\[53;1HAlready at oldest change\[53;25H\[K\[11;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[11;5H\[53;78H \[12;5H\[52;72H\[1m\[7m1,\[12;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[12;5H\[53;78H \[13;5H\[52;72H\[1m\[7m2,\[13;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[13;5H\[53;78H \[14;5H\[52;72H\[1m\[7m3,\[14;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[14;5H\[53;78H \[15;5H\[52;72H\[1m\[7m4,\[15;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[15;5H\[53;78H \[16;5H\[52;72H\[1m\[7m5,\[16;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[16;5H\[53;78H \[17;5H\[52;72H\[1m\[7m6,\[17;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[17;5H\[53;78H \[18;5H\[52;72H\[1m\[7m7,\[18;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[18;5H\[53;78H \[19;5H\[52;72H\[1m\[7m8,\[19;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[19;5H\[53;78H \[20;5H\[52;72H\[1m\[7m9,\[20;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;5H\[53;78H \[21;5H\[11;15H\[46m{\[21;5H}\[m\[52;71H\[1m\[7m20,\[21;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;5H\[53;78H \[22;5H\[11;15H{\[21;5H}\[52;72H\[1m\[7m1,\[22;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[22;5H\[53;78H \[23;5H\[52;72H\[1m\[7m2,\[23;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[23;5H\[53;78H \[22;5H\[52;72H\[1m\[7m1,\[22;5H\[?12l\[?25h"
send -- "f"
expect -exact "\[?25l\[m\[53;78Hf\[22;5H\[?12l\[?25h"
send -- "-"
expect -exact "\[?25l\[53;79H-\[22;5H\[53;78H  \[22;12H\[52;74H\[1m\[7m8 \[22;12H\[?12l\[?25h"
send -- "x"
expect -exact "\[?25l\[m\[53;78Hx\[22;12H\[53;78H \[22;12H\[53;78Hdl\[22;12H\[53;78H  \[22;12Hd {\[22;15H\[K\[52;18H\[1m\[7m\[+\]\[22;12H\[?12l\[?25h"
send -- "x"
expect -exact "\[?25l\[m\[53;78Hx\[22;12H\[53;78H \[22;12H\[53;78Hdl\[22;12H\[53;78H  \[22;12H {\[22;14H\[K\[22;12H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[22;12H\[53;78H \[21;5H\[11;15H\[46m{\[21;5H}\[m\[52;72H\[1m\[7m0,1 \[21;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[21;5H\[53;78H \[20;9H\[11;15H{\[18;21H\[46m{\[20;9H}\[m\[21;5H}\[52;71H\[1m\[7m19,5 \[20;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[20;9H\[53;78H \[19;12H\[18;21H{\[20;9H}\[52;72H\[1m\[7m8,8 \[19;12H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[19;12H\[53;78H \[18;12H\[52;72H\[1m\[7m7,\[18;12H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[18;12H\[53;78H \[17;12H\[52;72H\[1m\[7m6,\[17;12H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[17;12H\[53;78H \[16;9H\[13;18H\[46m{\[16;9H}\[m\[52;72H\[1m\[7m5,5 \[16;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[16;9H\[53;78H \[15;12H\[13;18H{\[16;9H}\[52;72H\[1m\[7m4,8 \[15;12H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[15;12H\[53;78H \[14;12H\[52;72H\[1m\[7m3,\[14;12H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[14;12H\[53;78H \[13;12H\[52;72H\[1m\[7m2,\[13;12H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[13;12H\[53;78H \[12;12H\[52;72H\[1m\[7m1,\[12;12H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[12;12H\[53;78H \[12;11H\[52;74H\[1m\[7m7 \[12;11H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[12;11H\[53;78H \[11;11H\[52;72H\[1m\[7m0,\[11;11H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[11;11H\[53;78H \[11;12H\[52;74H\[1m\[7m8 \[11;12H\[?12l\[?25h"
send -- "x"
expect -exact "\[?25l\[m\[53;78Hx\[11;12H\[53;78H \[11;12H\[53;78Hdl\[11;12H\[53;78H  \[11;12Hd {\[11;15H\[K\[11;12H\[?12l\[?25h"
send -- "x"
expect -exact "\[?25l\[53;78Hx\[11;12H\[53;78H \[11;12H\[53;78Hdl\[11;12H\[53;78H  \[11;12H {\[11;14H\[K\[11;12H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[53;78H:\[11;12H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 27L, 605C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "expect \[A"
expect -exact "\[14@vim copy_ssh_key.exp\[C"
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[1~"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "e"
expect -exact "e./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "x"
expect -exact "x./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "p"
expect -exact "p./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "e"
expect -exact "e./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "c"
expect -exact "c./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "t"
expect -exact "t./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- " "
expect -exact " ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "-"
expect -exact "-./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.1\[C3.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "d"
expect -exact "d./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- " "
expect -exact " ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\r\r
expect version 5.45\r\r
argv\[0\] = expect  argv\[1\] = -d  argv\[2\] = ./copy_ssh_key.exp  argv\[3\] = hadoop  argv\[4\] = onceas  argv\[5\] = 133.133.131.18  argv\[6\] = 133.133.135.34  \r\r
set argc 4\r\r
set argv0 \"./copy_ssh_key.exp\"\r\r
set argv \"hadoop onceas 133.133.131.18 133.133.135.34\"\r\r
executing commands from command file ./copy_ssh_key.exp\r\r
\r\r
expect: does \"\" (spawn_id exp0) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
expect: timed out\r\r
\r\r
expect: does \"\" (spawn_id exp0) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
"
send -- "passsword:\r"
expect -exact "passsword:\r
\r\r
expect: does \"passsword:\\n\" (spawn_id exp0) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
expect: timed out\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\r"
expect -exact "\r
expect version 5.45\r\r
argv\[0\] = expect  argv\[1\] = -d  argv\[2\] = ./copy_ssh_key.exp  argv\[3\] = hadoop  argv\[4\] = onceas  argv\[5\] = 133.133.131.18  argv\[6\] = 133.133.135.34  \r\r
set argc 4\r\r
set argv0 \"./copy_ssh_key.exp\"\r\r
set argv \"hadoop onceas 133.133.131.18 133.133.135.34\"\r\r
executing commands from command file ./copy_ssh_key.exp\r\r
\r\r
expect: does \"\" (spawn_id exp0) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
"
send -- "password:\r"
expect -exact "password:\r
\r\r
expect: does \"password:\\n\" (spawn_id exp0) match glob pattern \"yes/no\"? no\r\r
\"password:\"? yes\r\r
expect: set expect_out(0,string) \"password:\"\r\r
expect: set expect_out(spawn_id) \"exp0\"\r\r
expect: set expect_out(buffer) \"password:\"\r\r
send: sending \"onceas\\r\" to { exp0 onceas\r}\r\r
\r\r
expect: does \"\\n\" (spawn_id exp0) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
expect: timed out\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[B"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[B"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 27L, 605C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[m\[1m\[36m#spawn ssh -t \$user_name@\$client \"ssh-copy-id -i ~/.ssh/id_rsa.pub \$user_name@\$servee\[m\[10;1H\[1m\[33m    \[m\[1m\[36mr\"\[m\r
\[1m\[33m 10 expect\[m  {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" {\r
\[1m\[33m 18 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 19 \[m    }\r
\[1m\[33m 20 \[m}\r
\[1m\[33m 21 expect\[m  {\r
\[1m\[33m 22 \[m    \"yes/no\" {\r
\[1m\[33m 23 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 24 \[8Cexp_continue\r
 25 \[m    }\r
\[1m\[33m 26 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 27 \[m}\r
\[1m\[34m~                                                                                       \[30;1H~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      10,1           All\[11;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[?12l\[?25h\[?25l\[53;78H   \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[53;82H0\[11;5H\[53;83H;\[11;5H\[?12l\[?25h\[?25l\[53;78H      \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[53;82H0\[11;5H\[53;83H;\[11;5H\[53;84H1\[11;5H\[?12l\[?25h\[?25l\[53;78H       \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[53;82H0\[11;5H\[53;83H;\[11;5H\[53;84H1\[11;5H\[53;85H3\[11;5H\[53;86H6\[11;5H\[?12l\[?25h\[?25l\[53;78H         \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[53;82H0\[11;5H\[53;83H;\[11;5H\[53;84H1\[11;5H\[53;85H3\[11;5H\[53;86H6\[11;5H\[53;87H;\[11;5H\[53;78H\[\[>0;136;0\[11;5H\[?12l\[?25h\[?25l\[53;78H          \[11;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[11;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,1  \[9;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[9;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[8;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,1   \[9;5H\[?12l\[?25h"
send -- ","
expect -exact "\[?25l\[m\[53;78H,\[9;5H\[?12l\[?25h"
send -- "c"
expect -exact "\[?25l\[53;78H \[9;5H\[53;78H,\[9;5H\[53;79Hc\[9;5H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[53;78H  \[9;5H\[1m\[33mspawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[10;1H\[1m\[33m \[m\[3C\"\[10;6H\[K\[52;18H\[1m\[7m\[+\]\[9;5H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[9;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 27L, 604C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\r"
expect -exact "\r
expect version 5.45\r\r
argv\[0\] = expect  argv\[1\] = -d  argv\[2\] = ./copy_ssh_key.exp  argv\[3\] = hadoop  argv\[4\] = onceas  argv\[5\] = 133.133.131.18  argv\[6\] = 133.133.135.34  \r\r
set argc 4\r\r
set argv0 \"./copy_ssh_key.exp\"\r\r
set argv \"hadoop onceas 133.133.131.18 133.133.135.34\"\r\r
executing commands from command file ./copy_ssh_key.exp\r\r
spawn ssh -t hadoop@133.133.131.18 ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\r\r\r
parent: waiting for sync byte\r\r
parent: telling child to go ahead\r\r
parent: now unsynchronized from child\r\r
spawn: returns {27289}\r\r
\r\r
expect: does \"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
hadoop@133.133.131.18's password: \r\r
expect: does \"hadoop@133.133.131.18's password: \" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? yes\r\r
expect: set expect_out(0,string) \"password:\"\r\r
expect: set expect_out(spawn_id) \"exp7\"\r\r
expect: set expect_out(buffer) \"hadoop@133.133.131.18's password:\"\r\r
send: sending \"onceas\\r\" to { exp7 }\r\r
\r\r
expect: does \" \" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
\r\r
\r\r
expect: does \" \\r\\n\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\r\r
\r\r
expect: does \" \\r\\n/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\\r\\n\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\r\r
\r\r
expect: does \" \\r\\n/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\\r\\n/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\\r\\n\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
hadoop@133.133.135.34's password: \r\r
expect: does \" \\r\\n/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\\r\\n/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\\r\\nhadoop@133.133.135.34's password: \" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? yes\r\r
expect: set expect_out(0,string) \"password:\"\r\r
expect: set expect_out(spawn_id) \"exp7\"\r\r
expect: set expect_out(buffer) \" \\r\\n/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\\r\\n/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\\r\\nhadoop@133.133.135.34's password:\"\r\r
send: sending \"onceas\\r\" to { exp7 }\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 27L, 604C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[10;1H\[1m\[33m    \[m\"\r
\[1m\[33m 10 expect\[m  {\r
\[1m\[33m 11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 12 \[m    \"yes/no\" {\r
\[1m\[33m 13 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 14 \[8Cexp_continue\r
 15 \[m    }\r
\[1m\[33m 16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 17 \[m    \"password:\" {\r
\[1m\[33m 18 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 19 \[m    }\r
\[1m\[33m 20 \[m}\r
\[1m\[33m 21 expect\[m  {\r
\[1m\[33m 22 \[m    \"yes/no\" {\r
\[1m\[33m 23 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 24 \[8Cexp_continue\r
 25 \[m    }\r
\[1m\[33m 26 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 27 \[m}\r
\[1m\[34m~                                                                                       \[30;1H~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      9,1            All\[9;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[9;5H\[53;80H\[\[9;5H\[53;81H>\[9;5H\[?12l\[?25h\[?25l\[53;78H    \[9;5H\[53;78H^\[\[9;5H\[53;80H\[\[9;5H\[53;81H>\[9;5H\[53;82H0\[9;5H\[53;83H;\[9;5H\[?12l\[?25h\[?25l\[53;78H      \[9;5H\[53;78H^\[\[9;5H\[53;80H\[\[9;5H\[53;81H>\[9;5H\[53;82H0\[9;5H\[53;83H;\[9;5H\[53;84H1\[9;5H\[?12l\[?25h\[?25l\[53;78H       \[9;5H\[53;78H^\[\[9;5H\[53;80H\[\[9;5H\[53;81H>\[9;5H\[53;82H0\[9;5H\[53;83H;\[9;5H\[53;84H1\[9;5H\[53;85H3\[9;5H\[53;86H6\[9;5H\[?12l\[?25h\[?25l\[53;78H         \[9;5H\[53;78H^\[\[9;5H\[53;80H\[\[9;5H\[53;81H>\[9;5H\[53;82H0\[9;5H\[53;83H;\[9;5H\[53;84H1\[9;5H\[53;85H3\[9;5H\[53;86H6\[9;5H\[53;87H;\[9;5H\[?12l\[?25h\[?25l\[53;78H          \[9;5H\[53;78H^\[\[9;5H\[53;80H\[\[9;5H\[53;81H>\[9;5H\[53;82H0\[9;5H\[53;83H;\[9;5H\[53;84H1\[9;5H\[53;85H3\[9;5H\[53;86H6\[9;5H\[53;87H;\[9;5H\[53;78H\[\[>0;136;0\[9;5H\[?12l\[?25h\[?25l\[53;78H          \[9;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[53;78H:\[9;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "e"
expect -exact "e\[?25l\[?12l\[?25h"
send -- " "
expect -exact "\[?25l \[?12l\[?25h"
send -- "s"
expect -exact "s\[?25l\[?12l\[?25h"
send -- "c"
expect -exact "c\[?25l\[?12l\[?25h"
send -- "	"
expect -exact "...\[?25lript.exp\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\"script.exp\" \[noeol\] 3893L, 335872C\[1;3H\[1m\[33m82 \[m|+   .. +         |\\r\[2;3H\[1m\[33m83 \[m|.o . ..\[10C|\\r\[3;3H\[1m\[33m84 \[m|Xoo  ..          |\\r\[4;3H\[1m\[33m85 \[m|EB o. oo         |\\r\[4;27H\[K\[5;3H\[1m\[33m86 \[m+-----------------+\\r\[5;27H\[K\[6;3H\[1m\[33m87 \[m\[1m\[34m^\[\[m\\\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\\\[root@hadoop-slave22\[7;1H\[1m\[33m     \[m tools\\\]\[1m\[36m# \"\[m\[7;17H\[K\[8;4H\[1m\[33m8 send\[m -- \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@1333\[9;1H\[1m\[33m     \[m.133.135.34\[1m\[31m\\\"\[m\"\[9;20H\[K\[10;3H\[1m\[33m89 expect\[m -exact \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.p \[1m\[31m\\r\[mub hh\[11;1H\[1m\[33m     \[madoop@133.133.135.34\[1m\[31m\\\"\[m\"\[12;2H\[1m\[33m 90 send\[m -- \"\[1m\[31m\\r\[m\"\[12;18H\[K\[13;2H\[1m\[33m 91 expect\[m -exact \"\[1m\[31m\\r\[m\[14;2H\[1m\[33m 92 \[mhadoop@133.133.131.18's password: \"\[15;2H\[1m\[33m 93 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[15;24H\[K\[16;2H\[1m\[33m 94 expect\[m -exact \"\[1m\[31m\\r\[m\[17;2H\[1m\[33m 95 \[mThe authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\[1m\[31m\\r\[m\[18;2H\[1m\[33m 96 \[mECDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\[1m\[31m\\r\[m\[19;2H\[1m\[33m 97 \[mAre you sure you want to continue connecting (yes/no)? \"\[20;2H\[1m\[33m 98 send\[m -- \"yes\[1m\[31m\\r\[m\"\[21;2H\[1m\[33m 99 expect\[m -exact \"yes\[1m\[31m\\r\[m\[22;2H\[1m\[33m100 \[m/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter outt\[23;1H\[1m\[33m     \[m any that are already installed\[1m\[31m\\r\[m\[24;2H\[1m\[33m101 \[m/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted  \[25;1H\[1m\[33m     \[mnow it is to install the new keys\[1m\[31m\\r\[m\[26;2H\[1m\[33m102 \[mhadoop@133.133.135.34's password: \"\[27;2H\[1m\[33m103 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[27;24H\[K\[28;2H\[1m\[33m104 expect\[m -exact \"\[1m\[31m\\r\[m\r
\[1m\[33m 105 \[m\[1m\[31m\\r\[m\[29;8H\[K\[30;1H\[1m\[33m 106 \[mNumber of key(s) added: 1\[1m\[31m\\r\[m\[30;33H\[K\[31;1H\[1m\[33m 107 \[m\[1m\[31m\\r\[m\[31;8H\[K\[32;1H\[1m\[33m 108 \[mNow try logging into the machine, with:   \[1m\[31m\\\"\[mssh 'hadoop@133.133.135.34'\[1m\[31m\\\"\\r\[m\[32;81H\[K\[33;1H\[1m\[33m 109 \[mand check to make sure that only the key(s) you wanted were added.\[1m\[31m\\r\[m\[33;74H\[K\[34;1H\[1m\[33m 110 \[m\[1m\[31m\\r\[m\[34;8H\[K\[35;1H\[1m\[33m 111 \[mConnection to 133.133.131.18 closed.\[1m\[31m\\r\\r\[m\[35;46H\[K\[36;1H\[1m\[33m 112 \[m\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\[1m\[31m\\\[\[mroot@hadoop-slave22\[37;1H\[1m\[33m     \[m tools\[1m\[31m\\\]\[m# \"\[37;17H\[K\[38;1H\[1m\[33m 113 send\[m -- \"ls\[1m\[31m\\r\[m\"\[38;20H\[K\[39;1H\[1m\[33m 114 expect\[m -exact \"ls\[1m\[31m\\r\[m\[39;25H\[K\[40;1H\[1m\[33m 115 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32madd_user.exp\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                      \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mjava_installer.shh\[41;1H\[1m\[33m     \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[41;14H\[K\[42;1H\[1m\[33m 116 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32madd_user.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                       \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mlogin.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[42;82H\[K\[43;1H\[1m\[33m 117 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mcenter_displayer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m               \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mlogout.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[43;83H\[K\[44;1H\[1m\[33m 118 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mcgroup_configurer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m              \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mnetwork_checker.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m00\[45;1H\[1m\[33m     \[mm\[1m\[31m\\r\[m\[45;9H\[K\[46;1H\[1m\[33m 119 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mclear_walls.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                    \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mpackage_installed_checkk\[47;1H\[1m\[33m     \[mer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[47;19H\[K\[48;1H\[1m\[33m 120 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mcopy_ssh_key.exp\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                  \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mpwd_free_ssh_generator..\[49;1H\[1m\[33m     \[mexp\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[49;17H\[K\[50;1H\[1m\[33m 121 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mdistance_checker.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m               \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mremote_directory_checkee\[51;1H\[1m\[33m     \[mr.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[51;18H\[K\[52;1H\[1m\[7mscript.expe       \[53C102,1\[10C 2%\[26;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[26;6H\[53;78H \[24;6H\[52;73H\[1m\[7m1,\[24;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[24;6H\[53;78H \[22;6H\[52;73H\[1m\[7m0,\[22;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[22;6H\[53;78H \[21;6H\[52;71H\[1m\[7m99,1  \[21;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[21;6H\[53;78H \[20;6H\[52;72H\[1m\[7m8,\[20;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[20;6H\[53;78H \[19;6H\[52;72H\[1m\[7m7,\[19;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[19;6H\[53;78H \[18;6H\[52;72H\[1m\[7m6,\[18;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[18;6H\[53;78H \[17;6H\[52;72H\[1m\[7m5,\[17;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[17;6H\[53;78H \[16;6H\[52;72H\[1m\[7m4,\[16;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[16;6H\[53;78H \[15;6H\[52;72H\[1m\[7m3,\[15;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[15;6H\[53;78H \[14;6H\[52;72H\[1m\[7m2,\[14;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[14;6H\[53;78H \[13;6H\[52;72H\[1m\[7m1,\[13;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[13;6H\[53;78H \[12;6H\[52;72H\[1m\[7m0,\[12;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[12;6H\[53;78H \[10;6H\[52;71H\[1m\[7m89,\[10;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[10;6H\[53;78H \[8;6H\[52;72H\[1m\[7m8,\[8;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[8;6H\[53;78H \[6;6H\[52;72H\[1m\[7m7,\[6;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[6;6H\[53;78H \[5;6H\[52;72H\[1m\[7m6,\[5;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[5;6H\[53;78H \[4;6H\[52;72H\[1m\[7m5,\[4;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[4;6H\[53;78H \[3;6H\[52;72H\[1m\[7m4,\[3;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[3;6H\[53;78H \[2;6H\[52;72H\[1m\[7m3,\[2;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[2;6H\[53;78H \[1;6H\[52;72H\[1m\[7m2,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  81 \[m|..    o S\[8C|\\r\[51;1H\[1m\[34m@                                                                                       \[m\[53;1H\[K\[52;72H\[1m\[7m1,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  80 \[m|o .\[14C|\\r\[52;72H\[1m\[7m0,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  79 \[m|..\[15C|\\r\[51;1H\[1m\[34m@                                                                                       \[m\[52;71H\[1m\[7m79,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  78 \[m|\[17C|\\r\[52;72H\[1m\[7m8,\[13C1%\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  77 \[m|\[17C|\\r\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m7,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  76 \[m+--\\\[ RSA 2048\\\]----+\\r\[52;72H\[1m\[7m6,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  75 \[mThe key's randomart image is:\\r\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m5,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  74 \[m72:e2:be:03:fa:a2:4b:14:a2:ca:ce:a2:e2:ac:98:98 hadoop@hadoop-slave3\\r\[52;72H\[1m\[7m4,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  73 \[mThe key fingerprint is:\\r\[52;72H\[1m\[7m3,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  72 \[mYour public key has been saved in /home/hadoop/.ssh/id_rsa.pub.\\r\[52;72H\[1m\[7m2,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  71 \[mYour identification has been saved in /home/hadoop/.ssh/id_rsa.\\r\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m1,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  70 \[mCreated directory '/home/hadoop/.ssh'.\\r\[52;72H\[1m\[7m0,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  69 \[mGenerating public/private rsa key pair.\\r\[52;71H\[1m\[7m69,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  68 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m8,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  67 send\[m -- \"\[1m\[31m\\r\[m\"\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m7,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  66 \[mEnter same passphrase again: \"\[52;72H\[1m\[7m6,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  65 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m5,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  64 send\[m -- \"\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m4,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  63 \[mEnter passphrase (empty for no passphrase): \"\[52;72H\[1m\[7m3,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  62 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m2,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  61 send\[m -- \"\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m1,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  60 \[mEnter file in which to save the key (/home/hadoop/.ssh/id_rsa): \"\[52;72H\[1m\[7m0,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  59 expect\[m -exact \"\[1m\[31m\\r\[m\[52;71H\[1m\[7m59,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  58 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m8,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  57 \[mhadoop@133.133.131.18's password: \"\[52;72H\[1m\[7m7,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  56 \[mPermission denied, please try again.\\r\\r\[52;72H\[1m\[7m6,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  55 expect\[m -exact \"\[1m\[31m\\r\[m\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m5,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  54 send\[m -- \"o\[1m\[34m^H\[monceonceas\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m4,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  53 \[mhadoop@133.133.131.18's password: \"\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m3,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  52 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m2,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  51 send\[m -- \"\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m1,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  50 expect\[m -exact \"ssh hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-keygen\[1m\[31m\\\"\[m\"\[52;72H\[1m\[7m0,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  49 send\[m -- \"ssh hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-keygen\[1m\[31m\\\"\[m\"\[52;71H\[1m\[7m49,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[2L\[1;53r\[1;1H\[1m\[33m  48 expect\[m -exact \"\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G^\[\[m\[1m\[31m\\\[\[m??\[2;1H\[1m\[33m     \[m1034h\[1m\[31m\\\[\[mroot@hadoop-slave2 tools\[1m\[31m\\\]\[m# \"\[52;72H\[1m\[7m8,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  47 match_max\[m 100000\[52;72H\[1m\[7m7,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  46 spawn\[m \[1m\[31m\$env\[m(SHELL)\[52;72H\[1m\[7m6,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  45 \[mset timeout -1\[52;72H\[1m\[7m5,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  44 \[m\[52;72H\[1m\[7m4,0-1\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  43 \[m\[52;72H\[1m\[7m3,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  42 \[m\[1m\[36m# -Don\[m\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m2,1   \[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  41 \[m\[1m\[36m#\[m\[52;72H\[1m\[7m1,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  40 \[m\[1m\[36m# Read the man page for more info.\[m\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m0,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  39 \[m\[1m\[36m#\[m\[52;71H\[1m\[7m39,\[13C0%\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  38 \[m\[1m\[36m# toggle this mode off and on.\[m\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m8,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  37 \[m\[1m\[36m# (i.e., the prompt).  The -P flag allows you to define a character to\[m\[52;72H\[1m\[7m7,\[1;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[1;6H\[53;78H \[2;6H\[52;72H\[1m\[7m8,\[2;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[2;6H\[53;78H \[3;6H\[52;72H\[1m\[7m9,\[3;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[3;6H\[53;78H \[4;6H\[52;71H\[1m\[7m40,\[4;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[4;6H\[53;78H \[5;6H\[52;72H\[1m\[7m1,\[5;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[5;6H\[53;78H \[6;6H\[52;72H\[1m\[7m2,\[6;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[6;6H\[53;78H \[7;6H\[52;72H\[1m\[7m3,0-1\[7;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[7;6H\[53;78H \[8;6H\[52;72H\[1m\[7m4,\[8;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[8;6H\[53;78H \[9;6H\[52;72H\[1m\[7m5,1   \[9;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[9;6H\[53;78H \[10;6H\[52;72H\[1m\[7m6,\[10;6H\[?12l\[?25h"
send -- "y"
expect -exact "\[?25l\[m\[53;78Hy\[10;6H\[?12l\[?25h"
send -- "y"
expect -exact "\[?25l\[53;78H \[10;6H\[?12l\[?25h\[?25l\[53;78Hyy\[10;6H\[53;78H  \[10;6H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[53;78H:\[10;6H\[53;78H\[K\[53;1H:\[?12l\[?25h"
send -- "b"
expect -exact "b\[?25l\[?12l\[?25h"
send -- "p"
expect -exact "p\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[9;5H\[1;3H\[1m\[33m1 \[m\[1m\[34m#!/usr/bin/expect\[m\[1;22H\[K\[2;3H\[1m\[33m2 \[m\[2;5H\[K\[3;4H\[1m\[33m \[m\[1m\[36m#exp_internal 1\[m\[4;4H\[1m\[33m \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\[4;35H\[K\[5;3H\[1m\[33m5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\[6;3H\[1m\[33m6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\[7;3H\[1m\[33m7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\[8;3H\[1m\[33m8 \[m\[8;5H\[K\[9;3H\[1m\[33m9 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[10;1H\[1m\[33m    \[m\"\[10;6H\[K\[11;2H\[1m\[33m10 expect\[m  {\[11;14H\[K\[12;2H\[1m\[33m11 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[12;64H\[K\[13;2H\[1m\[33m12 \[m    \"yes/no\" {\[13;19H\[K\[14;2H\[1m\[33m13 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[14;28H\[K\[15;2H\[1m\[33m14 \[m        \[1m\[33mexp_continue\[m\[15;25H\[K\[16;2H\[1m\[33m15 \[m    }\[16;11H\[K\[17;2H\[1m\[33m16 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[18;2H\[1m\[33m17 \[m    \"password:\" { \[18;23H\[K\[19;2H\[1m\[33m18 \[m        \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\"\[20;2H\[1m\[33m19 \[m    }\[20;10H\[K\[21;2H\[1m\[33m20 \[m}\[21;6H\[K\[22;2H\[1m\[33m21 expect\[m  {\[22;14H\[K\[23;2H\[1m\[33m22 \[m    \"yes/no\" {\[23;19H\[K\[24;2H\[1m\[33m23 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[25;2H\[1m\[33m24 \[m        \[1m\[33mexp_continue\[m\[25;26H\[K\[26;2H\[1m\[33m25 \[m    }\[26;11H\[K\[27;2H\[1m\[33m26 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[28;2H\[1m\[33m27 \[m}\[28;6H\[K\[29;1H\[1m\[34m~                                                                                       \[30;1H~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp\[54C9,1  \[10CAll\[m\[53;1H\"copy_ssh_key.exp\" 27 lines --33%--\[9;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[9;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[8;5H\[53;78H \[7;5H\[52;71H\[1m\[7m7,1   \[7;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[7;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[m\[53;78Hp\[8;5H\[53;78H \[9;5H\[6C\[1m\[31m\$env\[m(SHELL)\[9;22H\[K\[10;2H\[1m\[33m10 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[11;1H\[1m\[33m    \[m\"\[11;6H\[K\[12;5H\[1m\[33mexpect\[m  {\[12;14H\[K\[13;9H\[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[14;9H\"yes/no\" {\[14;19H\[K\[15;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[16;9H    \[1m\[33mexp_continue\[m\[17;9H}\[17;10H\[K\[18;9H\[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[19;9H\"password:\" { \[19;23H\[K\[20;9H    \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\"\[21;5H    }\[22;5H}\[22;6H\[K\[23;5H\[1m\[33mexpect\[m  {\[23;14H\[K\[24;9H\"yes/no\" {\[24;19H\[K\[25;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[26;9H    \[1m\[33mexp_continue\[m\[27;9H}\[27;10H\[K\[28;5H    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 28 \[m}\[29;6H\[K\[52;18H\[1m\[7m\[+\]\[50C9,1   \[9;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[9;5H\[53;78H \[10;5H\[52;71H\[1m\[7m10,1\[10;5H\[?12l\[?25h"
send -- "c"
expect -exact "\[?25l\[m\[53;78Hc\[10;5H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[53;78H \[10;5H\[?12l\[?25h\[?25l\[53;78Hci\[10;5H\[?12l\[?25h"
send -- "w"
expect -exact "\[?25l\[53;80Hw\[10;5H\[53;78H   \[10;5H\[53;1H\[1m-- INSERT --\[m\[53;13H\[K\[10;51r\[51;1H\r
\[1;53r\[10;2H\[1m\[33m10 \[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\[m\"\[51;1H\[1m\[34m~                                                                                       \[10;5H\[?12l\[?25h"
send -- "s"
expect -exact "\[?25l\[ms ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\[m\"\[52;74H\[1m\[7m2 \[10;6H\[?12l\[?25h"
send -- "e"
expect -exact "\[?25l\[me ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\[m\"\[52;74H\[1m\[7m3 \[10;7H\[?12l\[?25h"
send -- "n"
expect -exact "\[?25l\[mn ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\[m\"\[52;74H\[1m\[7m4 \[10;8H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[1m\[33msend\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\[m\"\[52;74H\[1m\[7m5 \[10;9H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[11;51r\[m\[11;1H\[L\[1;53r\[10;10H ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[11;1H\[1m\[33m    \[m\"\[52;74H\[1m\[7m6 \[10;10H\[?12l\[?25h"
send -- "-"
expect -exact "\[?25l\[m- ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$servee\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31mr\[m\"\[52;74H\[1m\[7m7 \[10;11H\[?12l\[?25h"
send -- "-"
expect -exact "\[?25l\[m- ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$servv\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31mer\[m\"\[52;74H\[1m\[7m8 \[10;12H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[10;12H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[10;12H \[53;1H\[K\[52;74H\[1m\[7m7 \[10;11H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;11H\[53;78H \[10;12H\[52;74H\[1m\[7m8 \[10;12H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;12H\[53;78H \[10;13H\[52;74H\[1m\[7m9 \[10;13H\[?12l\[?25h"
send -- "v"
expect -exact "\[?25l\[m\[53;78Hv\[10;13H\[53;78H1\[10;13H\[75C\[1m\[31mvv\[m\[11;1H\[1m\[33m \[m\[53;1H\[1m-- VISUAL --\[m\[53;78H\[K\[53;78H1\[10;13H\[?12l\[?25h"
send -- "\$"
expect -exact "\[?25l\[53;78H\$\[10;13H\[53;78H80\[11;8H\[10;13H\[7mssh -t \[m\[1m\[7m\[31m\$user_name\[m\[7m@\[m\[1m\[7m\[31m\$client\[m\[7m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[m\[1m\[7m\[31m\$user_name\[m\[7m@\[m\[1m\[7m\[31m\$servv\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[7m\[31mer\[m\[7m\"\[m\[52;74H\[1m\[7m88\[11;8H\[?12l\[?25h"
send -- "S"
expect -exact "\[?25l\[m\[53;78H  \[10;13H\[53;1H\[?12l\[?25h"
send -- "\""
expect -exact "\[?25l\[10;5H    \[1m\[33msend\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@@\[11;1H\[1m\[33m \[m\[3C\[1m\[31m\$server\[m\"\[12;5H    \"\[1m\[33mexpect\[m  {\[52;74H\[1m\[7m5  \[m\[53;1H\[K\[10;9H\[?12l\[?25h"
send -- "<"
expect -exact "\[?25l\[53;78H<\[10;9H\[?12l\[?25h"
send -- "<"
expect -exact "\[?25l\[53;79H<\[10;9H\[53;78H  \[10;5H\[1m\[33msend\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serr\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31mver\[m\"\[11;9H\[K\[52;74H\[1m\[7m1 \[10;5H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;5H\[53;78H \[10;6H\[52;74H\[1m\[7m2 \[10;6H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;6H\[53;78H \[10;7H\[52;74H\[1m\[7m3 \[10;7H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;7H\[53;78H \[10;8H\[52;74H\[1m\[7m4 \[10;8H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;8H\[53;78H \[10;9H\[52;74H\[1m\[7m5 \[10;9H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;9H\[53;78H \[10;10H\[52;74H\[1m\[7m6 \[10;10H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;10H\[53;78H \[10;11H\[52;74H\[1m\[7m7 \[10;11H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;11H\[53;78H \[10;12H\[52;74H\[1m\[7m8 \[10;12H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;12H\[53;78H \[10;13H\[52;74H\[1m\[7m9 \[10;13H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;13H\[53;78H \[10;14H\[52;74H\[1m\[7m10\[10;14H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;14H\[53;78H \[10;15H\[52;75H\[1m\[7m1 \[10;15H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;15H\[53;78H \[10;16H\[52;75H\[1m\[7m2 \[10;16H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;16H\[53;78H \[10;17H\[52;75H\[1m\[7m3 \[10;17H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;17H\[53;78H \[10;18H\[52;75H\[1m\[7m4 \[10;18H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;18H\[53;78H \[10;19H\[52;75H\[1m\[7m5 \[10;19H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;19H\[53;78H \[10;20H\[52;75H\[1m\[7m6 \[10;20H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;20H\[53;78H \[10;21H\[52;75H\[1m\[7m7 \[10;21H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;21H\[53;78H \[10;22H\[52;75H\[1m\[7m8 \[10;22H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;22H\[53;78H \[10;23H\[52;75H\[1m\[7m9 \[10;23H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;23H\[53;78H \[10;24H\[52;74H\[1m\[7m20 \[10;24H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;24H\[53;78H \[10;25H\[52;75H\[1m\[7m1 \[10;25H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;25H\[53;78H \[10;26H\[52;75H\[1m\[7m2 \[10;26H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;26H\[53;78H \[10;27H\[52;75H\[1m\[7m3 \[10;27H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;27H\[53;78H \[10;28H\[52;75H\[1m\[7m4 \[10;28H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;28H\[53;78H \[10;29H\[52;75H\[1m\[7m5 \[10;29H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;29H\[53;78H \[10;30H\[52;75H\[1m\[7m6 \[10;30H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;30H\[53;78H \[10;31H\[52;75H\[1m\[7m7 \[10;31H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;31H\[53;78H \[10;32H\[52;75H\[1m\[7m8 \[10;32H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;32H\[53;78H \[10;33H\[52;75H\[1m\[7m9 \[10;33H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;33H\[53;78H \[10;34H\[52;74H\[1m\[7m30 \[10;34H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;34H\[53;78H \[10;35H\[52;75H\[1m\[7m1 \[10;35H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;35H\[53;78H \[10;36H\[52;75H\[1m\[7m2 \[10;36H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;36H\[53;78H \[10;37H\[52;75H\[1m\[7m3 \[10;37H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;37H\[53;78H \[10;38H\[52;75H\[1m\[7m4 \[10;38H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;38H\[53;78H \[10;39H\[52;75H\[1m\[7m5 \[10;39H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;39H\[53;78H \[10;40H\[52;75H\[1m\[7m6 \[10;40H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;40H\[53;78H \[10;41H\[52;75H\[1m\[7m7 \[10;41H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;41H\[53;78H \[10;42H\[52;75H\[1m\[7m8 \[10;42H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;42H\[53;78H \[10;43H\[52;75H\[1m\[7m9 \[10;43H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[10;43H\[53;78H \[10;42H\[52;75H\[1m\[7m8 \[10;42H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[10;42H\[53;78H \[10;41H\[52;75H\[1m\[7m7 \[10;41H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[10;41H\[53;78H \[10;40H\[52;75H\[1m\[7m6 \[10;40H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[m\[53;78Hi\[10;40H\[53;78H \[10;40H\[53;1H\[1m-- INSERT --\[10;40H\[?12l\[?25h"
send -- "\\"
expect -exact "\[?25l\[m\[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31mrver\[m\"\[12;10Hexpect \[13;9H# first connection, no public key in ~/.ssh/known_hosts\[15;13Hsend \[7C\\r\"\[16;13Hexp_continue\[18;9H# already has public key in ~/.ssh/known_hosts\[20;13Hsend \[13C\\r\"\[23;5Hexpect \[25;13Hsend \[7C\\r\"\[26;13Hexp_continue\[28;23Hsend \[13C\\r\"\[52;75H\[1m\[7m7 \[10;41H\[?12l\[?25h"
send -- "j"
expect -exact "\[mjs\[?25l\[53;78Hj\[10;41H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[10;41H\[1m\[31m\"\[m\[53;1H\[K\[52;75H\[1m\[7m6 \[10;40H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;40H\[53;78H \[10;41H\[52;75H\[1m\[7m7 \[10;41H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;41H\[53;78H \[10;42H\[52;75H\[1m\[7m8 \[10;42H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;42H\[53;78H \[10;43H\[52;75H\[1m\[7m9 \[10;43H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;43H\[53;78H \[10;44H\[52;74H\[1m\[7m40 \[10;44H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;44H\[53;78H \[10;45H\[52;75H\[1m\[7m1 \[10;45H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;45H\[53;78H \[10;46H\[52;75H\[1m\[7m2 \[10;46H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;46H\[53;78H \[10;47H\[52;75H\[1m\[7m3 \[10;47H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;47H\[53;78H \[10;48H\[52;75H\[1m\[7m4 \[10;48H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;48H\[53;78H \[10;49H\[52;75H\[1m\[7m5 \[10;49H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;49H\[53;78H \[10;50H\[52;75H\[1m\[7m6 \[10;50H\[?12l\[?25h"
send -- "A"
expect -exact "\[?25l\[m\[53;78HA\[10;50H\[53;78H \[11;10H\[53;1H\[1m-- INSERT --\[m\[52;74H\[1m\[7m90 \[11;10H\[?12l\[?25h"
send -- ""
expect -exact "\[?25l\[m\[1m\[31mexpect\[m  {\[12;9H# first connection, no public key in ~/.ssh/known_hosts\[13;9H\"yes/no\" {\[13;19H\[K\[14;9H    send -- \"yes\\r\"\[15;13Hexp_continue\[15;25H\[K\[16;9H}\[16;13H\[K\[17;9H# already has public key in ~/.ssh/known_hosts\[18;9H\"password:\" {\[18;23H\[K\[19;9H    send -- \"\[1m\[31m\$password\[m\\r\"\[20;9H}\[20;13H\[K\[21;5H}\[21;9H\[K\[22;5Hexpect  {\[23;5H    \"yes/no\" {\[24;9H    send -- \"yes\\r\"\[25;13Hexp_continue\[25;25H\[K\[26;9H}\[26;13H\[K\[27;9H\"password:\" { send -- \"\[1m\[31m\$password\[m\\r\" }\[28;5H}\[28;9H\[K\[29;1H\[1m\[34m~                                                                                       \[m\[52;74H\[1m\[7m89 \[11;9H\[?12l\[?25h"
send -- "\\"
expect -exact "\[?25l\[m\[1m\[31m\\e\[mxpect  {\[52;74H\[1m\[7m90 \[11;10H\[?12l\[?25h"
send -- "\""
expect -exact "\[?25l\[m\[1m\[31m\"\[mexpect  {\[52;75H\[1m\[7m1 \[11;11H\[?12l\[?25h"
send -- "\""
expect -exact "\[?25l\[m\"\[1m\[33mexpect\[m  {\[12;9H\[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[14;13H\[1m\[33msend\[m\[8C\[1m\[31m\\r\[m\[15;13H\[1m\[33mexp_continue\[m\[17;9H\[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[19;13H\[1m\[33msend\[m\[14C\[1m\[31m\\r\[m\[22;5H\[1m\[33mexpect\[24;13Hsend\[m\[8C\[1m\[31m\\r\[m\[25;13H\[1m\[33mexp_continue\[27;23Hsend\[m\[14C\[1m\[31m\\r\[m\[52;75H\[1m\[7m2 \[11;12H\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[m\[11;12H\[K\[12;5H\[1m\[33mexpect\[m  {\[12;14H\[K\[13;9H\[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[14;9H\"yes/no\" {\[14;19H\[K\[15;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[16;9H    \[1m\[33mexp_continue\[m\[17;9H}\[17;10H\[K\[18;9H\[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[19;9H\"password:\" { \[19;23H\[K\[20;9H    \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\"\[21;5H    }\[22;5H}\[22;6H\[K\[23;5H\[1m\[33mexpect\[m  {\[23;14H\[K\[24;9H\"yes/no\" {\[24;19H\[K\[25;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[26;9H    \[1m\[33mexp_continue\[m\[27;9H}\[27;10H\[K\[28;5H    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 28 \[m}\[29;6H\[K\[52;72H\[1m\[7m1,1  \[12;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[1m\[33mx\[?25l\[m\[53;78Hj\[12;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[12;5H\[1m\[33me\[m\[53;1H\[K\[12;5H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[53;78H:\[12;5H\[53;78H\[K\[53;1H:\[?12l\[?25h"
send -- "b"
expect -exact "b\[?25l\[?12l\[?25h"
send -- "n"
expect -exact "n\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[?1002l\r
\[1m\[32mW11: Warning: File \"script.exp\" has changed since editing started\[m\r\r
\[1m\[32mSee \":help W11\" for more info.\[m\r\r
\[1m\[32m\[O\]K, (L)oad File: \[?12l\[?25h"
send -- "\r"
expect -exact "\[?1002h\[m\[53;1H\[K\[?25l\[26;6H\[1;1H\[3L\[1;1H\[1m\[33m  21 \[m\[14C;\[1m\[36m# script wasn't run conservatively originally\[m\r
\[1m\[33m  22 \[mif {\[1m\[31m\$force_conservative\[m} {\r
\[1m\[33m  23 \[m    set send_slow {1 .1}\[4;3H\[1m\[33m24 \[m    proc \[1m\[33msend\[m {ignore arg} {\[4;34H\[K\[5;3H\[1m\[33m25 \[m        \[1m\[33msleep\[m .1\[5;22H\[K\[6;3H\[1m\[33m26 \[m        exp_send -s -- \[1m\[31m\$arg\[m\[7;3H\[1m\[33m27 \[m    }\[7;11H\[K\[8;3H\[1m\[33m28 \[m}\[9;3H\[1m\[33m29 \[m\[9;6H\[K\[10;2H\[1m\[33m 30 \[m\[1m\[36m#\[m\[10;7H\[K\[11;3H\[1m\[33m31 \[m\[1m\[36m# 2) differing output - Some programs produce different output each time\[m\[12;2H\[1m\[33m 32 \[m\[1m\[36m# they run.  The \"date\" command is an obvious example.  Another is\[m\[13;2H\[1m\[33m 33 \[m\[1m\[36m# ftp, if it produces throughput statistics at the end of a file\[m\[14;2H\[1m\[33m 34 \[m\[1m\[36m# transfer.  If this causes a problem, delete these patterns or replace\[m\[15;2H\[1m\[33m 35 \[m\[1m\[36m# them with wildcards.  An alternative is to use the -p flag (for\[m\[16;2H\[1m\[33m 36 \[m\[1m\[36m# \"prompt\") which makes Expect only look for the last line of output\[m\[17;2H\[1m\[33m 37 \[m\[1m\[36m# (i.e., the prompt).  The -P flag allows you to define a character to\[m\[18;2H\[1m\[33m 38 \[m\[1m\[36m# toggle this mode off and on.\[m\[18;36H\[K\[19;2H\[1m\[33m 39 \[m\[1m\[36m#\[m\[19;9H\[K\[20;2H\[1m\[33m 40 \[m\[1m\[36m# Read the man page for more info.\[m\[21;2H\[1m\[33m 41 \[m\[1m\[36m#\[m\[21;9H\[K\[22;2H\[1m\[33m 42 \[m\[1m\[36m# -Don\[m\[23;2H\[1m\[33m 43 \[m\[23;6H\[K\[24;2H\[1m\[33m 44 \[m\[24;9H\[K\[25;2H\[1m\[33m 45 \[mset timeout -1\[25;21H\[K\[26;2H\[1m\[33m 46 spawn\[m \[1m\[31m\$env\[m(SHELL)\[26;23H\[K\[27;2H\[1m\[33m 47 match_max\[m 100000\[28;2H\[1m\[33m 48 expect\[m -exact \"\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G^\[\[m\[1m\[31m\\\[\[m??\[29;1H\[1m\[33m     \[m1034h\[1m\[31m\\\[\[mroot@hadoop-slave2 tools\[1m\[31m\\\]\[m# \"\r
\[1m\[33m  49 send\[m -- \"ssh hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-keygen\[1m\[31m\\\"\[m\"\[30;56H\[K\[31;1H\[1m\[33m  50 expect\[m -exact \"ssh hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-keygen\[1m\[31m\\\"\[m\"\[31;62H\[K\[32;1H\[1m\[33m  51 send\[m -- \"\[1m\[31m\\r\[m\"\[32;18H\[K\[33;1H\[1m\[33m  52 expect\[m -exact \"\[1m\[31m\\r\[m\[33;23H\[K\[34;1H\[1m\[33m  53 \[mhadoop@133.133.131.18's password: \"\[34;41H\[K\[35;1H\[1m\[33m  54 send\[m -- \"o\[1m\[34m^H\[monceonceas\[1m\[31m\\r\[m\"\[35;31H\[K\[36;1H\[1m\[33m  55 expect\[m -exact \"\[1m\[31m\\r\[m\[36;23H\[K\[37;1H\[1m\[33m  56 \[mPermission denied, please try again.\[1m\[31m\\r\\r\[m\[37;46H\[K\[38;1H\[1m\[33m  57 \[mhadoop@133.133.131.18's password: \"\[38;41H\[K\[39;1H\[1m\[33m  58 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[39;24H\[K\[40;1H\[1m\[33m  59 expect\[m -exact \"\[1m\[31m\\r\[m\[40;23H\[K\[41;1H\[1m\[33m  60 \[mEnter file in which to save the key (/home/hadoop/.ssh/id_rsa): \"\[41;71H\[K\[42;1H\[1m\[33m  61 send\[m -- \"\[1m\[31m\\r\[m\"\[42;18H\[K\[43;1H\[1m\[33m  62 expect\[m -exact \"\[1m\[31m\\r\[m\[43;23H\[K\[44;1H\[1m\[33m  63 \[mEnter passphrase (empty for no passphrase): \"\[44;51H\[K\[45;1H\[1m\[33m  64 send\[m -- \"\[1m\[31m\\r\[m\"\[45;18H\[K\[46;1H\[1m\[33m  65 expect\[m -exact \"\[1m\[31m\\r\[m\[46;23H\[K\[47;1H\[1m\[33m  66 \[mEnter same passphrase again: \"\[47;36H\[K\[48;1H\[1m\[33m  67 send\[m -- \"\[1m\[31m\\r\[m\"\[48;18H\[K\[49;1H\[1m\[33m  68 expect\[m -exact \"\[1m\[31m\\r\[m\[49;23H\[K\[50;1H\[1m\[33m  69 \[mGenerating public/private rsa key pair.\[1m\[31m\\r\[m\[50;47H\[K\[51;1H\[1m\[33m  70 \[mCreated directory '/home/hadoop/.ssh'.\[1m\[31m\\r\[m\[51;46H\[K\[52;1H\[1m\[7mscript.expe           \[49C46,\[12C 0%\[m\[53;1H\[K\[53;1H\"script.exp\" 3893 lines --1%--\[26;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[26;6H\[53;78H \[27;6H\[52;72H\[1m\[7m7,\[27;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[27;6H\[53;78H \[28;6H\[52;72H\[1m\[7m8,\[28;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[28;6H\[53;78H \[30;6H\[52;72H\[1m\[7m9,\[30;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[30;6H\[53;78H \[31;6H\[52;71H\[1m\[7m50,\[31;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[31;6H\[53;78H \[32;6H\[52;72H\[1m\[7m1,\[32;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[32;6H\[53;78H \[33;6H\[52;72H\[1m\[7m2,\[33;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[33;6H\[53;78H \[34;6H\[52;72H\[1m\[7m3,\[34;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[34;6H\[53;78H \[35;6H\[52;72H\[1m\[7m4,\[35;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[35;6H\[53;78H \[36;6H\[52;72H\[1m\[7m5,\[36;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[36;6H\[53;78H \[37;6H\[52;72H\[1m\[7m6,\[37;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[37;6H\[53;78H \[38;6H\[52;72H\[1m\[7m7,\[38;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[38;6H\[53;78H \[39;6H\[52;72H\[1m\[7m8,\[39;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[39;6H\[53;78H \[40;6H\[52;72H\[1m\[7m9,\[40;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[40;6H\[53;78H \[41;6H\[52;71H\[1m\[7m60,\[41;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[41;6H\[53;78H \[42;6H\[52;72H\[1m\[7m1,\[42;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[42;6H\[53;78H \[43;6H\[52;72H\[1m\[7m2,\[43;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[43;6H\[53;78H \[44;6H\[52;72H\[1m\[7m3,\[44;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[44;6H\[53;78H \[45;6H\[52;72H\[1m\[7m4,\[45;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[45;6H\[53;78H \[46;6H\[52;72H\[1m\[7m5,\[46;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[46;6H\[53;78H \[47;6H\[52;72H\[1m\[7m6,\[47;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[47;6H\[53;78H \[48;6H\[52;72H\[1m\[7m7,\[48;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[48;6H\[53;78H \[49;6H\[52;72H\[1m\[7m8,\[49;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[49;6H\[53;78H \[50;6H\[52;72H\[1m\[7m9,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[51;6H\[52;71H\[1m\[7m70,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  71 \[mYour identification has been saved in /home/hadoop/.ssh/id_rsa.\[1m\[31m\\r\[m\[53;1H\[K\[52;72H\[1m\[7m1,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  72 \[mYour public key has been saved in /home/hadoop/.ssh/id_rsa.pub.\[1m\[31m\\r\[m\[52;72H\[1m\[7m2,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  73 \[mThe key fingerprint is:\[1m\[31m\\r\[m\[52;72H\[1m\[7m3,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  74 \[m72:e2:be:03:fa:a2:4b:14:a2:ca:ce:a2:e2:ac:98:98 hadoop@hadoop-slave3\[1m\[31m\\r\[m\[52;72H\[1m\[7m4,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  75 \[mThe key's randomart image is:\[1m\[31m\\r\[m\[52;72H\[1m\[7m5,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  76 \[m+--\[1m\[31m\\\[\[m RSA 2048\[1m\[31m\\\]\[m----+\[1m\[31m\\r\[m\[52;72H\[1m\[7m6,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  77 \[m|\[17C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m7,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  78 \[m|\[17C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m8,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  79 \[m|..\[15C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m9,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  80 \[m|o .\[14C|\[1m\[31m\\r\[m\[52;71H\[1m\[7m80,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  81 \[m|..    o S\[8C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m1,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  82 \[m|+   .. +\[9C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m2,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  83 \[m|.o . ..\[10C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m3,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  84 \[m|Xoo  ..\[10C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m4,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  85 \[m|EB o. oo\[9C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m5,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  86 \[m+-----------------+\[1m\[31m\\r\[m\[52;72H\[1m\[7m6,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m  87 \[m\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\[1m\[31m\\\[\[mroot@hadoop-slave22\[51;1H\[1m\[33m     \[m tools\[1m\[31m\\\]\[m# \"\[52;72H\[1m\[7m7,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m  88 send\[m -- \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@1333\[51;1H\[1m\[33m     \[m.133.135.34\[1m\[31m\\\"\[m\"\[52;72H\[1m\[7m8,\[13C1%\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m  89 expect\[m -exact \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.p \[1m\[31m\\r\[mub hh\[51;1H\[1m\[33m     \[madoop@133.133.135.34\[1m\[31m\\\"\[m\"\[52;72H\[1m\[7m9,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  90 send\[m -- \"\[1m\[31m\\r\[m\"\[52;71H\[1m\[7m90,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  91 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m1,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  92 \[mhadoop@133.133.131.18's password: \"\[52;72H\[1m\[7m2,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  93 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m3,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  94 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m4,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m  95 \[mThe authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\[1m\[31m\\r\[m\r
\[1m\[33m  96 \[mECDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\[1m\[31m\\r\[m\[52;72H\[1m\[7m5,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[51;6H\[52;72H\[1m\[7m6,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  97 \[mAre you sure you want to continue connecting (yes/no)? \"\[52;72H\[1m\[7m7,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  98 send\[m -- \"yes\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m8,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  99 expect\[m -exact \"yes\[1m\[31m\\r\[m\[52;72H\[1m\[7m9,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m 100 \[m/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter outt\[51;1H\[1m\[33m     \[m any that are already installed\[1m\[31m\\r\[m\[52;71H\[1m\[7m100,1\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m 101 \[m/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted  \[51;1H\[1m\[33m     \[mnow it is to install the new keys\[1m\[31m\\r\[m\[52;73H\[1m\[7m1,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 102 \[mhadoop@133.133.135.34's password: \"\[52;73H\[1m\[7m2,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 103 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[52;73H\[1m\[7m3,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 104 expect\[m -exact \"\[1m\[31m\\r\[m\[52;73H\[1m\[7m4,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 105 \[m\[1m\[31m\\r\[m\[52;73H\[1m\[7m5,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 106 \[mNumber of key(s) added: 1\[1m\[31m\\r\[m\[52;73H\[1m\[7m6,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 107 \[m\[1m\[31m\\r\[m\[52;73H\[1m\[7m7,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 108 \[mNow try logging into the machine, with:   \[1m\[31m\\\"\[mssh 'hadoop@133.133.135.34'\[1m\[31m\\\"\\r\[m\[52;73H\[1m\[7m8,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 109 \[mand check to make sure that only the key(s) you wanted were added.\[1m\[31m\\r\[m\[52;73H\[1m\[7m9,\[51;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[51;6H\[53;78H \[50;6H\[52;73H\[1m\[7m8,\[50;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[50;6H\[53;78H \[49;6H\[52;73H\[1m\[7m7,\[49;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[49;6H\[53;78H \[48;6H\[52;73H\[1m\[7m6,\[48;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[48;6H\[53;78H \[47;6H\[52;73H\[1m\[7m5,\[47;6H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[47;6H\[53;78H\[K\[53;1H:\[?12l\[?25h"
send -- "b"
expect -exact "b\[?25l\[?12l\[?25h"
send -- "p"
expect -exact "p\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[12;5H\[1;3H\[1m\[33m1 \[m\[1m\[34m#!/usr/bin/expect\[m\[2;3H\[1m\[33m2 \[m\[2;5H\[K\[3;3H\[1m\[33m3 \[m\[1m\[36m#exp_internal 1\[m\[3;20H\[K\[4;3H\[1m\[33m4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\[5;3H\[1m\[33m5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\[6;4H\[1m\[33m \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\[6;32H\[K\[7;4H\[1m\[33m \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\[7;32H\[K\[8;3H\[1m\[33m8 \[m\[8;5H\[K\[9;3H\[1m\[33m9 spawn\[m \[1m\[31m\$env\[m(SHELL)\[9;22H\[K\[10;2H\[1m\[33m10 send\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[11;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\[11;12H\[K\[12;2H\[1m\[33m11 expect\[m  {\[12;14H\[K\[13;2H\[1m\[33m12 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[14;2H\[1m\[33m13 \[m    \"yes/no\" {\[14;24H\[K\[15;2H\[1m\[33m14 \[m        \[1m\[33msend\[m -- \"yes\[2C\"\[16;2H\[1m\[33m15 \[m        \[1m\[33mexp_continue\[m\[16;25H\[K\[17;2H\[1m\[33m16 \[m    }\[17;24H\[K\[18;2H\[1m\[33m17 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[19;2H\[1m\[33m18 \[m    \"password:\" {\[19;24H\[K\[20;2H\[1m\[33m19 \[m        \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\"\[21;2H\[1m\[33m20 \[m    }\[21;12H\[K\[22;2H\[1m\[33m21 \[m}\[22;6H\[K\[23;2H\[1m\[33m22 expect\[m  {\[23;14H\[K\[24;2H\[1m\[33m23 \[m    \"yes/no\" {\[24;19H\[K\[25;2H\[1m\[33m24 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[26;2H\[1m\[33m25 \[m        \[1m\[33mexp_continue\[m\[26;25H\[K\[27;2H\[1m\[33m26 \[m    }\[27;10H\[K\[28;2H\[1m\[33m27 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[28;46H\[K\[29;2H\[1m\[33m28 \[m}\[29;6H\[K\[30;1H\[1m\[34m~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp \[+\]\[51C1,1  \[9CAll\[m\[53;1H\"copy_ssh_key.exp\" \[Modified\] 28 lines --39%--\[12;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[12;5H\[53;78H \[13;5H\[52;72H\[1m\[7m2,\[13;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[13;5H\[53;78H \[14;5H\[52;72H\[1m\[7m3,\[14;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[14;5H\[53;78H \[13;5H\[52;72H\[1m\[7m2,\[13;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[13;5H\[53;78H \[12;5H\[52;72H\[1m\[7m1,\[12;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[12;5H\[53;78H \[10;5H\[52;72H\[1m\[7m0,\[10;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[10;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,1  \[9;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[9;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[8;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 28L, 628C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\r"
expect -exact "\r
expect version 5.45\r\r
argv\[0\] = expect  argv\[1\] = -d  argv\[2\] = ./copy_ssh_key.exp  argv\[3\] = hadoop  argv\[4\] = onceas  argv\[5\] = 133.133.131.18  argv\[6\] = 133.133.135.34  \r\r
set argc 4\r\r
set argv0 \"./copy_ssh_key.exp\"\r\r
set argv \"hadoop onceas 133.133.131.18 133.133.135.34\"\r\r
executing commands from command file ./copy_ssh_key.exp\r\r
spawn /bin/bash\r\r\r
parent: waiting for sync byte\r\r
parent: telling child to go ahead\r\r
parent: now unsynchronized from child\r\r
spawn: returns {27305}\r\r
send: sending \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\" to { exp7 }\r\r
\r\r
expect: does \"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
\[?1034h\[root@hadoop-slave2 tools\]# ss\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ss\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
h -t hadoo\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoo\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
p@133.1\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.1\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
33.13\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.13\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
1.18 \r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
\"ss\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ss\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
h-c\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-c\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
opy-id\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
 -i ~\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
/.ssh\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
/id_r\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_r\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
sa.p \ru\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.p \\ru\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
b hadoop@133\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.p \\rub hadoop@133\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
.133.1\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.p \\rub hadoop@133.133.1\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
35.3\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.p \\rub hadoop@133.133.135.3\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
4\"\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.p \\rub hadoop@133.133.135.34\"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
expect: timed out\r\r
\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.p \\rub hadoop@133.133.135.34\"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
"
send -- ""
expect -exact "^Csighandler: handling signal(2)\r\r
async event handler: Tcl_Eval(exit 130)\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 28L, 628C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 spawn\[m \[1m\[31m\$env\[m(SHELL)\r
\[1m\[33m 10 send\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[11;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\r
\[1m\[33m 11 expect\[m  {\r
\[1m\[33m 12 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 13 \[m    \"yes/no\" {\r
\[1m\[33m 14 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 15 \[8Cexp_continue\r
 16 \[m    }\r
\[1m\[33m 17 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 18 \[m    \"password:\" {\r
\[1m\[33m 19 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 20 \[m    }\r
\[1m\[33m 21 \[m}\r
\[1m\[33m 22 expect\[m  {\r
\[1m\[33m 23 \[m    \"yes/no\" {\r
\[1m\[33m 24 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 25 \[8Cexp_continue\r
 26 \[m    }\r
\[1m\[33m 27 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 28 \[m}\r
\[1m\[34m~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      8,0-1          All\[8;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[8;5H\[53;80H\[\[8;5H\[53;81H>\[8;5H\[?12l\[?25h\[?25l\[53;78H    \[8;5H\[53;78H^\[\[8;5H\[53;80H\[\[8;5H\[53;81H>\[8;5H\[53;82H0\[8;5H\[53;83H;\[8;5H\[?12l\[?25h\[?25l\[53;78H      \[8;5H\[53;78H^\[\[8;5H\[53;80H\[\[8;5H\[53;81H>\[8;5H\[53;82H0\[8;5H\[53;83H;\[8;5H\[53;84H1\[8;5H\[?12l\[?25h\[?25l\[53;78H       \[8;5H\[53;78H^\[\[8;5H\[53;80H\[\[8;5H\[53;81H>\[8;5H\[53;82H0\[8;5H\[53;83H;\[8;5H\[53;84H1\[8;5H\[53;85H3\[8;5H\[53;86H6\[8;5H\[?12l\[?25h\[?25l\[53;78H         \[8;5H\[53;78H^\[\[8;5H\[53;80H\[\[8;5H\[53;81H>\[8;5H\[53;82H0\[8;5H\[53;83H;\[8;5H\[53;84H1\[8;5H\[53;85H3\[8;5H\[53;86H6\[8;5H\[53;87H;\[8;5H\[?12l\[?25h\[?25l\[53;78H          \[8;5H\[53;78H^\[\[8;5H\[53;80H\[\[8;5H\[53;81H>\[8;5H\[53;82H0\[8;5H\[53;83H;\[8;5H\[53;84H1\[8;5H\[53;85H3\[8;5H\[53;86H6\[8;5H\[53;87H;\[8;5H\[53;78H\[\[>0;136;0\[8;5H\[?12l\[?25h\[?25l\[53;78H          \[8;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[53;78H:\[8;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "e"
expect -exact "e\[?25l\[?12l\[?25h"
send -- " "
expect -exact "\[?25l \[?12l\[?25h"
send -- "s"
expect -exact "s\[?25l\[?12l\[?25h"
send -- "c"
expect -exact "c\[?25l\[?12l\[?25h"
send -- "	"
expect -exact "...\[?25lript.exp\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\"script.exp\" \[noeol\] 4585L, 413696C\[1;3H\[1m\[33m86 \[m+-----------------+\\r\[2;3H\[1m\[33m87 \[m\[1m\[34m^\[\[m\\\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\\\[root@hadoop-slave22\[3;1H\[1m\[33m     \[m tools\\\]\[1m\[36m# \"\[m\[3;17H\[K\[4;3H\[1m\[33m88 send\[m -- \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@1333\[5;1H\[1m\[33m     \[m.133.135.34\[1m\[31m\\\"\[m\"\[5;20H\[K\[6;3H\[1m\[33m89 expect\[m -exact \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.p \[1m\[31m\\r\[mub hh\[7;1H\[1m\[33m     \[madoop@133.133.135.34\[1m\[31m\\\"\[m\"\[7;30H\[K\[8;3H\[1m\[33m90 send\[m -- \"\[1m\[31m\\r\[m\"\[9;4H\[1m\[33m1 expect\[m -exact \"\[1m\[31m\\r\[m\[10;2H\[1m\[33m 92 \[mhadoop@133.133.131.18's password: \"\[10;41H\[K\[11;3H\[1m\[33m93 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[12;2H\[1m\[33m 94 expect\[m -exact \"\[1m\[31m\\r\[m\[13;2H\[1m\[33m 95 \[mThe authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\[1m\[31m\\r\[m\[14;2H\[1m\[33m 96 \[mECDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\[1m\[31m\\r\[m\[15;2H\[1m\[33m 97 \[mAre you sure you want to continue connecting (yes/no)? \"\[16;2H\[1m\[33m 98 send\[m -- \"yes\[1m\[31m\\r\[m\"\[16;21H\[K\[17;2H\[1m\[33m 99 expect\[m -exact \"yes\[1m\[31m\\r\[m\[18;3H\[1m\[33m00 \[m/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter outt\[19;1H\[1m\[33m     \[m any that are already installed\[1m\[31m\\r\[m\[20;3H\[1m\[33m01 \[m/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted  \[21;1H\[1m\[33m     \[mnow it is to install the new keys\[1m\[31m\\r\[m\[22;2H\[1m\[33m102 \[mhadoop@133.133.135.34's password: \"\[23;2H\[1m\[33m103 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[24;2H\[1m\[33m104 expect\[m -exact \"\[1m\[31m\\r\[m\[25;2H\[1m\[33m105 \[m\[1m\[31m\\r\[m\[25;13H\[K\[26;2H\[1m\[33m106 \[mNumber of key(s) added: 1\[1m\[31m\\r\[m\[27;2H\[1m\[33m107 \[m\[1m\[31m\\r\[m\[27;9H\[K\[28;2H\[1m\[33m108 \[mNow try logging into the machine, with:   \[1m\[31m\\\"\[mssh 'hadoop@133.133.135.34'\[1m\[31m\\\"\\r\[m\[29;2H\[1m\[33m109 \[mand check to make sure that only the key(s) you wanted were added.\[1m\[31m\\r\[m\r
\[1m\[33m 110 \[m\[1m\[31m\\r\[m\[30;8H\[K\[31;1H\[1m\[33m 111 \[mConnection to 133.133.131.18 closed.\[1m\[31m\\r\\r\[m\[31;46H\[K\[32;1H\[1m\[33m 112 \[m\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\[1m\[31m\\\[\[mroot@hadoop-slave22\[33;1H\[1m\[33m     \[m tools\[1m\[31m\\\]\[m# \"\[33;17H\[K\[34;1H\[1m\[33m 113 send\[m -- \"ls\[1m\[31m\\r\[m\"\[34;20H\[K\[35;1H\[1m\[33m 114 expect\[m -exact \"ls\[1m\[31m\\r\[m\[35;25H\[K\[36;1H\[1m\[33m 115 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32madd_user.exp\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                      \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mjava_installer.shh\[37;1H\[1m\[33m     \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[37;14H\[K\[38;1H\[1m\[33m 116 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32madd_user.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                       \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mlogin.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[38;82H\[K\[39;1H\[1m\[33m 117 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mcenter_displayer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m               \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mlogout.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[39;83H\[K\[40;1H\[1m\[33m 118 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mcgroup_configurer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m              \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mnetwork_checker.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m00\[41;1H\[1m\[33m     \[mm\[1m\[31m\\r\[m\[41;9H\[K\[42;1H\[1m\[33m 119 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mclear_walls.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                    \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mpackage_installed_checkk\[43;1H\[1m\[33m     \[mer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[43;19H\[K\[44;1H\[1m\[33m 120 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mcopy_ssh_key.exp\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                  \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mpwd_free_ssh_generator..\[45;1H\[1m\[33m     \[mexp\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[45;17H\[K\[46;1H\[1m\[33m 121 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mdistance_checker.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m               \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mremote_directory_checkee\[47;1H\[1m\[33m     \[mr.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[47;18H\[K\[48;1H\[1m\[33m 122 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mgit_initilizer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                 \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mroot_checker.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[49;1H\[1m\[33m 123 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mhadoop_installer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m               \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mscript.exp\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[49;84H\[K\[50;1H\[1m\[33m 124 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mhadoop_remote_configurer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m       \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mssh_login_pwd_freer.expp\[51;1H\[1m\[33m     \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[51;14H\[K\[52;1H\[1m\[7mscript.expe       \[53C105,1\[10C 1%\[25;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[25;6H\[53;78H \[24;6H\[52;73H\[1m\[7m4,\[24;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[24;6H\[53;78H \[23;6H\[52;73H\[1m\[7m3,\[23;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[23;6H\[53;78H \[22;6H\[52;73H\[1m\[7m2,\[22;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[22;6H\[53;78H \[20;6H\[52;73H\[1m\[7m1,\[20;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[20;6H\[53;78H \[18;6H\[52;73H\[1m\[7m0,\[18;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[18;6H\[53;78H \[17;6H\[52;71H\[1m\[7m99,1  \[17;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[17;6H\[53;78H \[16;6H\[52;72H\[1m\[7m8,\[16;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[16;6H\[53;78H \[15;6H\[52;72H\[1m\[7m7,\[15;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[15;6H\[53;78H \[14;6H\[52;72H\[1m\[7m6,\[14;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[14;6H\[53;78H \[13;6H\[52;72H\[1m\[7m5,\[13;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[13;6H\[53;78H \[12;6H\[52;72H\[1m\[7m4,\[12;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[12;6H\[53;78H \[11;6H\[52;72H\[1m\[7m3,\[11;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[11;6H\[53;78H \[10;6H\[52;72H\[1m\[7m2,\[10;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[10;6H\[53;78H \[9;6H\[52;72H\[1m\[7m1,\[9;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[9;6H\[53;78H \[8;6H\[52;72H\[1m\[7m0,\[8;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[8;6H\[53;78H \[6;6H\[52;71H\[1m\[7m89,\[6;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[6;6H\[53;78H \[4;6H\[52;72H\[1m\[7m8,\[4;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[4;6H\[53;78H \[2;6H\[52;72H\[1m\[7m7,\[2;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[2;6H\[53;78H \[1;6H\[52;72H\[1m\[7m6,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  85 \[m|EB o. oo\[9C|\\r\[51;1H\[1m\[34m@                                                                                       \[m\[53;1H\[K\[52;72H\[1m\[7m5,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  84 \[m|Xoo  ..\[10C|\\r\[52;72H\[1m\[7m4,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  83 \[m|.o . ..\[10C|\\r\[52;72H\[1m\[7m3,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  82 \[m|+   .. +\[9C|\\r\[52;72H\[1m\[7m2,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  81 \[m|..    o S\[8C|\\r\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m1,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  80 \[m|o .\[14C|\\r\[52;72H\[1m\[7m0,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  79 \[m|..\[15C|\\r\[51;1H\[1m\[34m@                                                                                       \[m\[52;71H\[1m\[7m79,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  78 \[m|\[17C|\\r\[52;72H\[1m\[7m8,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  77 \[m|\[17C|\\r\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m7,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  76 \[m+--\\\[ RSA 2048\\\]----+\\r\[52;72H\[1m\[7m6,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  75 \[mThe key's randomart image is:\\r\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m5,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  74 \[m72:e2:be:03:fa:a2:4b:14:a2:ca:ce:a2:e2:ac:98:98 hadoop@hadoop-slave3\\r\[52;72H\[1m\[7m4,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  73 \[mThe key fingerprint is:\\r\[52;72H\[1m\[7m3,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  72 \[mYour public key has been saved in /home/hadoop/.ssh/id_rsa.pub.\\r\[52;72H\[1m\[7m2,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  71 \[mYour identification has been saved in /home/hadoop/.ssh/id_rsa.\\r\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m1,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  70 \[mCreated directory '/home/hadoop/.ssh'.\\r\[52;72H\[1m\[7m0,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  69 \[mGenerating public/private rsa key pair.\\r\[52;71H\[1m\[7m69,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  68 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m8,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  67 send\[m -- \"\[1m\[31m\\r\[m\"\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m7,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  66 \[mEnter same passphrase again: \"\[52;72H\[1m\[7m6,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  65 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m5,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  64 send\[m -- \"\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m4,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  63 \[mEnter passphrase (empty for no passphrase): \"\[52;72H\[1m\[7m3,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  62 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m2,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  61 send\[m -- \"\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m1,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  60 \[mEnter file in which to save the key (/home/hadoop/.ssh/id_rsa): \"\[52;72H\[1m\[7m0,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  59 expect\[m -exact \"\[1m\[31m\\r\[m\[52;71H\[1m\[7m59,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  58 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m8,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  57 \[mhadoop@133.133.131.18's password: \"\[52;72H\[1m\[7m7,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  56 \[mPermission denied, please try again.\\r\\r\[52;72H\[1m\[7m6,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  55 expect\[m -exact \"\[1m\[31m\\r\[m\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m5,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  54 send\[m -- \"o\[1m\[34m^H\[monceonceas\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m4,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  53 \[mhadoop@133.133.131.18's password: \"\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m3,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  52 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m2,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  51 send\[m -- \"\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m1,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  50 expect\[m -exact \"ssh hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-keygen\[1m\[31m\\\"\[m\"\[52;72H\[1m\[7m0,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  49 send\[m -- \"ssh hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-keygen\[1m\[31m\\\"\[m\"\[52;71H\[1m\[7m49,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[2L\[1;53r\[1;1H\[1m\[33m  48 expect\[m -exact \"\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G^\[\[m\[1m\[31m\\\[\[m??\[2;1H\[1m\[33m     \[m1034h\[1m\[31m\\\[\[mroot@hadoop-slave2 tools\[1m\[31m\\\]\[m# \"\[52;72H\[1m\[7m8,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  47 match_max\[m 100000\[52;72H\[1m\[7m7,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  46 spawn\[m \[1m\[31m\$env\[m(SHELL)\[52;72H\[1m\[7m6,\[13C0%\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  45 \[mset timeout -1\[52;72H\[1m\[7m5,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  44 \[m\[52;72H\[1m\[7m4,0-1\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  43 \[m\[52;72H\[1m\[7m3,\[1;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[1;6H\[53;78H \[1;6H\[1;51r\[1;1H\[L\[1;53r\[1;1H\[1m\[33m  42 \[m\[1m\[36m# -Don\[m\[51;1H\[1m\[34m@                                                                                       \[m\[52;72H\[1m\[7m2,1   \[1;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[1;6H\[53;78H \[2;6H\[52;72H\[1m\[7m3,0-1\[2;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[2;6H\[53;78H \[3;6H\[52;72H\[1m\[7m4,\[3;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[3;6H\[53;78H \[4;6H\[52;72H\[1m\[7m5,1   \[4;6H\[?12l\[?25h"
send -- "y"
expect -exact "\[?25l\[m\[53;78Hy\[4;6H\[?12l\[?25h"
send -- "y"
expect -exact "\[?25l\[53;78H \[4;6H\[?12l\[?25h\[?25l\[53;78Hyy\[4;6H\[53;78H  \[4;6H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[53;78H:\[4;6H\[53;78H\[K\[53;1H:\[?12l\[?25h"
send -- "b"
expect -exact "b\[?25l\[?12l\[?25h"
send -- "p"
expect -exact "p\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[8;5H\[1;3H\[1m\[33m1 \[m\[1m\[34m#!/usr/bin/expect\[m\[2;3H\[1m\[33m2 \[m\[2;5H\[K\[3;3H\[1m\[33m3 \[m\[1m\[36m#exp_internal 1\[m\[4;4H\[1m\[33m \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\[5;3H\[1m\[33m5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\[6;3H\[1m\[33m6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\[7;3H\[1m\[33m7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\[7;32H\[K\[8;3H\[1m\[33m8 \[m\[8;5H\[K\[9;3H\[1m\[33m9 spawn\[m \[1m\[31m\$env\[m(SHELL)\[9;22H\[K\[10;2H\[1m\[33m10 send\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[11;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\[11;12H\[K\[12;2H\[1m\[33m11 expect\[m  {\[12;14H\[K\[13;2H\[1m\[33m12 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[14;2H\[1m\[33m13 \[m    \"yes/no\" {\[14;19H\[K\[15;2H\[1m\[33m14 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[16;2H\[1m\[33m15 \[m        \[1m\[33mexp_continue\[m\[16;25H\[K\[17;2H\[1m\[33m16 \[m    }\[17;10H\[K\[18;2H\[1m\[33m17 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[19;2H\[1m\[33m18 \[m    \"password:\" { \[20;2H\[1m\[33m19 \[m        \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" \[20;35H\[K\[21;2H\[1m\[33m20 \[m    }\[21;11H\[K\[22;2H\[1m\[33m21 \[m}\[22;6H\[K\[23;2H\[1m\[33m22 expect\[m  {\[23;14H\[K\[24;2H\[1m\[33m23 \[m    \"yes/no\" {\[25;2H\[1m\[33m24 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[26;2H\[1m\[33m25 \[m        \[1m\[33mexp_continue\[m\[26;25H\[K\[27;2H\[1m\[33m26 \[m    }\[27;11H\[K\[28;2H\[1m\[33m27 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[29;2H\[1m\[33m28 \[m}\[29;6H\[K\[30;1H\[1m\[34m~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~ \[m\r
\[1m\[7mcopy_ssh_key.exp\[54C8,0-1\[10CAll\[m\[53;1H\"copy_ssh_key.exp\" 28 lines --28%--\[8;5H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[53;78Hp\[8;5H\[53;78H \[9;5Hset timeout -1\[9;19H\[K\[10;6H\[1m\[33mpawn\[m \[1m\[31m\$env\[m(SHELL)\[10;22H\[K\[11;2H\[1m\[33m11 send\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[12;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\[12;13H\[K\[13;5H\[1m\[33mexpect\[m  {\[13;14H\[K\[14;9H\[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[15;9H\"yes/no\" {\[15;19H\[K\[16;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[17;9H    \[1m\[33mexp_continue\[m\[18;9H}\[18;10H\[K\[19;9H\[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[20;9H\"password:\" { \[20;23H\[K\[21;9H    \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\"\[22;5H    }\[23;5H}\[23;6H\[K\[24;5H\[1m\[33mexpect\[m  {\[24;14H\[K\[25;9H\"yes/no\" {\[25;19H\[K\[26;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[27;9H    \[1m\[33mexp_continue\[m\[28;9H}\[28;10H\[K\[29;5H    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 29 \[m}\[30;6H\[K\[52;18H\[1m\[7m\[+\]\[50C9,1   \[9;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[9;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[8;5H\[53;78H \[7;5H\[52;71H\[1m\[7m7,1   \[7;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[7;5H\[53;78H \[6;5H\[52;71H\[1m\[7m6,\[6;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[6;5H\[53;78H \[7;5H\[52;71H\[1m\[7m7,\[7;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[7;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[8;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,1   \[9;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[9;5H\[53;78H \[10;5H\[52;71H\[1m\[7m10,1\[10;5H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;5H\[53;78H \[10;6H\[52;74H\[1m\[7m2 \[10;6H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;6H\[53;78H \[10;7H\[52;74H\[1m\[7m3 \[10;7H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;7H\[53;78H \[10;8H\[52;74H\[1m\[7m4 \[10;8H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;8H\[53;78H \[10;9H\[52;74H\[1m\[7m5 \[10;9H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;9H\[53;78H \[10;10H\[52;74H\[1m\[7m6 \[10;10H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[10;10H\[53;78H \[11;10H\[52;72H\[1m\[7m1,\[11;10H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[11;10H\[53;78H \[13;10H\[52;72H\[1m\[7m2,\[13;10H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[13;10H\[53;78H \[11;10H\[52;72H\[1m\[7m1,\[11;10H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[11;10H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 29L, 643C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\r"
expect -exact "\r
expect version 5.45\r\r
argv\[0\] = expect  argv\[1\] = -d  argv\[2\] = ./copy_ssh_key.exp  argv\[3\] = hadoop  argv\[4\] = onceas  argv\[5\] = 133.133.131.18  argv\[6\] = 133.133.135.34  \r\r
set argc 4\r\r
set argv0 \"./copy_ssh_key.exp\"\r\r
set argv \"hadoop onceas 133.133.131.18 133.133.135.34\"\r\r
executing commands from command file ./copy_ssh_key.exp\r\r
spawn /bin/bash\r\r\r
parent: waiting for sync byte\r\r
parent: telling child to go ahead\r\r
parent: now unsynchronized from child\r\r
spawn: returns {27322}\r\r
send: sending \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\" to { exp7 }\r\r
\r\r
expect: does \"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
\[?1034h\[root@hadoop-slave2 tools\]# s\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# s\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
sh -t h\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t h\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
adoop@\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
133.13\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.13\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
3.131.1\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.1\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
8 \"ssh\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
-copy-\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
id -i \r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i \" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
~/.ss\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ss\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
h/id\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
_rs\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rs\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
a.p \r\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.p \\r\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
ub hadoo\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.p \\rub hadoo\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
p@133.\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.p \\rub hadoop@133.\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
133.13\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.p \\rub hadoop@133.133.13\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
5.34\"\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.p \\rub hadoop@133.133.135.34\"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
"
send -- "\[A"
expect -exact "^\[\[A"
send -- "\[B"
expect -exact "^\[\[B"
send -- "\[A"
expect -exact "^\[\[A"
send -- "\[A"
expect -exact "^\[\[A"
send -- "\[A"
expect -exact "^\[\[A"
send -- ""
expect -exact "^Csighandler: handling signal(2)\r\r
async event handler: Tcl_Eval(exit 130)\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 29L, 643C\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[mset timeout -1\r
\[1m\[33m 10 spawn\[m \[1m\[31m\$env\[m(SHELL)\r
\[1m\[33m 11 send\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[12;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\r
\[1m\[33m 12 expect\[m  {\r
\[1m\[33m 13 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 14 \[m    \"yes/no\" {\r
\[1m\[33m 15 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 16 \[8Cexp_continue\r
 17 \[m    }\r
\[1m\[33m 18 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 19 \[m    \"password:\" {\r
\[1m\[33m 20 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 21 \[m    }\r
\[1m\[33m 22 \[m}\r
\[1m\[33m 23 expect\[m  {\r
\[1m\[33m 24 \[m    \"yes/no\" {\r
\[1m\[33m 25 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 26 \[8Cexp_continue\r
 27 \[m    }\r
\[1m\[33m 28 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 29 \[m}\r
\[1m\[34m~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      11,1           All\[11;5H\[?12l\[?25h"
send -- "\[2;2R"
expect -exact "\[?25l\[m\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[?12l\[?25h\[?25l\[53;78H   \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H2\[11;5H\[53;82H;\[11;5H\[?12l\[?25h\[?25l\[53;78H     \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H2\[11;5H\[53;82H;\[11;5H\[53;83H2\[11;5H\[?12l\[?25h\[?25l\[53;78H      \[11;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[?12l\[?25h\[?25l\[53;78H    \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[53;82H0\[11;5H\[53;83H;\[11;5H\[?12l\[?25h\[?25l\[53;78H      \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[53;82H0\[11;5H\[53;83H;\[11;5H\[53;84H1\[11;5H\[?12l\[?25h\[?25l\[53;78H       \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[53;82H0\[11;5H\[53;83H;\[11;5H\[53;84H1\[11;5H\[53;85H3\[11;5H\[?12l\[?25h\[?25l\[53;78H        \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[53;82H0\[11;5H\[53;83H;\[11;5H\[53;84H1\[11;5H\[53;85H3\[11;5H\[53;86H6\[11;5H\[?12l\[?25h\[?25l\[53;78H         \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[53;82H0\[11;5H\[53;83H;\[11;5H\[53;84H1\[11;5H\[53;85H3\[11;5H\[53;86H6\[11;5H\[53;87H;\[11;5H\[?12l\[?25h\[?25l\[53;78H          \[11;5H\[53;78H^\[\[11;5H\[53;80H\[\[11;5H\[53;81H>\[11;5H\[53;82H0\[11;5H\[53;83H;\[11;5H\[53;84H1\[11;5H\[53;85H3\[11;5H\[53;86H6\[11;5H\[53;87H;\[11;5H\[53;78H\[\[>0;136;0\[11;5H\[?12l\[?25h\[?25l\[53;78H          \[11;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[53;78Hl\[11;5H\[53;78H \[11;6H\[52;74H\[1m\[7m2 \[11;6H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[11;6H\[53;78H \[11;7H\[52;74H\[1m\[7m3 \[11;7H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[11;7H\[53;78H \[11;8H\[52;74H\[1m\[7m4 \[11;8H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[11;8H\[53;78H \[11;9H\[52;74H\[1m\[7m5 \[11;9H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[11;9H\[53;78H \[11;10H\[52;74H\[1m\[7m6 \[11;10H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[11;10H\[53;78H \[10;10H\[52;72H\[1m\[7m0,\[10;10H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[10;10H\[53;78H \[9;10H\[52;71H\[1m\[7m9,6  \[9;10H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[9;10H\[53;78H \[10;10H\[52;71H\[1m\[7m10,6\[10;10H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd\[10;10H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[53;78H \[10;10H\[?12l\[?25h\[?25l\[53;78Hdd\[10;10H\[53;78H  \[10;5H\[1C\[1m\[33mend\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[11;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\[11;13H\[K\[12;2H\[1m\[33m11 expect\[m  {\[13;5H    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[14;9H\"yes/no\" {\[14;19H\[K\[15;9H    \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[16;13H\[1m\[33mexp_continue\[m\[16;25H\[K\[17;9H}\[17;13H\[K\[18;9H\[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[19;9H\"password:\" { \[19;23H\[K\[20;9H    \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\"\[21;9H}\[21;13H\[K\[22;5H}\[22;9H\[K\[23;5H\[1m\[33mexpect\[m  {\[24;5H    \"yes/no\" {\[25;9H    \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[26;13H\[1m\[33mexp_continue\[m\[26;25H\[K\[27;9H}\[27;13H\[K\[28;9H\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[29;5H}\[29;9H\[K\[30;1H\[1m\[34m~                                                                                       \[m\[52;18H\[1m\[7m\[+\]\[53C1 \[10;5H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[10;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 28L, 625C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\r"
expect -exact "\r
expect version 5.45\r\r
argv\[0\] = expect  argv\[1\] = -d  argv\[2\] = ./copy_ssh_key.exp  argv\[3\] = hadoop  argv\[4\] = onceas  argv\[5\] = 133.133.131.18  argv\[6\] = 133.133.135.34  \r\r
set argc 4\r\r
set argv0 \"./copy_ssh_key.exp\"\r\r
set argv \"hadoop onceas 133.133.131.18 133.133.135.34\"\r\r
executing commands from command file ./copy_ssh_key.exp\r\r
send: sending \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\" to { exp0 ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"}\r\r
\r\r
expect: does \"\" (spawn_id exp0) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
"
send -- ""
expect -exact "^Csighandler: handling signal(2)\r\r
async event handler: Tcl_Eval(exit 130)\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\[1~"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact "xpect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.\[1P133.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact "pect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.1\[1P33.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact "ect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.13\[C\[1P.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact "ct -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133\[1P.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact "t -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.\[1P135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact " -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.1\[1P35.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact "-d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.13\[1P5.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact "d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135\[1P.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact " ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.\[1P34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\[1P4\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\r\r
ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\""
send -- "\r"
expect -exact "\r
"
send -- "\r"
expect -exact "\r
"
send -- "\r"
expect -exact "\r
"
send -- "\r"
expect -exact "\r
"
send -- "\r"
expect -exact "\r
"
send -- ""
expect -exact "^C\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[Cexpect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 28L, 625C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[mset timeout -1\r
\[1m\[33m 10 send\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[11;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\r
\[1m\[33m 11 expect\[m  {\r
\[1m\[33m 12 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 13 \[m    \"yes/no\" {\r
\[1m\[33m 14 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 15 \[8Cexp_continue\r
 16 \[m    }\r
\[1m\[33m 17 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 18 \[m    \"password:\" {\r
\[1m\[33m 19 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 20 \[m    }\r
\[1m\[33m 21 \[m}\r
\[1m\[33m 22 expect\[m  {\r
\[1m\[33m 23 \[m    \"yes/no\" {\r
\[1m\[33m 24 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 25 \[8Cexp_continue\r
 26 \[m    }\r
\[1m\[33m 27 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 28 \[m}\r
\[1m\[34m~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      10,1           All\[10;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[?12l\[?25h\[?25l\[53;78H   \[10;5H\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[53;81H>\[10;5H\[?12l\[?25h\[?25l\[53;78H    \[10;5H\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[53;81H>\[10;5H\[53;82H0\[10;5H\[53;83H;\[10;5H\[53;84H1\[10;5H\[?12l\[?25h\[?25l\[53;78H       \[10;5H\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[53;81H>\[10;5H\[53;82H0\[10;5H\[53;83H;\[10;5H\[53;84H1\[10;5H\[53;85H3\[10;5H\[53;86H6\[10;5H\[?12l\[?25h\[?25l\[53;78H         \[10;5H\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[53;81H>\[10;5H\[53;82H0\[10;5H\[53;83H;\[10;5H\[53;84H1\[10;5H\[53;85H3\[10;5H\[53;86H6\[10;5H\[53;87H;\[10;5H\[53;78H\[\[>0;136;0\[10;5H\[?12l\[?25h\[?25l\[53;78H          \[10;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[10;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,1  \[9;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[9;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[8;5H\[53;78H \[7;5H\[52;71H\[1m\[7m7,1   \[7;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[7;5H\[53;78H \[6;5H\[52;71H\[1m\[7m6,\[6;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[6;5H\[53;78H \[5;5H\[52;71H\[1m\[7m5,\[5;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[5;5H\[53;78H \[4;5H\[52;71H\[1m\[7m4,\[4;5H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;5H\[53;78H \[4;6H\[52;73H\[1m\[7m2 \[4;6H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;6H\[53;78H \[4;7H\[52;73H\[1m\[7m3 \[4;7H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;7H\[53;78H \[4;8H\[52;73H\[1m\[7m4 \[4;8H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;8H\[53;78H \[4;9H\[52;73H\[1m\[7m5 \[4;9H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;9H\[53;78H \[4;10H\[52;73H\[1m\[7m6 \[4;10H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;10H\[53;78H \[4;11H\[52;73H\[1m\[7m7 \[4;11H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;11H\[53;78H \[4;12H\[52;73H\[1m\[7m8 \[4;12H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;12H\[53;78H \[4;13H\[52;73H\[1m\[7m9 \[4;13H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;13H\[53;78H \[4;14H\[52;73H\[1m\[7m10\[4;14H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;14H\[53;78H \[4;15H\[52;74H\[1m\[7m1 \[4;15H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;15H\[53;78H \[4;16H\[52;74H\[1m\[7m2 \[4;16H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;16H\[53;78H \[4;17H\[52;74H\[1m\[7m3 \[4;17H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;17H\[53;78H \[4;18H\[52;74H\[1m\[7m4 \[4;18H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;18H\[53;78H \[4;19H\[46m\[\[14C\]\[m\[52;74H\[1m\[7m5 \[4;19H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;19H\[53;78H \[4;20H\[\[14C\]\[52;74H\[1m\[7m6 \[4;20H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;20H\[53;78H \[4;21H\[52;74H\[1m\[7m7 \[4;21H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;21H\[53;78H \[4;22H\[52;74H\[1m\[7m8 \[4;22H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;22H\[53;78H \[4;23H\[52;74H\[1m\[7m9 \[4;23H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;23H\[53;78H \[4;24H\[52;73H\[1m\[7m20 \[4;24H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;24H\[53;78H \[4;25H\[52;74H\[1m\[7m1 \[4;25H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;25H\[53;78H \[4;26H\[52;74H\[1m\[7m2 \[4;26H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;26H\[53;78H \[4;27H\[52;74H\[1m\[7m3 \[4;27H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;27H\[53;78H \[4;28H\[52;74H\[1m\[7m4 \[4;28H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;28H\[53;78H \[4;29H\[52;74H\[1m\[7m5 \[4;29H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;29H\[53;78H \[4;30H\[52;74H\[1m\[7m6 \[4;30H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;30H\[53;78H \[4;31H\[52;74H\[1m\[7m7 \[4;31H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;31H\[53;78H \[4;32H\[52;74H\[1m\[7m8 \[4;32H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[4;32H\[53;78H \[4;33H\[52;74H\[1m\[7m9 \[4;33H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[53;78Hr\[4;33H\[?12l\[?25h"
send -- "2"
expect -exact "\[?25l\[53;79H2\[4;33H\[53;78H  \[4;33H2\[52;18H\[1m\[7m\[+\]\[4;33H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[4;33H\[53;78H \[5;33H\[5;18H\[46m\[\[14C\]\[m\[52;71H\[1m\[7m5,\[5;33H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[5;33H\[53;78H \[5;32H\[5;18H\[\[14C\]\[52;74H\[1m\[7m8 \[5;32H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[53;78Hr\[5;32H\[?12l\[?25h"
send -- "3"
expect -exact "\[?25l\[53;79H3\[5;32H\[53;78H  \[5;32H3\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[5;32H\[53;78H \[6;31H\[6;16H\[46m\[\[14C\]\[m\[52;71H\[1m\[7m6,27 \[6;31H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[6;31H\[53;78H \[6;30H\[6;16H\[\[14C\]\[52;74H\[1m\[7m6 \[6;30H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[53;78Hr\[6;30H\[?12l\[?25h"
send -- "4"
expect -exact "\[?25l\[53;79H4\[6;30H\[53;78H  \[6;30H4\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[6;30H\[53;78H \[7;30H\[52;71H\[1m\[7m7,\[7;30H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[53;78Hr\[7;30H\[?12l\[?25h"
send -- "5"
expect -exact "\[?25l\[53;79H5\[7;30H\[53;78H  \[7;30H5\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[7;30H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[8;5H\[53;78H \[9;18H\[52;71H\[1m\[7m9,14  \[9;18H\[?12l\[?25h"
send -- "o"
expect -exact "\[?25l\[m\[53;78Ho\[9;18H\[53;78H \[10;5H\[53;1H\[1m-- INSERT --\[m\[53;13H\[K\[10;5H\[K\[11;2H\[1m\[33m11 send\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[12;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\[12;13H\[K\[13;5H\[1m\[33mexpect\[m  {\[13;14H\[K\[14;9H\[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[15;9H\"yes/no\" {\[15;19H\[K\[16;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[17;9H    \[1m\[33mexp_continue\[m\[18;9H}\[18;10H\[K\[19;9H\[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[20;9H\"password:\" { \[20;23H\[K\[21;9H    \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\"\[22;5H    }\[23;5H}\[23;6H\[K\[24;5H\[1m\[33mexpect\[m  {\[24;14H\[K\[25;9H\"yes/no\" {\[25;19H\[K\[26;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[27;9H    \[1m\[33mexp_continue\[m\[28;9H}\[28;10H\[K\[29;5H    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 29 \[m}\[30;6H\[K\[52;71H\[1m\[7m10,1 \[10;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[10;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[10;5H \[53;1H\[K\[52;74H\[1m\[7m0-1\[10;5H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[10;5H\[53;78H\[K\[53;1H:\[?12l\[?25h"
send -- "e"
expect -exact "e\[?25l\[?12l\[?25h"
send -- " "
expect -exact "\[?25l \[?12l\[?25h"
send -- "e"
expect -exact "e\[?25l\[?12l\[?25h"
send -- " "
expect -exact "\[?25l \[?12l\[?25h"
send -- "s"
expect -exact "s\[?25l\[?12l\[?25h"
send -- "	"
expect -exact "...\[?25lcript.exp\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[1m\[37m\[41mE172: Only one file name allowed\[10;5H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[10;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "e"
expect -exact "e\[?25l\[?12l\[?25h"
send -- " "
expect -exact "\[?25l \[?12l\[?25h"
send -- "s"
expect -exact "s\[?25l\[?12l\[?25h"
send -- "	"
expect -exact "...\[?25lcript.exp\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\"script.exp\" \[noeol\] 5127L, 471040C\[1;3H\[1m\[33m20 \[mset force_conservative 0  ;\[1m\[36m# set to 1 to force conservative mode even if\[m\[2;4H\[1m\[33m1 \[m\[14C;\[1m\[36m# script wasn't run conservatively originally\[m\[3;3H\[1m\[33m22 \[mif {\[1m\[31m\$force_conservative\[m} {\[4;3H\[1m\[33m23 \[m    set send_slow {1 .1}\[4;30H\[K\[5;3H\[1m\[33m24 \[m    proc \[1m\[33msend\[m {ignore arg} {\[6;3H\[1m\[33m25 \[m        \[1m\[33msleep\[m .1\[6;22H\[K\[7;3H\[1m\[33m26 \[m        exp_send -s -- \[1m\[31m\$arg\[m\[8;3H\[1m\[33m27 \[m    }\[9;3H\[1m\[33m28 \[m}\[9;7H\[K\[10;2H\[1m\[33m 29 \r
  30 \[m\[1m\[36m#\[m\[11;7H\[K\[12;3H\[1m\[33m31 \[m\[1m\[36m# 2) differing output - Some programs produce different output each time\[m\[13;2H\[1m\[33m 32 \[m\[1m\[36m# they run.  The \"date\" command is an obvious example.  Another is\[m\[14;2H\[1m\[33m 33 \[m\[1m\[36m# ftp, if it produces throughput statistics at the end of a file\[m\[15;2H\[1m\[33m 34 \[m\[1m\[36m# transfer.  If this causes a problem, delete these patterns or replace\[m\[16;2H\[1m\[33m 35 \[m\[1m\[36m# them with wildcards.  An alternative is to use the -p flag (for\[m\[17;2H\[1m\[33m 36 \[m\[1m\[36m# \"prompt\") which makes Expect only look for the last line of output\[m\[18;2H\[1m\[33m 37 \[m\[1m\[36m# (i.e., the prompt).  The -P flag allows you to define a character to\[m\[19;2H\[1m\[33m 38 \[m\[1m\[36m# toggle this mode off and on.\[m\[19;36H\[K\[20;2H\[1m\[33m 39 \[m\[1m\[36m#\[m\[20;9H\[K\[21;2H\[1m\[33m 40 \[m\[1m\[36m# Read the man page for more info.\[m\[22;2H\[1m\[33m 41 \[m\[1m\[36m#\[m\[22;9H\[K\[23;2H\[1m\[33m 42 \[m\[1m\[36m# -Don\[m\[24;2H\[1m\[33m 43 \[m\[24;6H\[K\[25;2H\[1m\[33m 44 \[m\[25;9H\[K\[26;2H\[1m\[33m 45 \[mset timeout -1\[26;21H\[K\[27;2H\[1m\[33m 46 spawn\[m \[1m\[31m\$env\[m(SHELL)\[27;23H\[K\[28;2H\[1m\[33m 47 match_max\[m 100000\[29;2H\[1m\[33m 48 expect\[m -exact \"\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G^\[\[m\[1m\[31m\\\[\[m??\[30;1H\[1m\[33m     \[m1034h\[1m\[31m\\\[\[mroot@hadoop-slave2 tools\[1m\[31m\\\]\[m# \"\r
\[1m\[33m  49 send\[m -- \"ssh hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-keygen\[1m\[31m\\\"\[m\"\[31;56H\[K\[32;1H\[1m\[33m  50 expect\[m -exact \"ssh hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-keygen\[1m\[31m\\\"\[m\"\[32;62H\[K\[33;1H\[1m\[33m  51 send\[m -- \"\[1m\[31m\\r\[m\"\[33;18H\[K\[34;1H\[1m\[33m  52 expect\[m -exact \"\[1m\[31m\\r\[m\[34;23H\[K\[35;1H\[1m\[33m  53 \[mhadoop@133.133.131.18's password: \"\[35;41H\[K\[36;1H\[1m\[33m  54 send\[m -- \"o\[1m\[34m^H\[monceonceas\[1m\[31m\\r\[m\"\[36;31H\[K\[37;1H\[1m\[33m  55 expect\[m -exact \"\[1m\[31m\\r\[m\[37;23H\[K\[38;1H\[1m\[33m  56 \[mPermission denied, please try again.\[1m\[31m\\r\\r\[m\[38;46H\[K\[39;1H\[1m\[33m  57 \[mhadoop@133.133.131.18's password: \"\[39;41H\[K\[40;1H\[1m\[33m  58 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[40;24H\[K\[41;1H\[1m\[33m  59 expect\[m -exact \"\[1m\[31m\\r\[m\[41;23H\[K\[42;1H\[1m\[33m  60 \[mEnter file in which to save the key (/home/hadoop/.ssh/id_rsa): \"\[42;71H\[K\[43;1H\[1m\[33m  61 send\[m -- \"\[1m\[31m\\r\[m\"\[43;18H\[K\[44;1H\[1m\[33m  62 expect\[m -exact \"\[1m\[31m\\r\[m\[44;23H\[K\[45;1H\[1m\[33m  63 \[mEnter passphrase (empty for no passphrase): \"\[45;51H\[K\[46;1H\[1m\[33m  64 send\[m -- \"\[1m\[31m\\r\[m\"\[46;18H\[K\[47;1H\[1m\[33m  65 expect\[m -exact \"\[1m\[31m\\r\[m\[47;23H\[K\[48;1H\[1m\[33m  66 \[mEnter same passphrase again: \"\[48;36H\[K\[49;1H\[1m\[33m  67 send\[m -- \"\[1m\[31m\\r\[m\"\[49;18H\[K\[50;1H\[1m\[33m  68 expect\[m -exact \"\[1m\[31m\\r\[m\[50;23H\[K\[51;1H\[1m\[33m  69 \[mGenerating public/private rsa key pair.\[1m\[31m\\r\[m\[51;47H\[K\[52;1H\[1m\[7mscript.expe           \[49C45,1   \[8C 0%\[26;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;6H\[53;78H \[27;6H\[52;72H\[1m\[7m6,\[27;6H\[?12l\[?25h"
send -- "y"
expect -exact "\[?25l\[m\[53;78Hy\[27;6H\[?12l\[?25h"
send -- "y"
expect -exact "\[?25l\[53;78H \[27;6H\[?12l\[?25h\[?25l\[53;78Hyy\[27;6H\[53;78H  \[27;6H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[53;78H:\[27;6H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "b"
expect -exact "b\[?25l\[?12l\[?25h"
send -- "p"
expect -exact "p\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[10;5H\[1;3H\[1m\[33m1 \[m\[1m\[34m#!/usr/bin/expect\[m\[1;22H\[K\[2;4H\[1m\[33m \[m\[2;5H\[K\[3;3H\[1m\[33m3 \[m\[1m\[36m#exp_internal 1\[m\[3;20H\[K\[4;3H\[1m\[33m4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 2\]\[5;3H\[1m\[33m5 \[mset password \[lindex \[1m\[31m\$argv\[m 3\]\[6;3H\[1m\[33m6 \[mset client \[lindex \[1m\[31m\$argv\[m 4\]\[7;3H\[1m\[33m7 \[mset server \[lindex \[1m\[31m\$argv\[m 5\]\[7;32H\[K\[8;3H\[1m\[33m8 \[m\[8;5H\[K\[9;3H\[1m\[33m9 \[mset timeout -1\[10;2H\[1m\[33m10 \[m\[10;5H\[K\[11;2H\[1m\[33m11 send\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[12;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\[12;12H\[K\[13;2H\[1m\[33m12 expect\[m  {\[13;14H\[K\[14;2H\[1m\[33m13 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[14;64H\[K\[15;2H\[1m\[33m14 \[m    \"yes/no\" {\[15;19H\[K\[16;2H\[1m\[33m15 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[16;28H\[K\[17;2H\[1m\[33m16 \[m        \[1m\[33mexp_continue\[m\[17;25H\[K\[18;2H\[1m\[33m17 \[m    }\[18;10H\[K\[19;2H\[1m\[33m18 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[20;2H\[1m\[33m19 \[m    \"password:\" {\[21;2H\[1m\[33m20 \[m        \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" \[21;35H\[K\[22;2H\[1m\[33m21 \[m    }\[23;2H\[1m\[33m22 \[m}\[23;6H\[K\[24;2H\[1m\[33m23 expect\[m  {\[25;2H\[1m\[33m24 \[m    \"yes/no\" {\[26;2H\[1m\[33m25 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[27;2H\[1m\[33m26 \[m        \[1m\[33mexp_continue\r
 27 \[m    }\[28;10H\[K\[29;2H\[1m\[33m28 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[29;46H\[K\[30;2H\[1m\[33m29 \[m}\[30;6H\[K\[31;1H\[1m\[34m~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp \[+\]\[50C10,0-1\[9CAll\[m\[53;1H\"copy_ssh_key.exp\" \[Modified\] 29 lines --34%--\[10;5H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[53;78Hp\[10;5H\[53;78H \[11;5H\[1C\[1m\[33mpawn\[m \[1m\[31m\$env\[m(SHELL)\[11;22H\[K\[12;2H\[1m\[33m12 send\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[13;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\[13;13H\[K\[14;5H\[1m\[33mexpect\[m  {\[14;14H\[K\[15;9H\[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[16;9H\"yes/no\" {\[16;19H\[K\[17;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[18;9H    \[1m\[33mexp_continue\[m\[19;9H}\[19;10H\[K\[20;9H\[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[21;9H\"password:\" { \[21;23H\[K\[22;9H    \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\"\[23;5H    }\[24;5H}\[24;6H\[K\[25;5H\[1m\[33mexpect\[m  {\[25;14H\[K\[26;9H\"yes/no\" {\[26;19H\[K\[27;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[28;9H    \[1m\[33mexp_continue\[m\[29;9H}\[29;10H\[K\[30;5H    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 30 \[m}\[31;6H\[K\[52;72H\[1m\[7m1,1   \[11;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[11;5H\[53;78H \[10;5H\[52;72H\[1m\[7m0,0-1\[10;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd\[10;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[53;78H \[10;5H\[?12l\[?25h\[?25l\[53;78Hdd\[10;5H\[53;78H  \[10;5H\[1m\[33mspawn\[m \[1m\[31m\$env\[m(SHELL)\[11;6H\[1m\[33mend\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[12;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\[12;13H\[K\[13;2H\[1m\[33m12 expect\[m  {\[14;5H    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[15;9H\"yes/no\" {\[15;19H\[K\[16;9H    \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[17;13H\[1m\[33mexp_continue\[m\[17;25H\[K\[18;9H}\[18;13H\[K\[19;9H\[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[20;9H\"password:\" { \[20;23H\[K\[21;9H    \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\"\[22;9H}\[22;13H\[K\[23;5H}\[23;9H\[K\[24;5H\[1m\[33mexpect\[m  {\[25;5H    \"yes/no\" {\[26;9H    \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[27;13H\[1m\[33mexp_continue\[m\[27;25H\[K\[28;9H}\[28;13H\[K\[29;9H\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[30;5H}\[30;9H\[K\[31;1H\[1m\[34m~                                                                                       \[m\[52;74H\[1m\[7m1   \[10;5H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[10;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 29L, 643C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[Cexpect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.34"
send -- "\r"
expect -exact "\r
expect version 5.45\r\r
argv\[0\] = expect  argv\[1\] = -d  argv\[2\] = ./copy_ssh_key.exp  argv\[3\] = hadoop  argv\[4\] = onceas  argv\[5\] = 133.133.131.18  argv\[6\] = 133.133.135.34  \r\r
set argc 4\r\r
set argv0 \"./copy_ssh_key.exp\"\r\r
set argv \"hadoop onceas 133.133.131.18 133.133.135.34\"\r\r
executing commands from command file ./copy_ssh_key.exp\r\r
spawn /bin/bash\r\r\r
parent: waiting for sync byte\r\r
parent: telling child to go ahead\r\r
parent: now unsynchronized from child\r\r
spawn: returns {27344}\r\r
send: sending \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\" to { exp7 }\r\r
\r\r
expect: does \"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
\[?1034h\[root@hadoop-slave2 tools\]# s\r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# s\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
sh -t 133\r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t 133\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
.133.131\r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t 133.133.131\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
.18@ \"s\r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t 133.133.131.18@ \"s\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
sh-co\r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t 133.133.131.18@ \"ssh-co\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
py-id\r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t 133.133.131.18@ \"ssh-copy-id\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
 -i ~\r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t 133.133.131.18@ \"ssh-copy-id -i ~\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
/.ss\r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ss\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
h/i\r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/i\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
d_\r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
rsa.\r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
pub \r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub \" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
133 \r.13\r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133 \\r.13\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
3.131.1\r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133 \\r.133.131.1\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
8@\"\r\r
expect: does \"ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.131.18@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t 133.133.131.18@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133 \\r.133.131.18@\"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
"
send -- ""
expect -exact "^Csighandler: handling signal(2)\r\r
async event handler: Tcl_Eval(exit 130)\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 29L, 643C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 4\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 5\]\r
\[1m\[33m  8 \r
  9 \[mset timeout -1\r
\[1m\[33m 10 spawn\[m \[1m\[31m\$env\[m(SHELL)\r
\[1m\[33m 11 send\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[12;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\r
\[1m\[33m 12 expect\[m  {\r
\[1m\[33m 13 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 14 \[m    \"yes/no\" {\r
\[1m\[33m 15 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 16 \[8Cexp_continue\r
 17 \[m    }\r
\[1m\[33m 18 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 19 \[m    \"password:\" {\r
\[1m\[33m 20 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 21 \[m    }\r
\[1m\[33m 22 \[m}\r
\[1m\[33m 23 expect\[m  {\r
\[1m\[33m 24 \[m    \"yes/no\" {\r
\[1m\[33m 25 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 26 \[8Cexp_continue\r
 27 \[m    }\r
\[1m\[33m 28 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 29 \[m}\r
\[1m\[34m~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      10,1           All\[10;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[53;81H>\[10;5H\[?12l\[?25h\[?25l\[53;78H    \[10;5H\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[53;81H>\[10;5H\[53;82H0\[10;5H\[?12l\[?25h\[?25l\[53;78H     \[10;5H\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[53;81H>\[10;5H\[53;82H0\[10;5H\[53;83H;\[10;5H\[53;84H1\[10;5H\[?12l\[?25h\[?25l\[53;78H       \[10;5H\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[53;81H>\[10;5H\[53;82H0\[10;5H\[53;83H;\[10;5H\[53;84H1\[10;5H\[53;85H3\[10;5H\[?12l\[?25h\[?25l\[53;78H        \[10;5H\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[53;81H>\[10;5H\[53;82H0\[10;5H\[53;83H;\[10;5H\[53;84H1\[10;5H\[53;85H3\[10;5H\[53;86H6\[10;5H\[?12l\[?25h\[?25l\[53;78H         \[10;5H\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[53;81H>\[10;5H\[53;82H0\[10;5H\[53;83H;\[10;5H\[53;84H1\[10;5H\[53;85H3\[10;5H\[53;86H6\[10;5H\[53;87H;\[10;5H\[?12l\[?25h\[?25l\[53;78H          \[10;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[10;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,1  \[9;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[9;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[8;5H\[53;78H \[7;5H\[52;71H\[1m\[7m7,1   \[7;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[7;5H\[53;78H \[6;5H\[52;71H\[1m\[7m6,\[6;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[6;5H\[53;78H \[5;5H\[52;71H\[1m\[7m5,\[5;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[5;5H\[53;78H \[4;5H\[52;71H\[1m\[7m4,\[4;5H\[?12l\[?25h"
send -- "f"
expect -exact "\[?25l\[m\[53;78Hf\[4;5H\[?12l\[?25h"
send -- "2"
expect -exact "\[?25l\[53;79H2\[4;5H\[53;78H  \[4;33H\[52;73H\[1m\[7m29\[4;33H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[53;78Hr\[4;33H\[?12l\[?25h"
send -- "3"
expect -exact "\[?25l\[53;79H3\[4;33H\[53;78H  \[4;33H3\[52;18H\[1m\[7m\[+\]\[4;33H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[4;33H\[53;78H \[5;33H\[5;18H\[46m\[\[14C\]\[m\[52;71H\[1m\[7m5,\[5;33H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[5;33H\[53;78H \[5;32H\[5;18H\[\[14C\]\[52;74H\[1m\[7m8 \[5;32H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[53;78Hr\[5;32H\[?12l\[?25h"
send -- "4"
expect -exact "\[?25l\[53;79H4\[5;32H\[53;78H  \[5;32H4\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[5;32H\[53;78H \[6;31H\[6;16H\[46m\[\[14C\]\[m\[52;71H\[1m\[7m6,27 \[6;31H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[6;31H\[53;78H \[6;30H\[6;16H\[\[14C\]\[52;74H\[1m\[7m6 \[6;30H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[53;78Hr\[6;30H\[?12l\[?25h"
send -- "5"
expect -exact "\[?25l\[53;79H5\[6;30H\[53;78H  \[6;30H5\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[6;30H\[53;78H \[7;30H\[52;71H\[1m\[7m7,\[7;30H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[53;78Hr\[7;30H\[?12l\[?25h"
send -- "5"
expect -exact "\[?25l\[53;79H5\[7;30H\[53;78H  \[7;30H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[53;78Hr\[7;30H\[?12l\[?25h"
send -- "6"
expect -exact "\[?25l\[53;79H6\[7;30H\[53;78H  \[7;30H6\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[53;78H:\[7;30H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 29L, 643C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\r"
expect -exact "\r
expect version 5.45\r\r
argv\[0\] = expect  argv\[1\] = -d  argv\[2\] = ./copy_ssh_key.exp  argv\[3\] = hadoop  argv\[4\] = onceas  argv\[5\] = 133.133.131.18  argv\[6\] = 133.133.135.34  \r\r
set argc 4\r\r
set argv0 \"./copy_ssh_key.exp\"\r\r
set argv \"hadoop onceas 133.133.131.18 133.133.135.34\"\r\r
executing commands from command file ./copy_ssh_key.exp\r\r
spawn /bin/bash\r\r\r
parent: waiting for sync byte\r\r
parent: telling child to go ahead\r\r
parent: now unsynchronized from child\r\r
spawn: returns {27362}\r\r
send: sending \"ssh -t 133.133.135.34@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.135.34@\"\" to { exp7 }\r\r
\r\r
expect: does \"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
ssh -t 133.133.135.34@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.135.34@\"\r\r
expect: does \"ssh -t 133.133.135.34@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.135.34@\"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[?1034h\[root@hadoop-slave2 tools\]# ssh -t 133.133.135.34@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133 \r.133.135.34@\"\r\r
expect: does \"ssh -t 133.133.135.34@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133.133.135.34@\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t 133.133.135.34@ \"ssh-copy-id -i ~/.ssh/id_rsa.pub 133 \\r.133.135.34@\"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
"
send -- ""
expect -exact "^Csighandler: handling signal(2)\r\r
async event handler: Tcl_Eval(exit 130)\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 29L, 643C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 4\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 5\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 6\]\r
\[1m\[33m  8 \r
  9 \[mset timeout -1\r
\[1m\[33m 10 spawn\[m \[1m\[31m\$env\[m(SHELL)\r
\[1m\[33m 11 send\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[12;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\r
\[1m\[33m 12 expect\[m  {\r
\[1m\[33m 13 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 14 \[m    \"yes/no\" {\r
\[1m\[33m 15 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 16 \[8Cexp_continue\r
 17 \[m    }\r
\[1m\[33m 18 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 19 \[m    \"password:\" {\r
\[1m\[33m 20 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 21 \[m    }\r
\[1m\[33m 22 \[m}\r
\[1m\[33m 23 expect\[m  {\r
\[1m\[33m 24 \[m    \"yes/no\" {\r
\[1m\[33m 25 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 26 \[8Cexp_continue\r
 27 \[m    }\r
\[1m\[33m 28 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 29 \[m}\r
\[1m\[34m~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      7,1            All\[7;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[7;5H\[53;80H\[\[7;5H\[?12l\[?25h\[?25l\[53;78H   \[7;5H\[53;78H^\[\[7;5H\[53;80H\[\[7;5H\[53;81H>\[7;5H\[?12l\[?25h\[?25l\[53;78H    \[7;5H\[53;78H^\[\[7;5H\[53;80H\[\[7;5H\[53;81H>\[7;5H\[53;82H0\[7;5H\[?12l\[?25h\[?25l\[53;78H     \[7;5H\[53;78H^\[\[7;5H\[53;80H\[\[7;5H\[53;81H>\[7;5H\[53;82H0\[7;5H\[53;83H;\[7;5H\[?12l\[?25h\[?25l\[53;78H      \[7;5H\[53;78H^\[\[7;5H\[53;80H\[\[7;5H\[53;81H>\[7;5H\[53;82H0\[7;5H\[53;83H;\[7;5H\[53;84H1\[7;5H\[?12l\[?25h\[?25l\[53;78H       \[7;5H\[53;78H^\[\[7;5H\[53;80H\[\[7;5H\[53;81H>\[7;5H\[53;82H0\[7;5H\[53;83H;\[7;5H\[53;84H1\[7;5H\[53;85H3\[7;5H\[?12l\[?25h\[?25l\[53;78H        \[7;5H\[53;78H^\[\[7;5H\[53;80H\[\[7;5H\[53;81H>\[7;5H\[53;82H0\[7;5H\[53;83H;\[7;5H\[53;84H1\[7;5H\[53;85H3\[7;5H\[53;86H6\[7;5H\[?12l\[?25h\[?25l\[53;78H         \[7;5H\[53;78H^\[\[7;5H\[53;80H\[\[7;5H\[53;81H>\[7;5H\[53;82H0\[7;5H\[53;83H;\[7;5H\[53;84H1\[7;5H\[53;85H3\[7;5H\[53;86H6\[7;5H\[53;87H;\[7;5H\[53;78H\[\[>0;136;0\[7;5H\[?12l\[?25h\[?25l\[53;78H          \[7;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[7;5H\[53;78H \[6;5H\[52;71H\[1m\[7m6,\[6;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[6;5H\[53;78H \[5;5H\[52;71H\[1m\[7m5,\[5;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[5;5H\[53;78H \[4;5H\[52;71H\[1m\[7m4,\[4;5H\[?12l\[?25h"
send -- "f"
expect -exact "\[?25l\[m\[53;78Hf\[4;5H\[?12l\[?25h"
send -- "3"
expect -exact "\[?25l\[53;79H3\[4;5H\[53;78H  \[4;33H\[52;73H\[1m\[7m29\[4;33H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[53;78Hr\[4;33H\[?12l\[?25h"
send -- "0"
expect -exact "\[?25l\[53;79H0\[4;33H\[53;78H  \[4;33H0\[52;18H\[1m\[7m\[+\]\[4;33H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[4;33H\[53;78H \[5;33H\[5;18H\[46m\[\[14C\]\[m\[52;71H\[1m\[7m5,\[5;33H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[5;33H\[53;78H \[5;32H\[5;18H\[\[14C\]\[52;74H\[1m\[7m8 \[5;32H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[53;78Hr\[5;32H\[?12l\[?25h"
send -- "1"
expect -exact "\[?25l\[53;79H1\[5;32H\[53;78H  \[5;32H1\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[5;32H\[53;78H \[6;31H\[6;16H\[46m\[\[14C\]\[m\[52;71H\[1m\[7m6,27 \[6;31H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[53;78Hr\[6;31H\[?12l\[?25h"
send -- "2"
expect -exact "\[?25l\[53;79H2\[6;31H\[53;78H  \[6;31H\[6;16H\[\[14C2\[?12l\[?25h"
send -- "u"
expect -exact "\[?25l\[53;78Hu\[6;31H\[53;1H1 change; before #3  1 seconds ago\[53;78H\[K\[6;31H\[6;16H\[46m\[\[14C\]\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[6;31H\[53;78H \[6;30H\[6;16H\[\[14C\]\[52;74H\[1m\[7m6 \[6;30H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[53;78Hr\[6;30H\[?12l\[?25h"
send -- "2"
expect -exact "\[?25l\[53;79H2\[6;30H\[53;78H  \[6;30H2\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[6;30H\[53;78H \[7;30H\[52;71H\[1m\[7m7,\[7;30H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[53;78Hr\[7;30H\[?12l\[?25h"
send -- "3"
expect -exact "\[?25l\[53;79H3\[7;30H\[53;78H  \[7;30H3\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[53;78H:\[7;30H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 29L, 643C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\r"
expect -exact "\r
expect version 5.45\r\r
argv\[0\] = expect  argv\[1\] = -d  argv\[2\] = ./copy_ssh_key.exp  argv\[3\] = hadoop  argv\[4\] = onceas  argv\[5\] = 133.133.131.18  argv\[6\] = 133.133.135.34  \r\r
set argc 4\r\r
set argv0 \"./copy_ssh_key.exp\"\r\r
set argv \"hadoop onceas 133.133.131.18 133.133.135.34\"\r\r
executing commands from command file ./copy_ssh_key.exp\r\r
spawn /bin/bash\r\r\r
parent: waiting for sync byte\r\r
parent: telling child to go ahead\r\r
parent: now unsynchronized from child\r\r
spawn: returns {27379}\r\r
send: sending \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\" to { exp7 }\r\r
\r\r
expect: does \"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
\[?1034h\[root@hadoop-slave2 tools\]# \r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# \" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
ssh -t hado\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hado\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
op@133.13\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.13\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
3.131.1\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.1\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
8 \"ssh-c\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-c\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
opy-id\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
 -i ~/\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
.ssh\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
/id_\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
rsa\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
.p \rub had\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.p \\rub had\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
oop@133.\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.p \\rub hadoop@133.\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
133.13\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.p \\rub hadoop@133.133.13\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
5.34\"\r\r
expect: does \"ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\"\\u001b\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\\u0007\\u001b\[?1034h\[root@hadoop-slave2 tools\]# ssh -t hadoop@133.133.131.18 \"ssh-copy-id -i ~/.ssh/id_rsa.p \\rub hadoop@133.133.135.34\"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
"
send -- "\[A"
expect -exact "^\[\[A"
send -- "\[A"
expect -exact "^\[\[A"
send -- "\[A"
expect -exact "^\[\[A"
send -- ""
expect -exact "            "
send -- ""
expect -exact "^Csighandler: handling signal(2)\r\r
async event handler: Tcl_Eval(exit 130)\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 29L, 643C\[>c"
send -- "\[2;2R"
expect -exact "\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[mset timeout -1\r
\[1m\[33m 10 spawn\[m \[1m\[31m\$env\[m(SHELL)\r
\[1m\[33m 11 send\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[12;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\r
\[1m\[33m 12 expect\[m  {\r
\[1m\[33m 13 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 14 \[m    \"yes/no\" {\r
\[1m\[33m 15 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 16 \[8Cexp_continue\r
 17 \[m    }\r
\[1m\[33m 18 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 19 \[m    \"password:\" {\r
\[1m\[33m 20 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 21 \[m    }\r
\[1m\[33m 22 \[m}\r
\[1m\[33m 23 expect\[m  {\r
\[1m\[33m 24 \[m    \"yes/no\" {\r
\[1m\[33m 25 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 26 \[8Cexp_continue\r
 27 \[m    }\r
\[1m\[33m 28 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 29 \[m}\r
\[1m\[34m~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      7,1            All\[7;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[7;5H\[53;80H\[\[7;5H\[53;81H>\[7;5H\[?12l\[?25h\[?25l\[53;78H    \[7;5H\[53;78H^\[\[7;5H\[53;80H\[\[7;5H\[53;81H>\[7;5H\[53;82H0\[7;5H\[53;83H;\[7;5H\[?12l\[?25h\[?25l\[53;78H      \[7;5H\[53;78H^\[\[7;5H\[53;80H\[\[7;5H\[53;81H>\[7;5H\[53;82H0\[7;5H\[53;83H;\[7;5H\[53;84H1\[7;5H\[?12l\[?25h\[?25l\[53;78H       \[7;5H\[53;78H^\[\[7;5H\[53;80H\[\[7;5H\[53;81H>\[7;5H\[53;82H0\[7;5H\[53;83H;\[7;5H\[53;84H1\[7;5H\[53;85H3\[7;5H\[?12l\[?25h\[?25l\[53;78H        \[7;5H\[53;78H^\[\[7;5H\[53;80H\[\[7;5H\[53;81H>\[7;5H\[53;82H0\[7;5H\[53;83H;\[7;5H\[53;84H1\[7;5H\[53;85H3\[7;5H\[53;86H6\[7;5H\[?12l\[?25h\[?25l\[53;78H         \[7;5H\[53;78H^\[\[7;5H\[53;80H\[\[7;5H\[53;81H>\[7;5H\[53;82H0\[7;5H\[53;83H;\[7;5H\[53;84H1\[7;5H\[53;85H3\[7;5H\[53;86H6\[7;5H\[53;87H;\[7;5H\[?12l\[?25h\[?25l\[53;78H          \[7;5H\[53;78H^\[\[7;5H\[53;80H\[\[7;5H\[53;81H>\[7;5H\[53;82H0\[7;5H\[53;83H;\[7;5H\[53;84H1\[7;5H\[53;85H3\[7;5H\[53;86H6\[7;5H\[53;87H;\[7;5H\[53;78H\[\[>0;136;0\[7;5H\[?12l\[?25h\[?25l\[53;78H          \[7;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[7;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[8;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,1   \[9;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[9;5H\[53;78H \[10;5H\[52;71H\[1m\[7m10,1\[10;5H\[?12l\[?25h"
send -- "f"
expect -exact "\[?25l\[m\[53;78Hf\[10;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[53;79Hd\[10;5H\[53;78H  \[10;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[53;78Hd\[10;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[53;78H \[10;5H\[?12l\[?25h\[?25l\[53;78Hdd\[10;5H\[53;78H  \[10;5H\[1C\[1m\[33mend\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[11;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\[11;13H\[K\[12;2H\[1m\[33m11 expect\[m  {\[13;5H    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[14;9H\"yes/no\" {\[14;19H\[K\[15;9H    \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[16;13H\[1m\[33mexp_continue\[m\[16;25H\[K\[17;9H}\[17;13H\[K\[18;9H\[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[19;9H\"password:\" { \[19;23H\[K\[20;9H    \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\"\[21;9H}\[21;13H\[K\[22;5H}\[22;9H\[K\[23;5H\[1m\[33mexpect\[m  {\[24;5H    \"yes/no\" {\[25;9H    \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[26;13H\[1m\[33mexp_continue\[m\[26;25H\[K\[27;9H}\[27;13H\[K\[28;9H\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[29;5H}\[29;9H\[K\[30;1H\[1m\[34m~                                                                                       \[m\[52;18H\[1m\[7m\[+\]\[10;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd\[10;5H\[?12l\[?25h"
send -- "u"
expect -exact "\[?25l\[53;78H \[10;5H\[?12l\[?25h\[?25l\[53;78Hdu\[10;5H\[53;78H  \[10;5H\[?12l\[?25h"
send -- "u"
expect -exact "\[?25l\[53;78Hu\[10;5H\[53;1H1 more line; before #1  2 seconds ago\[53;78H\[K\[10;5H\[1C\[1m\[33mpawn\[m \[1m\[31m\$env\[m(SHELL)\[10;22H\[K\[11;2H\[1m\[33m11 send\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[12;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\[12;13H\[K\[13;5H\[1m\[33mexpect\[m  {\[13;14H\[K\[14;9H\[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[15;9H\"yes/no\" {\[15;19H\[K\[16;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[17;9H    \[1m\[33mexp_continue\[m\[18;9H}\[18;10H\[K\[19;9H\[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[20;9H\"password:\" { \[20;23H\[K\[21;9H    \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\"\[22;5H    }\[23;5H}\[23;6H\[K\[24;5H\[1m\[33mexpect\[m  {\[24;14H\[K\[25;9H\"yes/no\" {\[25;19H\[K\[26;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[27;9H    \[1m\[33mexp_continue\[m\[28;9H}\[28;10H\[K\[29;5H    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 29 \[m}\[30;6H\[K\[52;18H\[1m\[7m    \[10;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd\[10;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[53;78H \[10;5H\[?12l\[?25h\[?25l\[53;78Hdd\[10;5H\[53;78H  \[10;5H\[1C\[1m\[33mend\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[11;1H\[1m\[33m    \[m\[1m\[31mrver\\\"\[m\"\[11;13H\[K\[12;2H\[1m\[33m11 expect\[m  {\[13;5H    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[14;9H\"yes/no\" {\[14;19H\[K\[15;9H    \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[16;13H\[1m\[33mexp_continue\[m\[16;25H\[K\[17;9H}\[17;13H\[K\[18;9H\[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[19;9H\"password:\" { \[19;23H\[K\[20;9H    \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\"\[21;9H}\[21;13H\[K\[22;5H}\[22;9H\[K\[23;5H\[1m\[33mexpect\[m  {\[24;5H    \"yes/no\" {\[25;9H    \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[26;13H\[1m\[33mexp_continue\[m\[26;25H\[K\[27;9H}\[27;13H\[K\[28;9H\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[29;5H}\[29;9H\[K\[30;1H\[1m\[34m~                                                                                       \[m\[52;18H\[1m\[7m\[+\]\[10;5H\[?12l\[?25h"
send -- "c"
expect -exact "\[?25l\[m\[53;78Hc\[10;5H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[53;78H \[10;5H\[?12l\[?25h\[?25l\[53;78Hci\[10;5H\[?12l\[?25h"
send -- "w"
expect -exact "\[?25l\[53;80Hw\[10;5H\[53;78H   \[10;5H\[53;1H\[1m-- INSERT --\[m\[53;14H\[K\[10;5H -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31m\\\"\[m\"\[11;8H\[K\[10;5H\[?12l\[?25h"
send -- "s"
expect -exact "\[?25ls -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$servee\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31mr\\\"\[m\"\[52;74H\[1m\[7m2 \[10;6H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[mp -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$servv\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31mer\\\"\[m\"\[52;74H\[1m\[7m3 \[10;7H\[?12l\[?25h"
send -- ""
expect -exact "\[?25l\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$servee\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31mr\\\"\[m\"\[11;9H\[K\[52;74H\[1m\[7m2 \[10;6H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[mp -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$servv\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31mer\\\"\[m\"\[52;74H\[1m\[7m3 \[10;7H\[?12l\[?25h"
send -- "a"
expect -exact "\[?25l\[ma -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serr\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31mver\\\"\[m\"\[52;74H\[1m\[7m4 \[10;8H\[?12l\[?25h"
send -- "w"
expect -exact "\[?25l\[mw -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31mrver\\\"\[m\"\[52;74H\[1m\[7m5 \[10;9H\[?12l\[?25h"
send -- "n"
expect -exact "\[?25l\[m\[1m\[33mspawn\[m -- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$ss\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31merver\\\"\[m\"\[52;74H\[1m\[7m6 \[10;10H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[10;10H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[10;10H \[53;1H\[K\[52;74H\[1m\[7m5 \[10;9H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;9H\[53;78H \[10;10H\[52;74H\[1m\[7m6 \[10;10H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;10H\[53;78H \[10;11H\[52;74H\[1m\[7m7 \[10;11H\[?12l\[?25h"
send -- "x"
expect -exact "\[?25l\[m\[53;78Hx\[10;11H\[53;78H \[10;11H\[53;78Hdl\[10;11H\[53;78H  \[10;11H- \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$see\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31mrver\\\"\[m\"\[11;12H\[K\[10;11H\[?12l\[?25h"
send -- "x"
expect -exact "\[?25l\[53;78Hx\[10;11H\[53;78H \[10;11H\[53;78Hdl\[10;11H\[53;78H  \[10;11H \"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serr\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31mver\\\"\[m\"\[11;11H\[K\[10;11H\[?12l\[?25h"
send -- "x"
expect -exact "\[?25l\[53;78Hx\[10;11H\[53;78H \[10;11H\[53;78Hdl\[10;11H\[53;78H  \[10;11H\"ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$servv\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31mer\\\"\[m\"\[11;10H\[K\[10;11H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[53;78Hd\[10;11H\[?12l\[?25h"
send -- "s"
expect -exact "\[?25l\[53;78H \[10;11H\[53;1H\[?12l\[?25h"
send -- "{"
expect -exact "\[10;11H"
send -- "d"
expect -exact "\[?25l\[53;78Hd\[10;11H\[?12l\[?25h"
send -- "s"
expect -exact "\[?25l\[53;78H \[10;11H\[53;1H\[?12l\[?25h"
send -- "\""
expect -exact "\[?25l\[10;11Hssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \\\"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$servee\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31mr\\\"\[m\[11;8H\[K\[12;5Hexpect \[13;9H# first connection, no public key in ~/.ssh/known_hosts\[15;13Hsend \[7C\\r\"\[16;13Hexp_continue\[18;9H# already has public key in ~/.ssh/known_hosts\[20;13Hsend \[13C\\r\"\[23;5Hexpect \[25;13Hsend \[7C\\r\"\[26;13Hexp_continue\[28;23Hsend \[13C\\r\"\[10;11H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[53;78Hl\[10;11H\[53;78H \[10;12H\[52;74H\[1m\[7m8 \[10;12H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;12H\[53;78H \[10;13H\[52;74H\[1m\[7m9 \[10;13H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;13H\[53;78H \[10;14H\[52;74H\[1m\[7m10\[10;14H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;14H\[53;78H \[10;15H\[52;75H\[1m\[7m1 \[10;15H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;15H\[53;78H \[10;16H\[52;75H\[1m\[7m2 \[10;16H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;16H\[53;78H \[10;17H\[52;75H\[1m\[7m3 \[10;17H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;17H\[53;78H \[10;18H\[52;75H\[1m\[7m4 \[10;18H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;18H\[53;78H \[10;19H\[52;75H\[1m\[7m5 \[10;19H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;19H\[53;78H \[10;20H\[52;75H\[1m\[7m6 \[10;20H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;20H\[53;78H \[10;21H\[52;75H\[1m\[7m7 \[10;21H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;21H\[53;78H \[10;22H\[52;75H\[1m\[7m8 \[10;22H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;22H\[53;78H \[10;23H\[52;75H\[1m\[7m9 \[10;23H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;23H\[53;78H \[10;24H\[52;74H\[1m\[7m20 \[10;24H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;24H\[53;78H \[10;25H\[52;75H\[1m\[7m1 \[10;25H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;25H\[53;78H \[10;26H\[52;75H\[1m\[7m2 \[10;26H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;26H\[53;78H \[10;27H\[52;75H\[1m\[7m3 \[10;27H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;27H\[53;78H \[10;28H\[52;75H\[1m\[7m4 \[10;28H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;28H\[53;78H \[10;29H\[52;75H\[1m\[7m5 \[10;29H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;29H\[53;78H \[10;30H\[52;75H\[1m\[7m6 \[10;30H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;30H\[53;78H \[10;31H\[52;75H\[1m\[7m7 \[10;31H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;31H\[53;78H \[10;32H\[52;75H\[1m\[7m8 \[10;32H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;32H\[53;78H \[10;33H\[52;75H\[1m\[7m9 \[10;33H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;33H\[53;78H \[10;34H\[52;74H\[1m\[7m30 \[10;34H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;34H\[53;78H \[10;35H\[52;75H\[1m\[7m1 \[10;35H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;35H\[53;78H \[10;36H\[52;75H\[1m\[7m2 \[10;36H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;36H\[53;78H \[10;37H\[52;75H\[1m\[7m3 \[10;37H\[?12l\[?25h"
send -- "x"
expect -exact "\[?25l\[m\[53;78Hx\[10;37H\[53;78H \[10;37H\[53;78Hdl\[10;37H\[53;78H  \[10;37H\"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[11;1H\[1m\[33m \[m\[3C\[1m\[31m\\\"\[m\[11;7H\[K\[10;37H\[?12l\[?25h"
send -- "f"
expect -exact "\[?25l\[53;78Hf\[10;37H\[?12l\[?25h"
send -- "\\"
expect -exact "\[?25l\[53;79H\\\[10;37H\[53;78H  \[11;5H\[52;74H\[1m\[7m85 \[11;5H\[?12l\[?25h"
send -- "x"
expect -exact "\[?25l\[m\[53;78Hx\[11;5H\[53;78H \[11;5H\[53;78Hdl\[11;5H\[53;78H  \[11;5H\"\[11;6H\[K\[12;5H\[1m\[33mexpect\[m\[13;9H\[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[15;13H\[1m\[33msend\[m\[8C\[1m\[31m\\r\[m\[16;13H\[1m\[33mexp_continue\[m\[18;9H\[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[20;13H\[1m\[33msend\[m\[14C\[1m\[31m\\r\[m\[23;5H\[1m\[33mexpect\[25;13Hsend\[m\[8C\[1m\[31m\\r\[m\[26;13H\[1m\[33mexp_continue\[28;23Hsend\[m\[14C\[1m\[31m\\r\[11;5H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[11;5H\[53;78H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 28L, 619C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\r"
expect -exact "\r
expect version 5.45\r\r
argv\[0\] = expect  argv\[1\] = -d  argv\[2\] = ./copy_ssh_key.exp  argv\[3\] = hadoop  argv\[4\] = onceas  argv\[5\] = 133.133.131.18  argv\[6\] = 133.133.135.34  \r\r
set argc 4\r\r
set argv0 \"./copy_ssh_key.exp\"\r\r
set argv \"hadoop onceas 133.133.131.18 133.133.135.34\"\r\r
executing commands from command file ./copy_ssh_key.exp\r\r
spawn ssh -t hadoop@133.133.131.18 ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\r\r\r
parent: waiting for sync byte\r\r
parent: telling child to go ahead\r\r
parent: now unsynchronized from child\r\r
spawn: returns {27396}\r\r
\r\r
expect: does \"\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
hadoop@133.133.131.18's password: \r\r
expect: does \"hadoop@133.133.131.18's password: \" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? yes\r\r
expect: set expect_out(0,string) \"password:\"\r\r
expect: set expect_out(spawn_id) \"exp7\"\r\r
expect: set expect_out(buffer) \"hadoop@133.133.131.18's password:\"\r\r
send: sending \"onceas\\r\" to { exp7 }\r\r
\r\r
expect: does \" \" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
\r\r
\r\r
expect: does \" \\r\\n\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\r\r
\r\r
expect: does \" \\r\\n/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\\r\\n\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\r\r
\r\r
expect: does \" \\r\\n/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\\r\\n/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\\r\\n\" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? no\r\r
hadoop@133.133.135.34's password: \r\r
expect: does \" \\r\\n/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\\r\\n/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\\r\\nhadoop@133.133.135.34's password: \" (spawn_id exp7) match glob pattern \"yes/no\"? no\r\r
\"password:\"? yes\r\r
expect: set expect_out(0,string) \"password:\"\r\r
expect: set expect_out(spawn_id) \"exp7\"\r\r
expect: set expect_out(buffer) \" \\r\\n/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\\r\\n/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\\r\\nhadoop@133.133.135.34's password:\"\r\r
send: sending \"onceas\\r\" to { exp7 }\r\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 28L, 619C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[mset timeout -1\r
\[1m\[33m 10 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[11;1H\[1m\[33m    \[m\"\r
\[1m\[33m 11 expect\[m  {\r
\[1m\[33m 12 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 13 \[m    \"yes/no\" {\r
\[1m\[33m 14 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 15 \[8Cexp_continue\r
 16 \[m    }\r
\[1m\[33m 17 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 18 \[m    \"password:\" {\r
\[1m\[33m 19 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 20 \[m    }\r
\[1m\[33m 21 \[m}\r
\[1m\[33m 22 expect\[m  {\r
\[1m\[33m 23 \[m    \"yes/no\" {\r
\[1m\[33m 24 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 25 \[8Cexp_continue\r
 26 \[m    }\r
\[1m\[33m 27 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 28 \[m}\r
\[1m\[34m~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      10,1           All\[10;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[53;81H>\[10;5H\[?12l\[?25h\[?25l\[53;78H    \[10;5H\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[53;81H>\[10;5H\[53;82H0\[10;5H\[53;83H;\[10;5H\[?12l\[?25h\[?25l\[53;78H      \[10;5H\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[53;81H>\[10;5H\[53;82H0\[10;5H\[53;83H;\[10;5H\[53;84H1\[10;5H\[?12l\[?25h\[?25l\[53;78H       \[10;5H\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[53;81H>\[10;5H\[53;82H0\[10;5H\[53;83H;\[10;5H\[53;84H1\[10;5H\[53;85H3\[10;5H\[53;86H6\[10;5H\[?12l\[?25h\[?25l\[53;78H         \[10;5H\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[53;81H>\[10;5H\[53;82H0\[10;5H\[53;83H;\[10;5H\[53;84H1\[10;5H\[53;85H3\[10;5H\[53;86H6\[10;5H\[53;87H;\[10;5H\[?12l\[?25h\[?25l\[53;78H          \[10;5H\[53;78H^\[\[10;5H\[53;80H\[\[10;5H\[53;81H>\[10;5H\[53;82H0\[10;5H\[53;83H;\[10;5H\[53;84H1\[10;5H\[53;85H3\[10;5H\[53;86H6\[10;5H\[53;87H;\[10;5H\[53;78H\[\[>0;136;0\[10;5H\[?12l\[?25h\[?25l\[53;78H          \[10;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78Hk\[10;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,1  \[9;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[9;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[8;5H\[53;78H \[7;5H\[52;71H\[1m\[7m7,1   \[7;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[7;5H\[53;78H \[6;5H\[52;71H\[1m\[7m6,\[6;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[6;5H\[53;78H \[5;5H\[52;71H\[1m\[7m5,\[5;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[5;5H\[53;78H \[4;5H\[52;71H\[1m\[7m4,\[4;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[4;5H\[53;78H \[3;5H\[52;71H\[1m\[7m3,\[3;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[3;5H\[53;78H \[4;5H\[52;71H\[1m\[7m4,\[4;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[4;5H\[53;78H \[5;5H\[52;71H\[1m\[7m5,\[5;5H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[5;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 28L, 619C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- "\[1~"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact "xpect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.\[1P133.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact "pect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.1\[1P33.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact "ect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.13\[C\[1P.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact "ct -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133\[1P.135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact "t -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.\[1P135.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact " -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.1\[1P35.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact "-d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.13\[1P5.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact "d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135\[1P.34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact " ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.\[1P34\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[3~"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\[1P4\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\r\r
spawn ssh -t hadoop@133.133.131.18 ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\r\r\r
hadoop@133.133.131.18's password: \r\r
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\r\r
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\r\r
hadoop@133.133.135.34's password: \]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\[A"
expect -exact "expect -d ./copy_ssh_key.exp hadoop onceas 133.133.131.18 133\r3.133.135.34"
send -- ""
expect -exact "^C\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 28L, 619C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[mset timeout -1\r
\[1m\[33m 10 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$serverr\[m\[11;1H\[1m\[33m    \[m\"\r
\[1m\[33m 11 expect\[m  {\r
\[1m\[33m 12 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 13 \[m    \"yes/no\" {\r
\[1m\[33m 14 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 15 \[8Cexp_continue\r
 16 \[m    }\r
\[1m\[33m 17 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 18 \[m    \"password:\" {\r
\[1m\[33m 19 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 20 \[m    }\r
\[1m\[33m 21 \[m}\r
\[1m\[33m 22 expect\[m  {\r
\[1m\[33m 23 \[m    \"yes/no\" {\r
\[1m\[33m 24 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 25 \[8Cexp_continue\r
 26 \[m    }\r
\[1m\[33m 27 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 28 \[m}\r
\[1m\[34m~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      5,1            All\[5;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[5;5H\[53;80H\[\[5;5H\[53;81H>\[5;5H\[?12l\[?25h\[?25l\[53;78H    \[5;5H\[53;78H^\[\[5;5H\[53;80H\[\[5;5H\[53;81H>\[5;5H\[53;82H0\[5;5H\[?12l\[?25h\[?25l\[53;78H     \[5;5H\[53;78H^\[\[5;5H\[53;80H\[\[5;5H\[53;81H>\[5;5H\[53;82H0\[5;5H\[53;83H;\[5;5H\[53;84H1\[5;5H\[?12l\[?25h\[?25l\[53;78H       \[5;5H\[53;78H^\[\[5;5H\[53;80H\[\[5;5H\[53;81H>\[5;5H\[53;82H0\[5;5H\[53;83H;\[5;5H\[53;84H1\[5;5H\[53;85H3\[5;5H\[?12l\[?25h\[?25l\[53;78H        \[5;5H\[53;78H^\[\[5;5H\[53;80H\[\[5;5H\[53;81H>\[5;5H\[53;82H0\[5;5H\[53;83H;\[5;5H\[53;84H1\[5;5H\[53;85H3\[5;5H\[53;86H6\[5;5H\[?12l\[?25h\[?25l\[53;78H         \[5;5H\[53;78H^\[\[5;5H\[53;80H\[\[5;5H\[53;81H>\[5;5H\[53;82H0\[5;5H\[53;83H;\[5;5H\[53;84H1\[5;5H\[53;85H3\[5;5H\[53;86H6\[5;5H\[53;87H;\[5;5H\[?12l\[?25h\[?25l\[53;78H          \[5;5H\[53;78H^\[\[5;5H\[53;80H\[\[5;5H\[53;81H>\[5;5H\[53;82H0\[5;5H\[53;83H;\[5;5H\[53;84H1\[5;5H\[53;85H3\[5;5H\[53;86H6\[5;5H\[53;87H;\[5;5H\[53;78H\[\[>0;136;0\[5;5H\[?12l\[?25h\[?25l\[53;78H          \[5;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[5;5H\[53;78H \[6;5H\[52;71H\[1m\[7m6,\[6;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[6;5H\[53;78H \[7;5H\[52;71H\[1m\[7m7,\[7;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[7;5H\[53;78H \[8;5H\[52;71H\[1m\[7m8,0-1\[8;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[8;5H\[53;78H \[9;5H\[52;71H\[1m\[7m9,1   \[9;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[9;5H\[53;78H \[10;5H\[52;71H\[1m\[7m10,1\[10;5H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;5H\[53;78H \[10;6H\[52;74H\[1m\[7m2 \[10;6H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;6H\[53;78H \[10;7H\[52;74H\[1m\[7m3 \[10;7H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;7H\[53;78H \[10;8H\[52;74H\[1m\[7m4 \[10;8H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;8H\[53;78H \[10;9H\[52;74H\[1m\[7m5 \[10;9H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;9H\[53;78H \[10;10H\[52;74H\[1m\[7m6 \[10;10H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;10H\[53;78H \[10;11H\[52;74H\[1m\[7m7 \[10;11H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;11H\[53;78H \[10;12H\[52;74H\[1m\[7m8 \[10;12H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;12H\[53;78H \[10;13H\[52;74H\[1m\[7m9 \[10;13H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;13H\[53;78H \[10;14H\[52;74H\[1m\[7m10\[10;14H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;14H\[53;78H \[10;15H\[52;75H\[1m\[7m1 \[10;15H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;15H\[53;78H \[10;16H\[52;75H\[1m\[7m2 \[10;16H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;16H\[53;78H \[10;17H\[52;75H\[1m\[7m3 \[10;17H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;17H\[53;78H \[10;18H\[52;75H\[1m\[7m4 \[10;18H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;18H\[53;78H \[10;19H\[52;75H\[1m\[7m5 \[10;19H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;19H\[53;78H \[10;20H\[52;75H\[1m\[7m6 \[10;20H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;20H\[53;78H \[10;21H\[52;75H\[1m\[7m7 \[10;21H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;21H\[53;78H \[10;22H\[52;75H\[1m\[7m8 \[10;22H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;22H\[53;78H \[10;23H\[52;75H\[1m\[7m9 \[10;23H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;23H\[53;78H \[10;24H\[52;74H\[1m\[7m20 \[10;24H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;24H\[53;78H \[10;25H\[52;75H\[1m\[7m1 \[10;25H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;25H\[53;78H \[10;26H\[52;75H\[1m\[7m2 \[10;26H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;26H\[53;78H \[10;27H\[52;75H\[1m\[7m3 \[10;27H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;27H\[53;78H \[10;28H\[52;75H\[1m\[7m4 \[10;28H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;28H\[53;78H \[10;29H\[52;75H\[1m\[7m5 \[10;29H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;29H\[53;78H \[10;30H\[52;75H\[1m\[7m6 \[10;30H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;30H\[53;78H \[10;31H\[52;75H\[1m\[7m7 \[10;31H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;31H\[53;78H \[10;32H\[52;75H\[1m\[7m8 \[10;32H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;32H\[53;78H \[10;33H\[52;75H\[1m\[7m9 \[10;33H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;33H\[53;78H \[10;34H\[52;74H\[1m\[7m30 \[10;34H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;34H\[53;78H \[10;35H\[52;75H\[1m\[7m1 \[10;35H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;35H\[53;78H \[10;36H\[52;75H\[1m\[7m2 \[10;36H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;36H\[53;78H \[10;37H\[52;75H\[1m\[7m3 \[10;37H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[10;37H\[53;78H \[10;38H\[52;75H\[1m\[7m4 \[10;38H\[?12l\[?25h"
send -- "h"
expect -exact "\[?25l\[m\[53;78Hh\[10;38H\[53;78H \[10;37H\[52;75H\[1m\[7m3 \[10;37H\[?12l\[?25h"
send -- "D"
expect -exact "\[?25l\[m\[53;78HD\[10;37H\[53;78H \[10;37H\[53;78Hd\$\[10;37H\[53;78H  \[10;36H\[10;51r\[51;1H\r
\[1;53r\[10;2H\[1m\[33m10 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m\[51;1H\[1m\[34m~                                                                                       \[m\[52;18H\[1m\[7m\[+\]\[54C2 \[m\[53;1H\[K\[10;36H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[10;36H\[53;78H \[11;13H\[46m{\[21;5H}\[m\[52;72H\[1m\[7m1,9  \[11;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[11;13H\[53;78H \[12;36H\[11;13H{\[21;5H}\[52;72H\[1m\[7m2,32\[12;36H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[12;36H\[53;78H \[13;18H\[46m{\[16;9H}\[m\[52;72H\[1m\[7m3,14 \[13;18H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[13;18H\[53;78H \[14;27H\[13;18H{\[16;9H}\[52;72H\[1m\[7m4,23 \[14;27H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[14;27H\[53;78H \[15;24H\[52;72H\[1m\[7m5,20 \[15;24H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[15;24H\[53;78H \[16;9H\[13;18H\[46m{\[16;9H}\[m\[52;72H\[1m\[7m6,5  \[16;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[16;9H\[53;78H \[17;36H\[13;18H{\[16;9H}\[52;72H\[1m\[7m7,32\[17;36H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[17;36H\[53;78H \[18;22H\[52;72H\[1m\[7m8,18 \[18;22H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[18;22H\[53;78H \[19;34H\[52;72H\[1m\[7m9,30 \[19;34H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[19;34H\[53;78H \[20;9H\[18;21H\[46m{\[20;9H}\[m\[52;71H\[1m\[7m20,5  \[20;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[20;9H\[53;78H \[21;5H\[11;13H\[46m{\[m\[18;21H{\[20;9H}\[21;5H\[46m}\[m\[52;72H\[1m\[7m1,1 \[21;5H\[?12l\[?25h"
send -- "o"
expect -exact "\[?25l\[m\[53;78Ho\[21;5H\[53;78H \[22;5H\[53;1H\[1m-- INSERT --\[m\[22;5H\[K\[23;5H\[1m\[33mexpect\[m  {\[23;14H\[K\[24;9H\"yes/no\" {\[24;19H\[K\[25;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[26;9H    \[1m\[33mexp_continue\[m\[27;9H}\[27;10H\[K\[28;5H    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 29 \[m}\[29;6H\[K\[11;13H{\[21;5H}\[52;72H\[1m\[7m2,\[22;5H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[mp\[52;74H\[1m\[7m2 \[22;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[22;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[22;6H \[53;1H\[K\[52;74H\[1m\[7m1 \[22;5H\[?12l\[?25h"
send -- "u"
expect -exact "\[?25l\[m\[53;78Hu\[22;5H\[53;1H1 line less; before #2  1 seconds ago\[53;78H\[K\[21;5H\[11;13H\[46m{\[21;5H}\[m\[22;5H\[1m\[33mexpect\[m  {\[23;5H    \"yes/no\" {\[24;9H    \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[25;13H\[1m\[33mexp_continue\[m\[25;25H\[K\[26;9H}\[26;13H\[K\[27;9H\"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[28;5H}\[28;9H\[K\[29;1H\[1m\[34m~                                                                                       \[m\[52;72H\[1m\[7m1,\[21;5H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[m\[53;78Hp\[21;5H\[53;78H \[21;58H\[11;13H{\[21;5H}\"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\[m\"\[52;74H\[1m\[7m54\[21;58H\[?12l\[?25h"
send -- "u"
expect -exact "\[?25l\[m\[53;78Hu\[21;58H\[53;3Hchange; before #3  1 seconds ago\[53;35H\[K\[21;5H\[11;13H\[46m{\[21;5H}\[m\[21;6H\[K\[52;74H\[1m\[7m1  \[21;5H\[?12l\[?25h"
send -- "o"
expect -exact "\[?25l\[m\[53;78Ho\[21;5H\[53;78H \[22;5H\[53;1H\[1m-- INSERT --\[m\[53;13H\[K\[22;5H\[K\[23;5H\[1m\[33mexpect\[m  {\[23;14H\[K\[24;9H\"yes/no\" {\[24;19H\[K\[25;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[26;9H    \[1m\[33mexp_continue\[m\[27;9H}\[27;10H\[K\[28;5H    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 29 \[m}\[29;6H\[K\[11;13H{\[21;5H}\[52;72H\[1m\[7m2,\[22;5H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[mp\[52;74H\[1m\[7m2 \[22;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[22;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[22;6H \[53;1H\[K\[52;74H\[1m\[7m1 \[22;5H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[m\[53;78Hp\[22;5H\[53;78H \[22;58H\[22;6H\"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\[m\"\[52;74H\[1m\[7m54\[22;58H\[?12l\[?25h"
send -- "^"
expect -exact "\[?25l\[m\[53;78H^\[22;58H\[53;78H \[22;5H\[52;74H\[1m\[7m1  \[22;5H\[?12l\[?25h"
send -- "c"
expect -exact "\[?25l\[m\[53;78Hc\[22;5H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[53;78H \[22;5H\[?12l\[?25h\[?25l\[53;78Hcl\[22;5H\[53;78H  \[22;5H\[53;1H\[1m-- INSERT --\[m\[22;5H\"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\[m\"\[22;58H\[K\[22;5H\[?12l\[?25h"
send -- "s"
expect -exact "\[?25ls\"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\[m\"\[52;74H\[1m\[7m2 \[22;6H\[?12l\[?25h"
send -- "e"
expect -exact "\[?25l\[me\"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\[m\"\[52;74H\[1m\[7m3 \[22;7H\[?12l\[?25h"
send -- "n"
expect -exact "\[?25l\[mn\"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\[m\"\[52;74H\[1m\[7m4 \[22;8H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[1m\[33msend\[m\"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\[m\"\[52;74H\[1m\[7m5 \[22;9H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\[m\"\[52;74H\[1m\[7m6 \[22;10H\[?12l\[?25h"
send -- "-"
expect -exact "\[?25l\[m-\"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\[m\"\[52;74H\[1m\[7m7 \[22;11H\[?12l\[?25h"
send -- "-"
expect -exact "\[?25l\[m-\"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\[m\"\[52;74H\[1m\[7m8 \[22;12H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[m \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\[m\"\[52;74H\[1m\[7m9 \[22;13H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[22;13H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[22;13H\"\[53;1H\[K\[52;74H\[1m\[7m8 \[22;12H\[?12l\[?25h"
send -- "f"
expect -exact "\[?25l\[m\[53;78Hf\[22;12H\[?12l\[?25h"
send -- "\""
expect -exact "\[?25l\[53;79H\"\[22;12H\[53;78H  \[22;13H\[52;74H\[1m\[7m9 \[22;13H\[?12l\[?25h"
send -- ";"
expect -exact "\[?25l\[m\[53;78H;\[22;13H\[53;78H \[22;65H\[52;74H\[1m\[7m61\[22;65H\[?12l\[?25h"
send -- "i"
expect -exact "\[?25l\[m\[53;78Hi\[22;65H\[53;78H \[22;65H\[53;1H\[1m-- INSERT --\[22;65H\[?12l\[?25h"
send -- "\\"
expect -exact "\[?25l\[m\[1m\[31m\\\"\[m\[23;5Hexpect \[25;13Hsend \[7C\\r\"\[26;13Hexp_continue\[28;23Hsend \[13C\\r\"\[52;75H\[1m\[7m2 \[22;66H\[?12l\[?25h"
send -- "r"
expect -exact "\[?25l\[m\[1m\[31mr\[m\"\[23;5H\[1m\[33mexpect\[25;13Hsend\[m\[8C\[1m\[31m\\r\[m\[26;13H\[1m\[33mexp_continue\[28;23Hsend\[m\[14C\[1m\[31m\\r\[m\[52;75H\[1m\[7m3 \[22;67H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[22;67H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[22;67H\"\[53;1H\[K\[52;75H\[1m\[7m2 \[22;66H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[22;66H\[53;78H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 29L, 630C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\r"
expect -exact "\r
spawn ssh -t hadoop@133.133.131.18\r\r\r
hadoop@133.133.131.18's password: \r\r
Last login: Fri Dec 30 20:39:06 2016 from hadoop-slave2\r\r\r
\]0;hadoop@hadoop-slave3:~\[?1034h\[hadoop@hadoop-slave3 ~\]\$ "
send -- ""
expect -exact "^C\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 29L, 630C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[mset timeout -1\r
\[1m\[33m 10 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m\r
\[1m\[33m 11 expect\[m  {\r
\[1m\[33m 12 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 13 \[m    \"yes/no\" {\r
\[1m\[33m 14 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 15 \[8Cexp_continue\r
 16 \[m    }\r
\[1m\[33m 17 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 18 \[m    \"password:\" {\r
\[1m\[33m 19 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 20 \[m    }\r
\[1m\[33m 21 \[m}\r
\[1m\[33m 22 send\[m -- \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\\r\[m\"\r
\[1m\[33m 23 expect\[m  {\r
\[1m\[33m 24 \[m    \"yes/no\" {\r
\[1m\[33m 25 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 26 \[8Cexp_continue\r
 27 \[m    }\r
\[1m\[33m 28 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 29 \[m}\r
\[1m\[34m~                                                                                       \[31;1H~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      22,1           All\[22;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[22;5H\[53;80H\[\[22;5H\[53;81H>\[22;5H\[?12l\[?25h\[?25l\[53;78H    \[22;5H\[53;78H^\[\[22;5H\[53;80H\[\[22;5H\[53;81H>\[22;5H\[53;82H0\[22;5H\[53;83H;\[22;5H\[?12l\[?25h\[?25l\[53;78H      \[22;5H\[53;78H^\[\[22;5H\[53;80H\[\[22;5H\[53;81H>\[22;5H\[53;82H0\[22;5H\[53;83H;\[22;5H\[53;84H1\[22;5H\[?12l\[?25h\[?25l\[53;78H       \[22;5H\[53;78H^\[\[22;5H\[53;80H\[\[22;5H\[53;81H>\[22;5H\[53;82H0\[22;5H\[53;83H;\[22;5H\[53;84H1\[22;5H\[53;85H3\[22;5H\[?12l\[?25h\[?25l\[53;78H        \[22;5H\[53;78H^\[\[22;5H\[53;80H\[\[22;5H\[53;81H>\[22;5H\[53;82H0\[22;5H\[53;83H;\[22;5H\[53;84H1\[22;5H\[53;85H3\[22;5H\[53;86H6\[22;5H\[?12l\[?25h\[?25l\[53;78H         \[22;5H\[53;78H^\[\[22;5H\[53;80H\[\[22;5H\[53;81H>\[22;5H\[53;82H0\[22;5H\[53;83H;\[22;5H\[53;84H1\[22;5H\[53;85H3\[22;5H\[53;86H6\[22;5H\[53;87H;\[22;5H\[?12l\[?25h\[?25l\[53;78H          \[22;5H\[53;78H^\[\[22;5H\[53;80H\[\[22;5H\[53;81H>\[22;5H\[53;82H0\[22;5H\[53;83H;\[22;5H\[53;84H1\[22;5H\[53;85H3\[22;5H\[53;86H6\[22;5H\[53;87H;\[22;5H\[53;78H\[\[>0;136;0\[22;5H\[?12l\[?25h\[?25l\[53;78H          \[22;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- "O"
expect -exact "\[?25l\[53;78HO\[22;5H\[53;78H \[22;5H\[53;1H\[1m-- INSERT --\[m\[53;13H\[K\[22;5H\[K\[23;5H\[1m\[33msend\[m -- \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\\r\[m\"\[24;5H\[1m\[33mexpect\[m  {\[24;14H\[K\[25;9H\"yes/no\" {\[25;19H\[K\[26;13H\[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[27;9H    \[1m\[33mexp_continue\[m\[28;9H}\[28;10H\[K\[29;5H    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 30 \[m}\[30;6H\[K\[52;18H\[1m\[7m\[+\]\[22;5H\[?12l\[?25h"
send -- "e"
expect -exact "\[?25l\[me\[52;74H\[1m\[7m2 \[22;6H\[?12l\[?25h"
send -- "x"
expect -exact "\[?25l\[mx\[52;74H\[1m\[7m3 \[22;7H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[mp\[52;74H\[1m\[7m4 \[22;8H\[?12l\[?25h"
send -- "e"
expect -exact "\[?25l\[me\[52;74H\[1m\[7m5 \[22;9H\[?12l\[?25h"
send -- "c"
expect -exact "\[?25l\[mc\[52;74H\[1m\[7m6 \[22;10H\[?12l\[?25h"
send -- "t"
expect -exact "\[?25l\[m\[1m\[33mexpect\[m\[52;74H\[1m\[7m7 \[22;11H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[52;74H8 \[22;12H\[?12l\[?25h"
send -- "\""
expect -exact "\[?25l\[m\"\"\[52;74H\[1m\[7m9 \[22;13H\[?12l\[?25h"
send -- "\$"
expect -exact "\[?25l\[m\$\"\[52;74H\[1m\[7m10\[22;14H\[?12l\[?25h"
send -- " "
expect -exact "\[?25l\[m \"\[52;75H\[1m\[7m1 \[22;15H\[?12l\[?25h"
send -- "j"
expect -exact "\[mj\[?25l\[53;78Hj\[22;15H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[53;78H \[22;15H\"\[53;1H\[K\[52;75H\[1m\[7m0 \[22;14H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[22;14H\[53;78H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 30L, 642C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "vim copy_ssh_key.exp "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\r"
expect -exact "\r
spawn ssh -t hadoop@133.133.131.18\r\r\r
hadoop@133.133.131.18's password: \r\r
Last login: Fri Dec 30 20:40:21 2016 from hadoop-slave2\r\r\r
\]0;hadoop@hadoop-slave3:~\[?1034h\[hadoop@hadoop-slave3 ~\]\$ ssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@133.133.135.34\r\r
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed\r\r
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys\r\r
hadoop@133.133.135.34's password: \]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "\[A"
expect -exact "./copy_ssh_key.exp hadoop onceas 133.133.131.18 133.133.135.3\r34"
send -- "\[A"
expect -exact "\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[39Pvim copy_ssh_key.exp \r
\r\[K\[A\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C\[C"
send -- "\r"
expect -exact "\r
\[?1000h\[?1049h\[?1h=\[2;1Hâ–½\[6n\[1;1H  \[1;1H\[1;53r\[?12;25h\[?12l\[?25h\[27m\[m\[H\[2J\[?25l\[53;1H\"copy_ssh_key.exp\" 30L, 642C"
send -- "\[2;2R"
expect -exact "\[>c\[1;1H\[1m\[33m  1 \[m\[1m\[34m#!/usr/bin/expect\[m\r
\[1m\[33m  2 \r
  3 \[m\[1m\[36m#exp_internal 1\[m\r
\[1m\[33m  4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\r
\[1m\[33m  5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\r
\[1m\[33m  6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\r
\[1m\[33m  7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\r
\[1m\[33m  8 \r
  9 \[mset timeout -1\r
\[1m\[33m 10 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m\r
\[1m\[33m 11 expect\[m  {\r
\[1m\[33m 12 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 13 \[m    \"yes/no\" {\r
\[1m\[33m 14 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 15 \[8Cexp_continue\r
 16 \[m    }\r
\[1m\[33m 17 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\r
\[1m\[33m 18 \[m    \"password:\" {\r
\[1m\[33m 19 \[8Csend\[m -- \"\[1m\[31m\$password\\r\[m\"\r
\[1m\[33m 20 \[m    }\r
\[1m\[33m 21 \[m}\r
\[1m\[33m 22 expect\[m \"\$ \"\r
\[1m\[33m 23 send\[m -- \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\\r\[m\"\r
\[1m\[33m 24 expect\[m  {\r
\[1m\[33m 25 \[m    \"yes/no\" {\r
\[1m\[33m 26 \[8Csend\[m -- \"yes\[1m\[31m\\r\[m\"\r
\[1m\[33m 27 \[8Cexp_continue\r
 28 \[m    }\r
\[1m\[33m 29 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\r
\[1m\[33m 30 \[m}\r
\[1m\[34m~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp                                                      22,1           All\[22;5H\[?12l\[?25h"
send -- "\[>0;136;0c"
expect -exact "\[?25l\[m\[53;78H^\[\[22;5H\[53;80H\[\[22;5H\[53;81H>\[22;5H\[?12l\[?25h\[?25l\[53;78H    \[22;5H\[53;78H^\[\[22;5H\[53;80H\[\[22;5H\[53;81H>\[22;5H\[53;82H0\[22;5H\[53;83H;\[22;5H\[?12l\[?25h\[?25l\[53;78H      \[22;5H\[53;78H^\[\[22;5H\[53;80H\[\[22;5H\[53;81H>\[22;5H\[53;82H0\[22;5H\[53;83H;\[22;5H\[53;84H1\[22;5H\[?12l\[?25h\[?25l\[53;78H       \[22;5H\[53;78H^\[\[22;5H\[53;80H\[\[22;5H\[53;81H>\[22;5H\[53;82H0\[22;5H\[53;83H;\[22;5H\[53;84H1\[22;5H\[53;85H3\[22;5H\[?12l\[?25h\[?25l\[53;78H        \[22;5H\[53;78H^\[\[22;5H\[53;80H\[\[22;5H\[53;81H>\[22;5H\[53;82H0\[22;5H\[53;83H;\[22;5H\[53;84H1\[22;5H\[53;85H3\[22;5H\[53;86H6\[22;5H\[?12l\[?25h\[?25l\[53;78H         \[22;5H\[53;78H^\[\[22;5H\[53;80H\[\[22;5H\[53;81H>\[22;5H\[53;82H0\[22;5H\[53;83H;\[22;5H\[53;84H1\[22;5H\[53;85H3\[22;5H\[53;86H6\[22;5H\[53;87H;\[22;5H\[?12l\[?25h\[?25l\[53;78H          \[22;5H\[?1000l\[?1002h\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[53;78H:\[22;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "e"
expect -exact "e\[?25l\[?12l\[?25h"
send -- " "
expect -exact "\[?25l \[?12l\[?25h"
send -- "s"
expect -exact "s\[?25l\[?12l\[?25h"
send -- "c"
expect -exact "c\[?25l\[?12l\[?25h"
send -- "	"
expect -exact "...\[?25lript.exp\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\"script.exp\" \[noeol\] 6310L, 585728C\[1;3H\[1m\[33m21 \[m              ;\[1m\[36m# script wasn't run conservatively originally\[m\[2;4H\[1m\[33m2 \[mif {\[1m\[31m\$force_conservative\[m} {\[3;3H\[1m\[33m23 \[m    set send_slow {1 .1}\[4;3H\[1m\[33m24 \[m    proc \[1m\[33msend\[m {ignore arg} {\[4;34H\[K\[5;3H\[1m\[33m25 \[m        \[1m\[33msleep\[m .1\[5;22H\[K\[6;3H\[1m\[33m26 \[m        exp_send -s -- \[1m\[31m\$arg\[m\[7;3H\[1m\[33m27 \[m    }\[7;11H\[K\[8;3H\[1m\[33m28 \[m}\[9;3H\[1m\[33m29 \[m\[9;6H\[K\[10;2H\[1m\[33m 30 \[m\[1m\[36m#\[m\[10;7H\[K\[11;2H\[1m\[33m 31 \[m\[1m\[36m# 2) differing output - Some programs produce different output each time\[m\[12;2H\[1m\[33m 32 \[m\[1m\[36m# they run.  The \"date\" command is an obvious example.  Another is\[m\[13;2H\[1m\[33m 33 \[m\[1m\[36m# ftp, if it produces throughput statistics at the end of a file\[m\[14;2H\[1m\[33m 34 \[m\[1m\[36m# transfer.  If this causes a problem, delete these patterns or replace\[m\[15;2H\[1m\[33m 35 \[m\[1m\[36m# them with wildcards.  An alternative is to use the -p flag (for\[m\[16;2H\[1m\[33m 36 \[m\[1m\[36m# \"prompt\") which makes Expect only look for the last line of output\[m\[17;2H\[1m\[33m 37 \[m\[1m\[36m# (i.e., the prompt).  The -P flag allows you to define a character to\[m\[18;2H\[1m\[33m 38 \[m\[1m\[36m# toggle this mode off and on.\[m\[19;2H\[1m\[33m 39 \[m\[1m\[36m#\[m\[19;13H\[K\[20;2H\[1m\[33m 40 \[m\[1m\[36m# Read the man page for more info.\[m\[21;2H\[1m\[33m 41 \[m\[1m\[36m#\[m\[22;2H\[1m\[33m 42 \[m\[1m\[36m# -Don\[m\[22;12H\[K\[23;2H\[1m\[33m 43 \[m\[23;6H\[K\[24;2H\[1m\[33m 44 \[m\[24;6H\[K\[25;2H\[1m\[33m 45 \[mset timeout -1\[26;2H\[1m\[33m 46 spawn\[m \[1m\[31m\$env\[m(SHELL)\[26;23H\[K\[27;2H\[1m\[33m 47 match_max\[m 100000\[27;22H\[K\[28;2H\[1m\[33m 48 expect\[m -exact \"\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G^\[\[m\[1m\[31m\\\[\[m??\[29;1H\[1m\[33m     \[m1034h\[1m\[31m\\\[\[mroot@hadoop-slave2 tools\[1m\[31m\\\]\[m# \"\[29;42H\[K\[30;2H\[1m\[33m 49 send\[m -- \"ssh hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-keygen\[1m\[31m\\\"\[m\"\r
\[1m\[33m  50 expect\[m -exact \"ssh hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-keygen\[1m\[31m\\\"\[m\"\[31;62H\[K\[32;1H\[1m\[33m  51 send\[m -- \"\[1m\[31m\\r\[m\"\[32;18H\[K\[33;1H\[1m\[33m  52 expect\[m -exact \"\[1m\[31m\\r\[m\[33;23H\[K\[34;1H\[1m\[33m  53 \[mhadoop@133.133.131.18's password: \"\[34;41H\[K\[35;1H\[1m\[33m  54 send\[m -- \"o\[1m\[34m^H\[monceonceas\[1m\[31m\\r\[m\"\[35;31H\[K\[36;1H\[1m\[33m  55 expect\[m -exact \"\[1m\[31m\\r\[m\[36;23H\[K\[37;1H\[1m\[33m  56 \[mPermission denied, please try again.\[1m\[31m\\r\\r\[m\[37;46H\[K\[38;1H\[1m\[33m  57 \[mhadoop@133.133.131.18's password: \"\[38;41H\[K\[39;1H\[1m\[33m  58 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[39;24H\[K\[40;1H\[1m\[33m  59 expect\[m -exact \"\[1m\[31m\\r\[m\[40;23H\[K\[41;1H\[1m\[33m  60 \[mEnter file in which to save the key (/home/hadoop/.ssh/id_rsa): \"\[41;71H\[K\[42;1H\[1m\[33m  61 send\[m -- \"\[1m\[31m\\r\[m\"\[42;18H\[K\[43;1H\[1m\[33m  62 expect\[m -exact \"\[1m\[31m\\r\[m\[43;23H\[K\[44;1H\[1m\[33m  63 \[mEnter passphrase (empty for no passphrase): \"\[44;51H\[K\[45;1H\[1m\[33m  64 send\[m -- \"\[1m\[31m\\r\[m\"\[45;18H\[K\[46;1H\[1m\[33m  65 expect\[m -exact \"\[1m\[31m\\r\[m\[46;23H\[K\[47;1H\[1m\[33m  66 \[mEnter same passphrase again: \"\[47;36H\[K\[48;1H\[1m\[33m  67 send\[m -- \"\[1m\[31m\\r\[m\"\[48;18H\[K\[49;1H\[1m\[33m  68 expect\[m -exact \"\[1m\[31m\\r\[m\[49;23H\[K\[50;1H\[1m\[33m  69 \[mGenerating public/private rsa key pair.\[1m\[31m\\r\[m\[50;47H\[K\[51;1H\[1m\[33m  70 \[mCreated directory '/home/hadoop/.ssh'.\[1m\[31m\\r\[m\[51;46H\[K\[52;1H\[1m\[7mscript.expe       \[53C46,\[12C 0%\[26;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;6H\[53;78H \[27;6H\[52;72H\[1m\[7m7,\[27;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[27;6H\[53;78H \[28;6H\[52;72H\[1m\[7m8,\[28;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[28;6H\[53;78H \[30;6H\[52;72H\[1m\[7m9,\[30;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[30;6H\[53;78H \[31;6H\[52;71H\[1m\[7m50,\[31;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[31;6H\[53;78H \[32;6H\[52;72H\[1m\[7m1,\[32;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[32;6H\[53;78H \[33;6H\[52;72H\[1m\[7m2,\[33;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[33;6H\[53;78H \[34;6H\[52;72H\[1m\[7m3,\[34;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[34;6H\[53;78H \[35;6H\[52;72H\[1m\[7m4,\[35;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[35;6H\[53;78H \[36;6H\[52;72H\[1m\[7m5,\[36;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[36;6H\[53;78H \[37;6H\[52;72H\[1m\[7m6,\[37;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[37;6H\[53;78H \[38;6H\[52;72H\[1m\[7m7,\[38;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[38;6H\[53;78H \[39;6H\[52;72H\[1m\[7m8,\[39;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[39;6H\[53;78H \[40;6H\[52;72H\[1m\[7m9,\[40;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[40;6H\[53;78H \[41;6H\[52;71H\[1m\[7m60,\[41;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[41;6H\[53;78H \[42;6H\[52;72H\[1m\[7m1,\[42;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[42;6H\[53;78H \[43;6H\[52;72H\[1m\[7m2,\[43;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[43;6H\[53;78H \[44;6H\[52;72H\[1m\[7m3,\[44;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[44;6H\[53;78H \[45;6H\[52;72H\[1m\[7m4,\[45;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[45;6H\[53;78H \[46;6H\[52;72H\[1m\[7m5,\[46;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[46;6H\[53;78H \[47;6H\[52;72H\[1m\[7m6,\[47;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[47;6H\[53;78H \[48;6H\[52;72H\[1m\[7m7,\[48;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[48;6H\[53;78H \[49;6H\[52;72H\[1m\[7m8,\[49;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[49;6H\[53;78H \[50;6H\[52;72H\[1m\[7m9,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[51;6H\[52;71H\[1m\[7m70,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  71 \[mYour identification has been saved in /home/hadoop/.ssh/id_rsa.\[1m\[31m\\r\[m\[53;1H\[K\[52;72H\[1m\[7m1,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  72 \[mYour public key has been saved in /home/hadoop/.ssh/id_rsa.pub.\[1m\[31m\\r\[m\[52;72H\[1m\[7m2,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  73 \[mThe key fingerprint is:\[1m\[31m\\r\[m\[52;72H\[1m\[7m3,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  74 \[m72:e2:be:03:fa:a2:4b:14:a2:ca:ce:a2:e2:ac:98:98 hadoop@hadoop-slave3\[1m\[31m\\r\[m\[52;72H\[1m\[7m4,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  75 \[mThe key's randomart image is:\[1m\[31m\\r\[m\[52;72H\[1m\[7m5,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  76 \[m+--\[1m\[31m\\\[\[m RSA 2048\[1m\[31m\\\]\[m----+\[1m\[31m\\r\[m\[52;72H\[1m\[7m6,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  77 \[m|\[17C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m7,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  78 \[m|\[17C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m8,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  79 \[m|..\[15C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m9,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  80 \[m|o .\[14C|\[1m\[31m\\r\[m\[52;71H\[1m\[7m80,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  81 \[m|..    o S\[8C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m1,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  82 \[m|+   .. +\[9C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m2,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  83 \[m|.o . ..\[10C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m3,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  84 \[m|Xoo  ..\[10C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m4,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  85 \[m|EB o. oo\[9C|\[1m\[31m\\r\[m\[52;72H\[1m\[7m5,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  86 \[m+-----------------+\[1m\[31m\\r\[m\[52;72H\[1m\[7m6,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m  87 \[m\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\[1m\[31m\\\[\[mroot@hadoop-slave22\[51;1H\[1m\[33m     \[m tools\[1m\[31m\\\]\[m# \"\[52;72H\[1m\[7m7,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m  88 send\[m -- \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@1333\[51;1H\[1m\[33m     \[m.133.135.34\[1m\[31m\\\"\[m\"\[52;72H\[1m\[7m8,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m  89 expect\[m -exact \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.p \[1m\[31m\\r\[mub hh\[51;1H\[1m\[33m     \[madoop@133.133.135.34\[1m\[31m\\\"\[m\"\[52;72H\[1m\[7m9,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  90 send\[m -- \"\[1m\[31m\\r\[m\"\[52;71H\[1m\[7m90,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  91 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m1,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  92 \[mhadoop@133.133.131.18's password: \"\[52;72H\[1m\[7m2,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  93 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m3,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  94 expect\[m -exact \"\[1m\[31m\\r\[m\[52;72H\[1m\[7m4,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m  95 \[mThe authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\[1m\[31m\\r\[m\r
\[1m\[33m  96 \[mECDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\[1m\[31m\\r\[m\[52;72H\[1m\[7m5,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[51;6H\[52;72H\[1m\[7m6,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  97 \[mAre you sure you want to continue connecting (yes/no)? \"\[52;72H\[1m\[7m7,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  98 send\[m -- \"yes\[1m\[31m\\r\[m\"\[52;72H\[1m\[7m8,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m  99 expect\[m -exact \"yes\[1m\[31m\\r\[m\[52;72H\[1m\[7m9,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m 100 \[m/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter outt\[51;1H\[1m\[33m     \[m any that are already installed\[1m\[31m\\r\[m\[52;71H\[1m\[7m100,1\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m 101 \[m/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted  \[51;1H\[1m\[33m     \[mnow it is to install the new keys\[1m\[31m\\r\[m\[52;73H\[1m\[7m1,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 102 \[mhadoop@133.133.135.34's password: \"\[52;73H\[1m\[7m2,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 103 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[52;73H\[1m\[7m3,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 104 expect\[m -exact \"\[1m\[31m\\r\[m\[52;73H\[1m\[7m4,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 105 \[m\[1m\[31m\\r\[m\[52;73H\[1m\[7m5,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 106 \[mNumber of key(s) added: 1\[1m\[31m\\r\[m\[52;73H\[1m\[7m6,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 107 \[m\[1m\[31m\\r\[m\[52;73H\[1m\[7m7,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 108 \[mNow try logging into the machine, with:   \[1m\[31m\\\"\[mssh 'hadoop@133.133.135.34'\[1m\[31m\\\"\\r\[m\[52;73H\[1m\[7m8,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 109 \[mand check to make sure that only the key(s) you wanted were added.\[1m\[31m\\r\[m\[52;73H\[1m\[7m9,\[12C1%\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 110 \[m\[1m\[31m\\r\[m\[52;72H\[1m\[7m10,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 111 \[mConnection to 133.133.131.18 closed.\[1m\[31m\\r\\r\[m\[52;73H\[1m\[7m1,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m 112 \[m\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\[1m\[31m\\\[\[mroot@hadoop-slave22\[51;1H\[1m\[33m     \[m tools\[1m\[31m\\\]\[m# \"\[52;73H\[1m\[7m2,\[50;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[50;6H\[53;78H \[49;6H\[52;73H\[1m\[7m1,\[49;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[49;6H\[53;78H \[48;6H\[52;73H\[1m\[7m0,\[48;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[48;6H\[53;78H \[47;6H\[52;72H\[1m\[7m09,\[47;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[47;6H\[53;78H \[46;6H\[52;73H\[1m\[7m8,\[46;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[46;6H\[53;78H \[45;6H\[52;73H\[1m\[7m7,\[45;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[45;6H\[53;78H \[44;6H\[52;73H\[1m\[7m6,\[44;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[44;6H\[53;78H \[43;6H\[52;73H\[1m\[7m5,\[43;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[43;6H\[53;78H \[42;6H\[52;73H\[1m\[7m4,\[42;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[42;6H\[53;78H \[41;6H\[52;73H\[1m\[7m3,\[41;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[41;6H\[53;78H \[40;6H\[52;73H\[1m\[7m2,\[40;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[40;6H\[53;78H \[38;6H\[52;73H\[1m\[7m1,\[38;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[38;6H\[53;78H \[36;6H\[52;73H\[1m\[7m0,\[36;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[36;6H\[53;78H \[35;6H\[52;71H\[1m\[7m99,1  \[35;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[35;6H\[53;78H \[34;6H\[52;72H\[1m\[7m8,\[34;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[34;6H\[53;78H \[33;6H\[52;72H\[1m\[7m7,\[33;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[33;6H\[53;78H \[32;6H\[52;72H\[1m\[7m6,\[32;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[32;6H\[53;78H \[31;6H\[52;72H\[1m\[7m5,\[31;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[31;6H\[53;78H \[30;6H\[52;72H\[1m\[7m4,\[30;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[30;6H\[53;78H \[29;6H\[52;72H\[1m\[7m3,\[29;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[29;6H\[53;78H \[30;6H\[52;72H\[1m\[7m4,\[30;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[30;6H\[53;78H \[31;6H\[52;72H\[1m\[7m5,\[31;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[31;6H\[53;78H \[32;6H\[52;72H\[1m\[7m6,\[32;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[32;6H\[53;78H \[33;6H\[52;72H\[1m\[7m7,\[33;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[33;6H\[53;78H \[34;6H\[52;72H\[1m\[7m8,\[34;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[34;6H\[53;78H \[35;6H\[52;72H\[1m\[7m9,\[35;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[35;6H\[53;78H \[36;6H\[52;71H\[1m\[7m100,1\[36;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[36;6H\[53;78H \[38;6H\[52;73H\[1m\[7m1,\[38;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[38;6H\[53;78H \[40;6H\[52;73H\[1m\[7m2,\[40;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[40;6H\[53;78H \[41;6H\[52;73H\[1m\[7m3,\[41;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[41;6H\[53;78H \[42;6H\[52;73H\[1m\[7m4,\[42;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[42;6H\[53;78H \[43;6H\[52;73H\[1m\[7m5,\[43;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[43;6H\[53;78H \[44;6H\[52;73H\[1m\[7m6,\[44;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[44;6H\[53;78H \[45;6H\[52;73H\[1m\[7m7,\[45;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[45;6H\[53;78H \[46;6H\[52;73H\[1m\[7m8,\[46;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[46;6H\[53;78H \[47;6H\[52;73H\[1m\[7m9,\[47;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[47;6H\[53;78H \[48;6H\[52;72H\[1m\[7m10,\[48;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[48;6H\[53;78H \[49;6H\[52;73H\[1m\[7m1,\[49;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[49;6H\[53;78H \[50;6H\[52;73H\[1m\[7m2,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 113 send\[m -- \"ls\[1m\[31m\\r\[m\"\[52;73H\[1m\[7m3,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 114 expect\[m -exact \"ls\[1m\[31m\\r\[m\[52;73H\[1m\[7m4,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m 115 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32madd_user.exp\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[22C\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mjava_installer.shh\[51;1H\[1m\[33m     \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[52;73H\[1m\[7m5,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 116 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32madd_user.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[23C\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mlogin.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[52;73H\[1m\[7m6,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 117 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mcenter_displayer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[15C\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mlogout.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[52;73H\[1m\[7m7,\[51;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[51;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m 118 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mcgroup_configurer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[14C\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mnetwork_checker.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m00\[51;1H\[1m\[33m     \[mm\[1m\[31m\\r\[m\[52;73H\[1m\[7m8,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m 119 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mclear_walls.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[20C\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mpackage_installed_checkk\[51;1H\[1m\[33m     \[mer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[52;73H\[1m\[7m9,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m 120 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mcopy_ssh_key.exp\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[18C\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mpwd_free_ssh_generator..\[51;1H\[1m\[33m     \[mexp\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[52;72H\[1m\[7m20,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[50;6H\[1;51r\[1;1H\[2M\[1;53r\[50;1H\[1m\[33m 121 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mdistance_checker.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[15C\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mremote_directory_checkee\[51;1H\[1m\[33m     \[mr.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[52;73H\[1m\[7m1,\[50;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[50;6H\[53;78H \[51;6H\[1;51r\[51;1H\r
\[1;53r\[51;1H\[1m\[33m 122 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mgit_initilizer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[17C\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mroot_checker.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[52;73H\[1m\[7m2,\[51;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[51;6H\[53;78H \[49;6H\[52;73H\[1m\[7m1,\[49;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[49;6H\[53;78H \[47;6H\[52;73H\[1m\[7m0,\[47;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[47;6H\[53;78H \[45;6H\[52;72H\[1m\[7m19,\[45;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[45;6H\[53;78H \[43;6H\[52;73H\[1m\[7m8,\[43;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[43;6H\[53;78H \[42;6H\[52;73H\[1m\[7m7,\[42;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[42;6H\[53;78H \[41;6H\[52;73H\[1m\[7m6,\[41;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[41;6H\[53;78H \[39;6H\[52;73H\[1m\[7m5,\[39;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[39;6H\[53;78H \[38;6H\[52;73H\[1m\[7m4,\[38;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[38;6H\[53;78H \[37;6H\[52;73H\[1m\[7m3,\[37;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[37;6H\[53;78H \[35;6H\[52;73H\[1m\[7m2,\[35;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[35;6H\[53;78H \[34;6H\[52;73H\[1m\[7m1,\[34;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[34;6H\[53;78H \[33;6H\[52;73H\[1m\[7m0,\[33;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[33;6H\[53;78H \[32;6H\[52;72H\[1m\[7m09,\[32;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[32;6H\[53;78H \[31;6H\[52;73H\[1m\[7m8,\[31;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[31;6H\[53;78H \[30;6H\[52;73H\[1m\[7m7,\[30;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[30;6H\[53;78H \[29;6H\[52;73H\[1m\[7m6,\[29;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[29;6H\[53;78H \[28;6H\[52;73H\[1m\[7m5,\[28;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[28;6H\[53;78H \[27;6H\[52;73H\[1m\[7m4,\[27;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[27;6H\[53;78H \[26;6H\[52;73H\[1m\[7m3,\[26;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[26;6H\[53;78H \[25;6H\[52;73H\[1m\[7m2,\[25;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[25;6H\[53;78H \[23;6H\[52;73H\[1m\[7m1,\[23;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[23;6H\[53;78H \[21;6H\[52;73H\[1m\[7m0,\[21;6H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[21;6H\[53;78H \[20;6H\[52;71H\[1m\[7m99,1  \[20;6H\[?12l\[?25h"
send -- "V"
expect -exact "\[?25l\[m\[53;78HV\[20;6H\[53;78H1\[20;6H\[1C\[1m\[7m\[33mxpect\[m\[7m -exact \"yes\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[53;1H\[1m-- VISUAL LINE --\[m\[53;78H\[K\[53;78H1\[20;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[20;6H\[53;78H2\[21;6H\[20;6H\[1m\[7m\[33mexpect\[m\[7m \[21;7Husr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter outt\[m\[22;1H\[1m\[33m \[m\[4C\[7m any that are already installed\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[52;71H\[1m\[7m100,1\[21;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[21;6H\[53;78H3\[23;6H\[21;6H\[7m/\[81Ctt\[m\[22;1H\[1m\[33m \[m\[23;7H\[7musr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted  \[m\[24;1H\[1m\[33m \[m\[4C\[7mnow it is to install the new keys\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[52;73H\[1m\[7m1,\[23;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;6H\[53;78H4\[25;6H\[23;6H\[7m/\[81C  \[m\[24;1H\[1m\[33m \[m\[25;7H\[7madoop@133.133.135.34's password: \" \[m\[52;73H\[1m\[7m2,\[25;6H\[?12l\[?25h"
send -- "y"
expect -exact "\[?25l\[m\[53;78Hy\[25;6H\[20;6H\[1m\[33mexpect\[m -exact \"yes\[1m\[31m\\r\[m\[20;26H\[K\[21;6H/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter outt\[22;1H\[1m\[33m \[m\[4C any that are already installed\[1m\[31m\\r\[m\[22;39H\[K\[23;6H/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted  \[24;1H\[1m\[33m \[m\[4Cnow it is to install the new keys\[1m\[31m\\r\[m\[24;41H\[K\[25;7Hadoop@133.133.135.34's password: \"\[25;41H\[K\[53;1H\[K\[53;1H4 lines yanked\[20;6H\[52;71H\[1m\[7m99,1  \[20;6H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[20;6H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "b"
expect -exact "b\[?25l\[?12l\[?25h"
send -- "p"
expect -exact "p\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[22;5H\[1;3H\[1m\[33m1 \[m\[1m\[34m#!/usr/bin/expect\[m\[1;24H\[K\[2;3H\[1m\[33m2 \[m\[2;5H\[K\[3;3H\[1m\[33m3 \[m\[1m\[36m#exp_internal 1\[m\[3;24H\[K\[4;3H\[1m\[33m4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\[5;3H\[1m\[33m5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\[5;34H\[K\[6;3H\[1m\[33m6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\[7;3H\[1m\[33m7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\[7;32H\[K\[8;3H\[1m\[33m8 \[m\[8;5H\[K\[9;3H\[1m\[33m9 \[mset timeout -1\[9;20H\[K\[10;2H\[1m\[33m10 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m\[11;2H\[1m\[33m11 expect\[m  {\[11;14H\[K\[12;2H\[1m\[33m12 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[13;2H\[1m\[33m13 \[m    \"yes/no\" {\[13;19H\[K\[14;2H\[1m\[33m14 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[15;2H\[1m\[33m15 \[m        \[1m\[33mexp_continue\r
 16 \[m    }\[16;10H\[K\[17;2H\[1m\[33m17 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[17;55H\[K\[18;2H\[1m\[33m18 \[m    \"password:\" {\[18;23H\[K\[19;2H\[1m\[33m19 \[m        \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\"\[20;2H\[1m\[33m20 \[m    }\[20;10H\[K\[21;2H\[1m\[33m21 \[m}\[21;6H\[K\[22;2H\[1m\[33m22 expect\[m \"\$ \"\[22;16H\[K\[23;2H\[1m\[33m23 send\[m -- \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\\r\[m\"\[23;69H\[K\[24;2H\[1m\[33m24 expect\[m  {\[24;14H\[K\[25;2H\[1m\[33m25 \[m    \"yes/no\" {\[25;19H\[K\[26;2H\[1m\[33m26 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[27;2H\[1m\[33m27 \[m        \[1m\[33mexp_continue\r
 28 \[m    }\[29;2H\[1m\[33m29 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[30;2H\[1m\[33m30 \[m}\[30;6H\[K\[31;1H\[1m\[34m~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp\[54C22,\[12CAll\[m\[53;1H\"copy_ssh_key.exp\" 30 lines --73%--\[22;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[22;5H\[53;78H \[23;5H\[52;72H\[1m\[7m3,\[23;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;5H\[53;78H \[24;5H\[52;72H\[1m\[7m4,\[24;5H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[24;5H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "b"
expect -exact "b\[?25l\[?12l\[?25h"
send -- "n"
expect -exact "n\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[?1002l\r
\[1m\[32mW11: Warning: File \"script.exp\" has changed since editing started\[m\r\r
\[1m\[32mSee \":help W11\" for more info.\[m\r\r
\[1m\[32m\[O\]K, (L)oad File: \[?12l\[?25h"
send -- "\r"
expect -exact "\[?1002h\[m\[53;1H\[K\[?25l\[25;6H\[1;1H\[3L\[1;1H\[1m\[33m  78 \[m|\[17C|\[1m\[31m\\r\[m\r
\[1m\[33m  79 \[m|..\[15C|\[1m\[31m\\r\[m\r
\[1m\[33m  80 \[m|o .\[14C|\[1m\[31m\\r\[m\[4;3H\[1m\[33m81 \[m|..    o S        |\[1m\[31m\\r\[m\[4;27H\[K\[5;3H\[1m\[33m82 \[m|+   .. +         |\[1m\[31m\\r\[m\[5;27H\[K\[6;3H\[1m\[33m83 \[m|.o . ..          |\[1m\[31m\\r\[m\[6;27H\[K\[7;3H\[1m\[33m84 \[m|Xoo  ..          |\[1m\[31m\\r\[m\[7;27H\[K\[8;4H\[1m\[33m5 \[m|EB o. oo\[9C|\[1m\[31m\\r\[m\[9;3H\[1m\[33m86 \[m+-----------------+\[1m\[31m\\r\[m\[10;2H\[1m\[33m 87 \[m\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\[1m\[31m\\\[\[mroot@hadoop-slave22\[11;1H\[1m\[33m     \[m tools\[1m\[31m\\\]\[m# \"\[12;2H\[1m\[33m 88 send\[m -- \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.pub hadoop@1333\[13;1H\[1m\[33m     \[m.133.135.34\[1m\[31m\\\"\[m\"\[14;2H\[1m\[33m 89 expect\[m -exact \"ssh -t hadoop@133.133.131.18 \[1m\[31m\\\"\[mssh-copy-id -i ~/.ssh/id_rsa.p \[1m\[31m\\r\[mub hh\[15;1H\[1m\[33m     \[madoop@133.133.135.34\[1m\[31m\\\"\[m\"\[16;2H\[1m\[33m 90 send\[m -- \"\[1m\[31m\\r\[m\"\[17;2H\[1m\[33m 91 expect\[m -exact \"\[1m\[31m\\r\[m\[17;23H\[K\[18;2H\[1m\[33m 92 \[mhadoop@133.133.131.18's password: \"\[19;2H\[1m\[33m 93 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[19;24H\[K\[20;2H\[1m\[33m 94 expect\[m -exact \"\[1m\[31m\\r\[m\[21;2H\[1m\[33m 95 \[mThe authenticity of host '133.133.135.34 (133.133.135.34)' can't be established.\[1m\[31m\\r\[m\[22;2H\[1m\[33m 96 \[mECDSA key fingerprint is 91:48:f4:bc:f7:54:f6:f7:f0:02:2f:a8:e9:8c:cf:b6.\[1m\[31m\\r\[m\[23;2H\[1m\[33m 97 \[mAre you sure you want to continue connecting (yes/no)? \"\[23;62H\[K\[24;2H\[1m\[33m 98 send\[m -- \"yes\[1m\[31m\\r\[m\"\[25;2H\[1m\[33m 99 expect\[m -exact \"yes\[1m\[31m\\r\[m\[26;2H\[1m\[33m100 \[m/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter outt\[27;1H\[1m\[33m     \[m any that are already installed\[1m\[31m\\r\[m\[28;2H\[1m\[33m101 \[m/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted  \[29;1H\[1m\[33m     \[mnow it is to install the new keys\[1m\[31m\\r\[m\[29;41H\[K\[30;2H\[1m\[33m102 \[mhadoop@133.133.135.34's password: \"\r
\[1m\[33m 103 send\[m -- \"onceas\[1m\[31m\\r\[m\"\[31;24H\[K\[32;1H\[1m\[33m 104 expect\[m -exact \"\[1m\[31m\\r\[m\[32;23H\[K\[33;1H\[1m\[33m 105 \[m\[1m\[31m\\r\[m\[33;8H\[K\[34;1H\[1m\[33m 106 \[mNumber of key(s) added: 1\[1m\[31m\\r\[m\[34;33H\[K\[35;1H\[1m\[33m 107 \[m\[1m\[31m\\r\[m\[35;8H\[K\[36;1H\[1m\[33m 108 \[mNow try logging into the machine, with:   \[1m\[31m\\\"\[mssh 'hadoop@133.133.135.34'\[1m\[31m\\\"\\r\[m\[36;81H\[K\[37;1H\[1m\[33m 109 \[mand check to make sure that only the key(s) you wanted were added.\[1m\[31m\\r\[m\[37;74H\[K\[38;1H\[1m\[33m 110 \[m\[1m\[31m\\r\[m\[38;8H\[K\[39;1H\[1m\[33m 111 \[mConnection to 133.133.131.18 closed.\[1m\[31m\\r\\r\[m\[39;46H\[K\[40;1H\[1m\[33m 112 \[m\[1m\[34m^\[\[m\[1m\[31m\\\]\[m0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[1m\[34m^G\[m\[1m\[31m\\\[\[mroot@hadoop-slave22\[41;1H\[1m\[33m     \[m tools\[1m\[31m\\\]\[m# \"\[41;17H\[K\[42;1H\[1m\[33m 113 send\[m -- \"ls\[1m\[31m\\r\[m\"\[42;20H\[K\[43;1H\[1m\[33m 114 expect\[m -exact \"ls\[1m\[31m\\r\[m\[43;25H\[K\[44;1H\[1m\[33m 115 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32madd_user.exp\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                      \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mjava_installer.shh\[45;1H\[1m\[33m     \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[45;14H\[K\[46;1H\[1m\[33m 116 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32madd_user.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                       \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mlogin.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[46;82H\[K\[47;1H\[1m\[33m 117 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mcenter_displayer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m               \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mlogout.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[47;83H\[K\[48;1H\[1m\[33m 118 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mcgroup_configurer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m              \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mnetwork_checker.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m00\[49;1H\[1m\[33m     \[mm\[1m\[31m\\r\[m\[49;9H\[K\[50;1H\[1m\[33m 119 \[m\[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mclear_walls.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m                    \[1m\[34m^\[\[m\[1m\[31m\\\[\[m01;32mpackage_installed_checkk\[51;1H\[1m\[33m     \[mer.sh\[1m\[34m^\[\[m\[1m\[31m\\\[\[m0m\[1m\[31m\\r\[m\[51;19H\[K\[52;1H\[1m\[7mscript.expe       \[53C99,\[12C 1%\[m\[53;1H\[K\[53;1H\"script.exp\" 6310 lines --1%--\[25;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[25;6H\[53;78H \[26;6H\[52;71H\[1m\[7m100,1\[26;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;6H\[53;78H \[28;6H\[52;73H\[1m\[7m1,\[28;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[28;6H\[53;78H \[30;6H\[52;73H\[1m\[7m2,\[30;6H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[30;6H\[53;78H \[31;6H\[52;73H\[1m\[7m3,\[31;6H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[31;6H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "b"
expect -exact "b\[?25l\[?12l\[?25h"
send -- "p"
expect -exact "p\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\[?25l\[24;5H\[1;3H\[1m\[33m1 \[m\[1m\[34m#!/usr/bin/expect\[m\[1;24H\[K\[2;3H\[1m\[33m2 \[m\[2;5H\[K\[3;3H\[1m\[33m3 \[m\[1m\[36m#exp_internal 1\[m\[3;24H\[K\[4;3H\[1m\[33m4 \[mset user_name \[lindex \[1m\[31m\$argv\[m 0\]\[5;3H\[1m\[33m5 \[mset password \[lindex \[1m\[31m\$argv\[m 1\]\[6;3H\[1m\[33m6 \[mset client \[lindex \[1m\[31m\$argv\[m 2\]\[7;3H\[1m\[33m7 \[mset server \[lindex \[1m\[31m\$argv\[m 3\]\[8;4H\[1m\[33m \[m\[8;5H\[K\[9;3H\[1m\[33m9 \[mset timeout -1\[9;19H\[K\[10;2H\[1m\[33m10 spawn\[m ssh -t \[1m\[31m\$user_name\[m@\[1m\[31m\$client\[m \[10;37H\[K\[11;2H\[1m\[33m11 expect\[m  {\[11;14H\[K\[12;2H\[1m\[33m12 \[m    \[1m\[36m# first connection, no public key in ~/.ssh/known_hosts\[m\[12;64H\[K\[13;2H\[1m\[33m13 \[m    \"yes/no\" {\[13;19H\[K\[14;2H\[1m\[33m14 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[14;28H\[K\[15;2H\[1m\[33m15 \[m        \[1m\[33mexp_continue\[m\[15;25H\[K\[16;2H\[1m\[33m16 \[m    }\[16;11H\[K\[17;2H\[1m\[33m17 \[m    \[1m\[36m# already has public key in ~/.ssh/known_hosts\[m\[18;2H\[1m\[33m18 \[m    \"password:\" { \[18;23H\[K\[19;2H\[1m\[33m19 \[m        \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\"\[20;2H\[1m\[33m20 \[m    }\[20;10H\[K\[21;2H\[1m\[33m21 \[m}\[21;6H\[K\[22;2H\[1m\[33m22 expect\[m \"\$ \"\[22;16H\[K\[23;2H\[1m\[33m23 send\[m -- \"ssh-copy-id -i ~/.ssh/id_rsa.pub \[1m\[31m\$user_name\[m@\[1m\[31m\$server\\r\[m\"\[24;2H\[1m\[33m24 expect\[m  {\[24;14H\[K\[25;2H\[1m\[33m25 \[m    \"yes/no\" {\[25;20H\[K\[26;2H\[1m\[33m26 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[26;28H\[K\[27;2H\[1m\[33m27 \[m        \[1m\[33mexp_continue\[m\[27;25H\[K\[28;2H\[1m\[33m28 \[m    }\[28;10H\[K\[29;2H\[1m\[33m29 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[30;2H\[1m\[33m30 \[m}\[30;6H\[K\[31;1H\[1m\[34m~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[37;1H~                                                                                       \[38;1H~                                                                                       \[39;1H~                                                                                       \[40;1H~                                                                                       \[41;1H~                                                                                       \[42;1H~                                                                                       \[43;1H~                                                                                       \[44;1H~                                                                                       \[45;1H~                                                                                       \[46;1H~                                                                                       \[47;1H~                                                                                       \[48;1H~                                                                                       \[49;1H~                                                                                       \[50;1H~                                                                                       \[51;1H~                                                                                       \[m\[52;1H\[1m\[7mcopy_ssh_key.exp\[54C24,1  \[9CAll\[m\[53;1H\"copy_ssh_key.exp\" 30 lines --80%--\[24;5H\[?12l\[?25h"
send -- "p"
expect -exact "\[?25l\[53;78Hp\[24;5H\[53;1H4 more lines\[53;13H\[K\[25;5H\[1m\[33mexpect\[m -exact \"yes\[1m\[31m\\r\[m\[26;5H/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out  \[27;1H\[1m\[33m    \[many that are already installed\[1m\[31m\\r\[m\[28;3H\[1m\[33m7 \[m/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted nn\[29;1H\[1m\[33m    \[mow it is to install the new keys\[1m\[31m\\r\[m\[29;39H\[K\[30;2H\[1m\[33m28 \[mhadoop@133.133.135.34's password: \"\r
\[1m\[33m 29 \[m    \"yes/no\" {\[31;19H\[K\[32;1H\[1m\[33m 30 \[m        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[32;28H\[K\[33;1H\[1m\[33m 31 \[m        \[1m\[33mexp_continue\[m\[33;25H\[K\[34;1H\[1m\[33m 32 \[m    }\[34;10H\[K\[35;1H\[1m\[33m 33 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[35;46H\[K\[36;1H\[1m\[33m 34 \[m}\[36;6H\[K\[52;18H\[1m\[7m\[+\]\[51C5,\[25;5H\[?12l\[?25h"
send -- "V"
expect -exact "\[?25l\[m\[53;78HV\[25;5H\[53;78H1\[25;5H\[1C\[1m\[7m\[33mxpect\[m\[7m -exact \"yes\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[53;1H\[1m-- VISUAL LINE --\[m\[53;78H\[K\[53;78H1\[25;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[53;78Hj\[25;5H\[53;78H2\[26;5H\[25;5H\[1m\[7m\[33mexpect\[m\[7m \[26;6Husr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out  \[m\[27;1H\[1m\[33m \[m\[3C\[7many that are already installed\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[52;72H\[1m\[7m6,\[26;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;5H\[53;78H3\[28;5H\[26;5H\[7m/\[82C  \[m\[27;1H\[1m\[33m \[m\[28;6H\[7musr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted nn\[m\[29;1H\[1m\[33m \[m\[3C\[7mow it is to install the new keys\[m\[1m\[7m\[31m\\r\[m\[7m \[m\[52;72H\[1m\[7m7,\[28;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[28;5H\[53;78H4\[30;5H\[28;5H\[7m/\[82Cnn\[m\[29;1H\[1m\[33m \[m\[30;6H\[7madoop@133.133.135.34's password: \" \[m\[52;72H\[1m\[7m8,\[30;5H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[30;5H\[53;78H5\[31;5H\[30;5H\[7mh\[31;6H   \"yes/no\" { \[m\[52;72H\[1m\[7m9,\[31;5H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[31;5H\[53;78H4\[30;5Hh\[31;6H   \"yes/no\" {\[31;19H\[K\[52;72H\[1m\[7m8,\[30;5H\[?12l\[?25h"
send -- "d"
expect -exact "\[?25l\[m\[53;78Hd\[30;5H\[53;1H4 fewer lines\[1mE\[m\[53;14H\[K\[25;9H    \"yes/no\" {\[25;19H\[K\[26;5H        \[1m\[33msend\[m -- \"yes\[1m\[31m\\r\[m\"\[26;28H\[K\[27;2H\[1m\[33m27 \[m        \[1m\[33mexp_continue\[m\[27;25H\[K\[28;3H\[1m\[33m8 \[m    }\[28;10H\[K\[29;2H\[1m\[33m29 \[m    \"password:\" { \[1m\[33msend\[m -- \"\[1m\[31m\$password\\r\[m\" }\[30;2H\[1m\[33m30 \[m}\[30;6H\[K\[31;1H\[1m\[34m~                                                                                       \[32;1H~                                                                                       \[33;1H~                                                                                       \[34;1H~                                                                                       \[35;1H~                                                                                       \[36;1H~                                                                                       \[m\[52;72H\[1m\[7m5,5 \[25;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[25;9H\[53;78H \[24;9H\[52;72H\[1m\[7m4,\[24;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[24;9H\[53;78H \[23;9H\[52;72H\[1m\[7m3,\[23;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;9H\[53;78H \[24;9H\[52;72H\[1m\[7m4,\[24;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[24;9H\[53;78H \[25;9H\[52;72H\[1m\[7m5,\[25;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[25;9H\[53;78H \[24;9H\[52;72H\[1m\[7m4,\[24;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[24;9H\[53;78H \[23;9H\[52;72H\[1m\[7m3,\[23;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[23;9H\[53;78H \[24;9H\[52;72H\[1m\[7m4,\[24;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[24;9H\[53;78H \[25;9H\[52;72H\[1m\[7m5,\[25;9H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[m\[53;78H:\[25;9H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\"copy_ssh_key.exp\" 30L, 642C written\[25;9H\[52;18H\[1m\[7m    \[25;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[25;9H\[53;78H \[26;9H\[52;72H\[1m\[7m6,\[26;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[26;9H\[53;78H \[27;9H\[52;72H\[1m\[7m7,\[27;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[27;9H\[53;78H \[28;9H\[25;18H\[46m{\[28;9H}\[m\[52;72H\[1m\[7m8,\[28;9H\[?12l\[?25h"
send -- "j"
expect -exact "\[?25l\[m\[53;78Hj\[28;9H\[53;78H \[29;9H\[25;18H{\[28;9H}\[52;72H\[1m\[7m9,\[29;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[29;9H\[53;78H \[28;9H\[25;18H\[46m{\[28;9H}\[m\[52;72H\[1m\[7m8,\[28;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[28;9H\[53;78H \[27;9H\[25;18H{\[28;9H}\[52;72H\[1m\[7m7,\[27;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[27;9H\[53;78H \[26;9H\[52;72H\[1m\[7m6,\[26;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[26;9H\[53;78H \[25;9H\[52;72H\[1m\[7m5,\[25;9H\[?12l\[?25h"
send -- "k"
expect -exact "\[?25l\[m\[53;78Hk\[25;9H\[53;78H \[24;9H\[52;72H\[1m\[7m4,\[24;9H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[24;9H\[53;78H \[24;10H\[52;74H\[1m\[7m6 \[24;10H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[24;10H\[53;78H \[24;11H\[52;74H\[1m\[7m7 \[24;11H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[24;11H\[53;78H \[24;12H\[52;74H\[1m\[7m8 \[24;12H\[?12l\[?25h"
send -- "l"
expect -exact "\[?25l\[m\[53;78Hl\[24;12H\[53;78H \[24;13H\[46m{\[30;5H}\[m\[52;74H\[1m\[7m9 \[24;13H\[?12l\[?25h"
send -- "\[15~"
expect -exact "\[?25l\[m\[53;78H^\[\[24;13H\[53;80H\[\[24;13H\[53;81H1\[24;13H\[?12l\[?25h\[?25l\[53;78H    \[24;13H\[53;78H~@k\[24;13H\[53;78H   \[24;13H\[?12l\[?25h"
send -- "\[M T9"
expect -exact "\[?25l\[53;78H^\[\[24;13H\[53;80H\[\[24;13H\[53;81HM\[24;13H\[?12l\[?25h\[?25l\[53;78H    \[24;13H\[53;78H^\[\[24;13H\[53;80H\[\[24;13H\[53;81HM\[24;13H\[53;82H<20>\[24;13H\[53;86HT\[24;13H\[?12l\[?25h\[?25l\[53;78H         \[24;13H{\[25;18H\[46m{\[28;9H}\[m\[30;5H}\[52;72H\[1m\[7m5,14\[25;18H\[?12l\[?25h"
send -- "\[M@T9"
expect -exact "\[?25l\[m\[53;78H^\[\[25;18H\[53;80H\[\[25;18H\[53;81HM\[25;18H\[?12l\[?25h\[?25l\[53;78H    \[25;18H\[53;78H^\[\[25;18H\[53;80H\[\[25;18H\[53;81HM\[25;18H\[53;82H@\[25;18H\[?12l\[?25h\[?25l\[53;78H     \[25;18H\[?12l\[?25h"
send -- "\[M@T9"
expect -exact "\[?25l\[53;78H^\[\[25;18H\[53;80H\[\[25;18H\[53;81HM\[25;18H\[53;82H@\[25;18H\[?12l\[?25h\[?25l\[53;78H     \[25;18H\[?12l\[?25h"
send -- "\[M@T9"
expect -exact "\[?25l\[53;78H^\[\[25;18H\[53;80H\[\[25;18H\[53;81HM\[25;18H\[?12l\[?25h\[?25l\[53;78H    \[25;18H\[53;78H^\[\[25;18H\[53;80H\[\[25;18H\[53;81HM\[25;18H\[53;82H@\[25;18H\[?12l\[?25h\[?25l\[53;78H     \[25;18H\[?12l\[?25h"
send -- "\[M@T9"
expect -exact "\[?25l\[53;78H^\[\[25;18H\[53;80H\[\[25;18H\[53;81HM\[25;18H\[53;82H@\[25;18H\[?12l\[?25h\[?25l\[53;78H     \[25;18H\[?12l\[?25h"
send -- "\[M@T9"
expect -exact "\[?25l\[53;78H^\[\[25;18H\[53;80H\[\[25;18H\[53;81HM\[25;18H\[?12l\[?25h\[?25l\[53;78H    \[25;18H\[53;78H^\[\[25;18H\[53;80H\[\[25;18H\[53;81HM\[25;18H\[53;82H@\[25;18H\[?12l\[?25h\[?25l\[53;78H     \[25;18H\[?12l\[?25h"
send -- "\[M@T9"
expect -exact "\[?25l\[53;78H^\[\[25;18H\[53;80H\[\[25;18H\[53;81HM\[25;18H\[53;82H@\[25;18H\[?12l\[?25h\[?25l\[53;78H     \[25;18H\[?12l\[?25h"
send -- "\[M@T9"
expect -exact "\[?25l\[53;78H^\[\[25;18H\[53;80H\[\[25;18H\[53;81HM\[25;18H\[53;82H@\[25;18H\[?12l\[?25h\[?25l\[53;78H     \[25;18H\[?12l\[?25h"
send -- "\[M@T9"
expect -exact "\[?25l\[53;78H^\[\[25;18H\[53;80H\[\[25;18H\[53;81HM\[25;18H\[53;82H@\[25;18H\[?12l\[?25h\[?25l\[53;78H     \[25;18H\[?12l\[?25h"
send -- "\[M@T9\[M#T9"
expect -exact "\[?25l\[53;78H^\[\[25;18H\[53;80H\[\[25;18H\[53;81HM\[25;18H\[53;82H@\[25;18H\[?12l\[?25h\[?25l\[53;78H     \[25;18H\[?12l\[?25h\[?25l\[53;78H^\[\[25;18H\[53;80H\[\[25;18H\[53;81HM\[25;18H\[?12l\[?25h\[?25l\[53;78H    \[25;18H\[53;78H^\[\[25;18H\[53;80H\[\[25;18H\[53;81HM\[25;18H\[53;82H#\[25;18H\[?12l\[?25h\[?25l\[53;78H     \[25;18H\[?12l\[?25h"
send -- ":"
expect -exact "\[?25l\[53;78H:\[25;18H\[53;1H\[K\[53;1H:\[?12l\[?25h"
send -- "w"
expect -exact "w\[?25l\[?12l\[?25h"
send -- "q"
expect -exact "q\[?25l\[?12l\[?25h"
send -- "\r"
expect -exact "\r\[?25l\[?1002l\"copy_ssh_key.exp\" 30L, 642C written\r\r\r
\[?1l>\[?12l\[?25h\[?1049l\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer/tools\[root@hadoop-slave2 tools\]# "
send -- "cd ..\r"
expect -exact "cd ..\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer\[root@hadoop-slave2 HadoopInitializer\]# "
send -- "ls\r"
expect -exact "ls\r
\[0m\[01;32mconf_loader.sh\[0m  \[34;42metc\[0m  \[34;42mhadoop\[0m  \[01;32minstall.sh\[0m  \[01;32mLICENSE\[0m  \[01;32mREADME.md\[0m  \[01;32mtester.sh\[0m  \[34;42mtools\[0m\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer\[root@hadoop-slave2 HadoopInitializer\]# "
send -- "git status\r"
expect -exact "git status\r
# On branch master\r
# Changes not staged for commit:\r
#   (use \"git add <file>...\" to update what will be committed)\r
#   (use \"git checkout -- <file>...\" to discard changes in working directory)\r
#\r
#	modified:   etc/args.conf\r
#	modified:   etc/env.conf\r
#	modified:   tools/copy_ssh_key.exp\r
#	modified:   tools/test.exp\r
#	modified:   tools/user_checker.sh\r
#\r
# Untracked files:\r
#   (use \"git add <file>...\" to include in what will be committed)\r
#\r
#	tools/pwd_free_ssh_generator.exp\r
#	tools/script.exp\r
#	tools/ssh_login_pwd_freer.exp\r
no changes added to commit (use \"git add\" and/or \"git commit -a\")\r
\]0;root@hadoop-slave2:/home/hadoop/HadoopInitializer\[root@hadoop-slave2 HadoopInitializer\]# "
send -- "git add."
expect -exact "git add.\[K"
send -- " .